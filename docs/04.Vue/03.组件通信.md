---
title: 组件通信
date: 2021-11-28 19:51:49
permalink: /pages/43f778/
---
# 组件通信

>父子

- 父组件通过`props`向子组件传递数据，父组件在子组件上注册监听事件，子组件通过 `emit` 触发事件来向父组件发送数据

- 通过`refs`给子组件设置名字，父组件通过`$refs`获得子组件(`$children` 无序数组)，子组件通过`$parent`获得上一级父组件(对象)，实现通信 在根组件`#app`上拿`$parent`得到的是`new Vue()`的实例，在这实例上再拿`$parent`得到的是`undefined`，而在最底层的子组件拿`$children`是个空数组

- `provide/inject`在父组件通过`provide`提供变量，在子组件通过`inject`注入到组件中，适用于祖孙组件

>兄弟

- 使用`eventBus`，创建一个空的`Vue`实例作为消息传递的对象，通信的组件引入这个实例，通信组件通过实例监听和触发事件，实现通信
- 通过`$parent/$refs`获取兄弟组件

---
title: 单调栈
date: 2021-12-22 15:21:36
permalink: /pages/8b4533/
---
# 单调栈

## lc402. 移除掉`k`位数字<Badge text="中等" vertical="top"/>

::: tip 题目描述



给你一个以字符串表示的非负整数 `num` 和一个整数 `k` ，移除这个数中的`k` 位数字，使得剩下的数字最小。请你以字符串形式返回这个最小的数字。

:::

```
示例 1 ：

输入：num = "1432219", k = 3
输出："1219"
解释：移除掉三个数字 4, 3, 和 2 形成一个新的最小的数字 1219 。
```

```
示例 2 ：

输入：num = "10200", k = 1
输出："200"
解释：移掉首位的 1 剩下的数字为 200. 注意输出不能有任何前导零。
```

```
示例 3 ：

输入：num = "10", k = 2
输出："0"
解释：从原数字移除所有的数字，剩余为空就是 0 。
```

> 思路: 利用单调栈



![img](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202112221523377.png)



```javascript
/**
 * @param {string} num
 * @param {number} k
 * @return {string}
 */
var removeKdigits = function(num, k) {
    const stack = []
    for(let i = 0; i < num.length; i++) {
        while(k && num[i] < stack[stack.length - 1] && stack.length) {
            stack.pop()
            k--
        }
        stack.push(num[i])
    }

    // 一直进栈导致 k 还没变成 0 栈需要把最后几位出栈，凑齐删除k位  
    while(k--) {
        stack.pop()
    }

    // 去除先导零 
    while(stack.length && stack[0] === '0') {
        stack.shift()
    }
    
    const fi = stack.join('')
    return fi ? fi : '0'
};
```

## lc316. 去除重复字母<Badge text="中等" vertical="top"/>

:::tip 题目描述



给你一个字符串 `s` ，请你去除字符串中重复的字母，使得每个字母只出现一次。需保证 返回结果的字典序最小（要求不能打乱其他字符的相对位置）。

:::

```
示例 1：

输入：s = "bcabc"
输出："abc"

示例 2：

输入：s = "cbacdcbc"
输出："acdb"
```

> 思路

这道题的关键在于他要求的字典序最小



让我们以 `bcabc`为栗子



-  首先遍历到`b` `c`都是无重复的 入栈 
-  然后开始遍历`a`， 首先`a`是比`b` `c`都小的 

-  其次 如果要以`a`开头的话就得看看`a`后面还有没有`c` 
   -  如果有的话 那么可以放心大胆让栈顶的元素 先出栈(之后有`c`)
   -  如果没有的话栈顶元素不出栈




```javascript
/**
 * @param {string} s
 * @return {string}
 */
var removeDuplicateLetters = function(s) {
    const stack = []
    for(let i = 0; i < s.length; i++) {
        if(stack.indexOf(s[i]) > -1) continue

        while(stack.length && stack[stack.length - 1] > s[i] && s.indexOf(stack[stack.length - 1], i) > i) {
            stack.pop()
        }
        stack.push(s[i])
    }
    return stack.join('')
};
```




---
title: å›æº¯
date: 2022-02-07 11:57:22
permalink: /pages/b7cd38/
---

# å›æº¯



## lc46. å…¨æ’åˆ—<Badge text="ä¸­ç­‰" /><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ `nums` ï¼Œè¿”å›å…¶ **æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—** ã€‚ä½ å¯ä»¥ **æŒ‰ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0,1]
è¾“å‡ºï¼š[[0,1],[1,0]]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [1]
è¾“å‡ºï¼š[[1]]
```

> æ€è·¯

ç”±é¢˜å¯å¾—å¦‚æœç”¨æš´åŠ›æ³•é¢è¯•ä¼šè¢«ç›´æ¥æŒ‚æ‰ï¼Œæˆ–è€…ç®—æ³•è¶…æ—¶ï¼Œå¯ä»¥é‡‡ç”¨`dfs` + å›æº¯(æ’¤é”€)è¿›è¡Œè§£ç­”

![](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201171748355.png)

çœ‹äº†è¿™ä¸ªå›¾å°±å¯¹è¿™é“å…¨æ’åˆ—æ¯”è¾ƒç›´è§‚äº†ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸€å®šçš„è§£é¢˜æ¨¡ç‰ˆ

```
const result = []
function backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨) {
    if æ»¡è¶³ç»“æŸæ¡ä»¶:
        result.push(è·¯å¾„)
        return
    
    for é€‰æ‹© of é€‰æ‹©åˆ—è¡¨:
        åšé€‰æ‹©
        backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)
        æ’¤é”€é€‰æ‹©
}
```

> ä¸‹é¢å°±æ¥å¹²èµ·

```js
var permute = function(nums) {
  const res = []
  const backtrack = (number) => {
    if(number.length === nums.length) {
      res.push([...number])
      return 
    }
    for(let i = 0; i < nums.length; i++) {
      if(number.includes(nums[i])) {
        continue
      }
      number.push(nums[i])
      backtrack(number)
      number.pop()
    }
  }
  dfs([])
  return res
};
```

æ—¶é—´å¤æ‚åº¦:`O(nÃ—n!)`

å¯¹äº `backtrack` è°ƒç”¨çš„æ¬¡æ•°/æ¯ä¸ªå¶ç»“ç‚¹(æ¦‚ç‡è®ºé‡Œé¢çš„`C(n, k) = n! / (n - k)! `    å…± `n!` ä¸ª)ï¼Œæˆ‘ä»¬éœ€è¦å°†å½“å‰ç­”æ¡ˆä½¿ç”¨ `O(n)` çš„æ—¶é—´å¤åˆ¶åˆ°ç­”æ¡ˆæ•°ç»„ä¸­ï¼Œç›¸ä¹˜å¾—æ—¶é—´å¤æ‚åº¦ä¸º `O(nÃ—n!)`ã€‚

ç©ºé—´å¤æ‚åº¦ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` ä¸ºåºåˆ—çš„é•¿åº¦ã€‚é™¤ç­”æ¡ˆæ•°ç»„ä»¥å¤–ï¼Œé€’å½’å‡½æ•°åœ¨é€’å½’è¿‡ç¨‹ä¸­éœ€è¦ä¸ºæ¯ä¸€å±‚é€’å½’å‡½æ•°åˆ†é…æ ˆç©ºé—´ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦é¢å¤–çš„ç©ºé—´ä¸”è¯¥ç©ºé—´å–å†³äºé€’å½’çš„æ·±åº¦ï¼Œè¿™é‡Œå¯çŸ¥é€’å½’è°ƒç”¨æ·±åº¦ä¸º `O(n)`

## lc47. å…¨æ’åˆ— II<Badge text="ä¸­ç­‰" /><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ— `nums` ï¼Œ***æŒ‰ä»»æ„é¡ºåº*** è¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,2]
è¾“å‡ºï¼š
[[1,1,2],
 [1,2,1],
 [2,1,1]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
```

> æ€è·¯ï¼šå’Œå…¨æ’åˆ—ä¸€ ä¸€æ ·ä½†æ˜¯å¤šäº†å»é‡

```js
var permuteUnique = function(nums) {
  const res = [], visited = {}
  nums.sort((a, b) => a - b)
  const dfs = (track) => {
    if(track.length === nums.length) {
      res.push([...track])
      return
    }

    for(let i = 0; i < nums.length; i++) {
      if(visited[i]) continue
      if(i > 0 && nums[i] == nums[i - 1] && !visited[i - 1]) continue
      track.push(nums[i])
      visited[i] = true
      dfs(track)
      track.pop()
      visited[i] = false 
    }
  }
  dfs([])
  return [...res]
};
```

æ—¶é—´å¤æ‚åº¦:`O(nÃ—n!)`

ç©ºé—´å¤æ‚åº¦ï¼š`O(n)`

## å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—

:::tip é¢˜ç›®æè¿°

è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æ’åˆ—ã€‚

 

ä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä½†é‡Œé¢ä¸èƒ½æœ‰é‡å¤å…ƒç´ ã€‚

 :::

**ç¤ºä¾‹ä¸€:**

```
è¾“å…¥ï¼šs = "abc"
è¾“å‡ºï¼š["abc","acb","bac","bca","cab","cba"]
```

**ç¤ºä¾‹äºŒ**

```
è¾“å…¥ï¼šs = "aab"
è¾“å‡ºï¼š["aab","aba","baa"]
```

> æ€è·¯

å’Œå…¨æ’åˆ—II ä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äºæœ¬é¢˜å¯ä»¥ç”¨`set`æ¥å»é‡å­—ç¬¦ä¸²

è·Ÿå‰é¢çš„æœ‰ä¸€ç‚¹åŒºåˆ«æ˜¯ä»–çš„å­—æ¯æ˜¯æœ‰å¯èƒ½é‡å¤çš„

```js
var permutation = function(s) {
  const res = new Set(), visited = {}
  const dfs = (track) => {
    if(track.length === s.length) {
      // res.push(track)
      res.add(track)
      return
    }

    for(let i = 0; i < s.length; i++) {
      if(visited[i]) continue
      
      visited[i] = true
      dfs(track + s[i])
      visited[i] = false 
    }
  }
  dfs('')
  return [...res]
};
```



## lc77. ç»„åˆ<Badge text="ä¸­ç­‰" /><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªæ•´æ•° `n` å’Œ `k`ï¼Œè¿”å›èŒƒå›´ `[1, n]` ä¸­æ‰€æœ‰å¯èƒ½çš„ `k` ä¸ªæ•°çš„ç»„åˆã€‚

ä½ å¯ä»¥æŒ‰ **ä»»ä½•é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 4, k = 2
è¾“å‡ºï¼š
[
  [2,4],
  [3,4],
  [2,3],
  [1,2],
  [1,3],
  [1,4],
]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 1, k = 1
è¾“å‡ºï¼š[[1]]
```

> æ€è·¯

è¿˜æ˜¯å¥—æ¨¡ç‰ˆ,åªä¸è¿‡åŸæ¥çš„æŒ‰æ¨¡ç‰ˆçš„ä¼šè¶…æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å‰ªä¸€ä¸‹æ

```js
var combine = function(n, k) {
  const res = []
  let start = 1
  const dfs = (start, nums) => {
    if(nums.length === k) {
      res.push([...nums])
      return
    }
    for(let i = start; i <= n; i++) {
      if(nums.includes(i)) {
        continue
      } else {
        nums.push(i)
        dfs(i + 1, nums)
        nums.pop()
      }
    }
  }
  dfs(start, [])
  return res
};
```

æ—¶é—´å¤æ‚åº¦:`O(C(n, k) * n)`,å‚ç…§ä¸Šé¢çš„å…¨æ’åˆ—ï¼Œ`C(n, k) = n! / (n - k)!` 

ç©ºé—´å¤æ‚åº¦:`O(n)`é€’å½’çš„æ·±åº¦æ˜¯`n`

## lc93. å¤åŸ IP åœ°å€<Badge text="ä¸­ç­‰" /><badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

**æœ‰æ•ˆ IP åœ°å€** æ­£å¥½ç”±å››ä¸ªæ•´æ•°ï¼ˆæ¯ä¸ªæ•´æ•°ä½äº `0` åˆ° `255` ä¹‹é—´ç»„æˆï¼Œä¸”ä¸èƒ½å«æœ‰å‰å¯¼ `0`ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ `'.'` åˆ†éš”ã€‚

- ä¾‹å¦‚ï¼š`"0.1.2.201"` å’Œ` "192.168.1.1"` æ˜¯ **æœ‰æ•ˆ** IP åœ°å€ï¼Œä½†æ˜¯ `"0.011.255.245"`ã€`"192.168.1.312"` å’Œ `"192.168@1.1"` æ˜¯ **æ— æ•ˆ** IP åœ°å€ã€‚

ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸² `s` ï¼Œç”¨ä»¥è¡¨ç¤ºä¸€ä¸ª IP åœ°å€ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„**æœ‰æ•ˆ IP åœ°å€**ï¼Œè¿™äº›åœ°å€å¯ä»¥é€šè¿‡åœ¨ `s` ä¸­æ’å…¥ `'.'` æ¥å½¢æˆã€‚ä½  **ä¸èƒ½** é‡æ–°æ’åºæˆ–åˆ é™¤ `s` ä¸­çš„ä»»ä½•æ•°å­—ã€‚ä½ å¯ä»¥æŒ‰ **ä»»ä½•** é¡ºåºè¿”å›ç­”æ¡ˆã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "25525511135"
è¾“å‡ºï¼š["255.255.11.135","255.255.111.35"]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "0000"
è¾“å‡ºï¼š["0.0.0.0"]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "101023"
è¾“å‡ºï¼š["1.0.10.23","1.0.102.3","10.1.0.23","10.10.2.3","101.0.2.3"]
```

```js
var restoreIpAddresses = function(s) {
  const len = s.length
  const res = []

  const findIP = (start, path) => {

    if(path.length === 4 && start >= len) {
      res.push(path.join('.'))
      return 
    }

    for(let i = start; i < len; i++) {
      const str = s.slice(start, i + 1)
      if(isValid(str)) {
        path.push(str)
        findIP(i + 1, path)
        path.pop()
      } else break
    }
  }

  const isValid = (str) => {
    if(str.length > 4) return false
    if(parseInt(str, 10) > 255) return false
    if(str.length > 1 && str[0] === '0') return false

    return true
  }

  findIP(0, [])

  return res
};
```

 

## lc78. å­é›†<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  **äº’ä¸ç›¸åŒ** ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† **ä¸èƒ½** åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›è§£é›†ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š[[],[0]]
```

> æ€è·¯

è¿™ä¸€é“é¢˜å°±å¯ä»¥å¥—æ¨¡æ¿äº†ï¼Œåªä¸è¿‡è¿™é‡Œçš„`dfs`çš„`push`è¦åœ¨`if`å¤–é¢ï¼Œå› ä¸ºè¾“å‡ºçš„`res`ä¸ä¸€å®šä¸`nums`çš„`length`ç›¸ç­‰

```js
var subsets = function(nums) {
  const result = [];
  helper(nums, 0, [], result);
  return result;
};

function helper(nums, start, track, result) {

  result.push([...track]);

  if (track.length === nums.length) {
    return
  }

  for (let i = start; i < nums.length; i++) {
    track.push(nums[i]);
    helper(nums, i + 1, track, result);
    track.pop();
  }
}
```

## lc139. å•è¯æ‹†åˆ†<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ `wordDict` ä½œä¸ºå­—å…¸ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥åˆ©ç”¨å­—å…¸ä¸­å‡ºç°çš„å•è¯æ‹¼æ¥å‡º `s` ã€‚

**æ³¨æ„ï¼š** ä¸è¦æ±‚å­—å…¸ä¸­å‡ºç°çš„å•è¯å…¨éƒ¨éƒ½ä½¿ç”¨ï¼Œå¹¶ä¸”å­—å…¸ä¸­çš„å•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: s = "leetcode", wordDict = ["leet", "code"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "leetcode" å¯ä»¥ç”± "leet" å’Œ "code" æ‹¼æ¥æˆã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: s = "applepenapple", wordDict = ["apple", "pen"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "applepenapple" å¯ä»¥ç”± "apple" "pen" "apple" æ‹¼æ¥æˆã€‚
     æ³¨æ„ï¼Œä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥: s = "catsandog", wordDict = ["cats", "dog", "sand", "and", "cat"]
è¾“å‡º: false
```

> æ€è·¯

![](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201281133773.png)

```js
const wordBreak = (s, wordDict) => {
	const len = s.length;
  	const wordSet = new Set(wordDict);

	const canBreak = (start) => { // åˆ¤æ–­ä»startåˆ°æœ«å°¾çš„å­ä¸²èƒ½å¦break
		if (start == len) {//æŒ‡é’ˆè¶Šç•Œï¼Œsä¸€æ­¥æ­¥æˆåŠŸåˆ’åˆ†ä¸ºå•è¯ï¼Œæ‰èµ°åˆ°è¶Šç•Œè¿™æ­¥ï¼Œç°åœ¨æ²¡æœ‰å‰©ä½™å­ä¸²
			return true;   //è¿”å›çœŸï¼Œç»“æŸé€’å½’
		}
		for (let i = start + 1; i <= len; i++) { //æŒ‡é’ˆiå»åˆ’åˆ†ä¸¤éƒ¨åˆ†ï¼Œforæšä¸¾å‡ºå½“å‰æ‰€æœ‰çš„é€‰é¡¹i
			const prefix = s.slice(start, i);    // åˆ‡å‡ºçš„å‰ç¼€éƒ¨åˆ†
			if (wordSet.has(prefix) && canBreak(i)) {// å‰ç¼€éƒ¨åˆ†æ˜¯å•è¯ï¼Œä¸”å‰©ä½™å­ä¸²èƒ½breakï¼Œè¿”å›çœŸ
				return true;                            
			} // å¦‚æœå‰ç¼€éƒ¨åˆ†ä¸æ˜¯å•è¯ï¼Œå°±ä¸ä¼šæ‰§è¡ŒcanBreak(i)ã€‚è¿›å…¥ä¸‹ä¸€è½®è¿­ä»£ï¼Œå†åˆ‡å‡ºä¸€ä¸ªå‰ç¼€ä¸²ï¼Œå†è¯•
		}
		return false; // æŒ‡é’ˆiæ€ä¹ˆåˆ’åˆ†ï¼Œéƒ½æ²¡æœ‰è¿”å›trueï¼Œåˆ™è¿”å›false
	}

	return canBreak(0); // é€’å½’çš„å…¥å£ï¼Œä»0åˆ°æœ«å°¾çš„å­ä¸²èƒ½å¦break
}

```

è¶…æ—¶äº†

æ—¶é—´å¤æ‚åº¦:`O(n^2)`

ç©ºé—´å¤æ‚åº¦:`O(n)`

> è®°å¿†åŒ–å›æº¯

![](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202203080908742.png)

```js
const wordBreak = (s, wordDict) => {
	const len = s.length;
  const wordSet = new Set(wordDict);
  const memo = new Array(len)
	const canBreak = (start) => { // åˆ¤æ–­ä»startåˆ°æœ«å°¾çš„å­ä¸²èƒ½å¦break
		if (start == len) {//æŒ‡é’ˆè¶Šç•Œï¼Œsä¸€æ­¥æ­¥æˆåŠŸåˆ’åˆ†ä¸ºå•è¯ï¼Œæ‰èµ°åˆ°è¶Šç•Œè¿™æ­¥ï¼Œç°åœ¨æ²¡æœ‰å‰©ä½™å­ä¸²
			return true;   //è¿”å›çœŸï¼Œç»“æŸé€’å½’
		}
    if(memo[start] !== undefined) return memo[start] // memoä¸­æœ‰ï¼Œå°±ç”¨memoä¸­çš„
		for (let i = start + 1; i <= len; i++) { //æŒ‡é’ˆiå»åˆ’åˆ†ä¸¤éƒ¨åˆ†ï¼Œforæšä¸¾å‡ºå½“å‰æ‰€æœ‰çš„é€‰é¡¹i
			const prefix = s.slice(start, i);    // åˆ‡å‡ºçš„å‰ç¼€éƒ¨åˆ†
			if (wordSet.has(prefix) && canBreak(i)) {// å‰ç¼€éƒ¨åˆ†æ˜¯å•è¯ï¼Œä¸”å‰©ä½™å­ä¸²èƒ½breakï¼Œè¿”å›çœŸ
      memo[start] = true
				return true;                            
			} // å¦‚æœå‰ç¼€éƒ¨åˆ†ä¸æ˜¯å•è¯ï¼Œå°±ä¸ä¼šæ‰§è¡ŒcanBreak(i)ã€‚è¿›å…¥ä¸‹ä¸€è½®è¿­ä»£ï¼Œå†åˆ‡å‡ºä¸€ä¸ªå‰ç¼€ä¸²ï¼Œå†è¯•
		}
    memo[start] = false
		return false; // æŒ‡é’ˆiæ€ä¹ˆåˆ’åˆ†ï¼Œéƒ½æ²¡æœ‰è¿”å›trueï¼Œåˆ™è¿”å›false
	}

	return canBreak(0); // é€’å½’çš„å…¥å£ï¼Œä»0åˆ°æœ«å°¾çš„å­ä¸²èƒ½å¦break
}
```

> å¦è§£ï¼šåŠ¨æ€è§„åˆ’

```js
var wordBreak = function(s, wordDict) {
  const len = s.length
  const wordDictSet = new Set(wordDict)
  const dp = new Array(len + 1).fill(false)
  dp[0] = true
  for(let i = 1; i <= len; i++) {
    for(let j = 0; j < i; j++) {
      if(dp[j] && wordDictSet.has(s.slice(j, i))) {
        dp[i] = true
        break
      }
    }
  }
  return dp[len]
};
```

æ—¶é—´å¤æ‚åº¦:`O(n^2)`

ç©ºé—´å¤æ‚åº¦:`O(n)`

## lc140. å•è¯æ‹†åˆ† II<Badge text="å›°éš¾" type="warning" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦ä¸²å­—å…¸ `wordDict` ï¼Œåœ¨å­—ç¬¦ä¸² `s` ä¸­å¢åŠ ç©ºæ ¼æ¥æ„å»ºä¸€ä¸ªå¥å­ï¼Œä½¿å¾—å¥å­ä¸­æ‰€æœ‰çš„å•è¯éƒ½åœ¨è¯å…¸ä¸­ã€‚**ä»¥ä»»æ„é¡ºåº** è¿”å›æ‰€æœ‰è¿™äº›å¯èƒ½çš„å¥å­ã€‚

**æ³¨æ„ï¼š** è¯å…¸ä¸­çš„åŒä¸€ä¸ªå•è¯å¯èƒ½åœ¨åˆ†æ®µä¸­è¢«é‡å¤ä½¿ç”¨å¤šæ¬¡ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥:s = "catsanddog", wordDict = ["cat","cats","and","sand","dog"]
è¾“å‡º:["cats and dog","cat sand dog"]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥:s = "pineapplepenapple", wordDict = ["apple","pen","applepen","pine","pineapple"]
è¾“å‡º:["pine apple pen apple","pineapple pen apple","pine applepen apple"]
è§£é‡Š: æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥:s = "catsandog", wordDict = ["cats","dog","sand","and","cat"]
è¾“å‡º:[]
```

> æ€è·¯

```js
var wordBreak = function (s, wordDict) {
  let arr = [];
  function backTree(n, path) {
    if (n === s.length) {
      arr.push(path);
    } else {
      for (let i = 1; i <= s.length - n; i++) {
        if (wordDict.indexOf(s.substr(n, i)) !== -1) {
          if (n !== 0) {
            backTree(n + i, path + " " + s.substr(n, i));
          } else {
            backTree(n + i, path + s.substr(n, i));
          }
        }
      }
    }
  }
  backTree(0, "");
  return arr;
};
```

## lc22. æ‹¬å·ç”Ÿæˆ<Badge text="ä¸­ç­‰" /><badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

æ•°å­— `n` ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” **æœ‰æ•ˆçš„** æ‹¬å·ç»„åˆã€‚

:::

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š["((()))","(()())","(())()","()(())","()()()"]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š["()"]
```

> æ€è·¯

å¯ä»¥çœ‹æˆğŸŒ²çš„`dfs`

![æˆªå±2022-01-16 ä¸‹åˆ4.56.04](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201161656681.png)

ç„¶åå¯¹ğŸŒ²è¿›è¡Œå‰ªæ

å‰ªææ ‡å‡†

- å³æ‹¬å·æ•°é‡å¤§äºå·¦æ‹¬å·(å…¶ä¸­å°±åŒ…æ‹¬äº†å¼€å¤´æ˜¯å³æ‹¬å·çš„æƒ…å†µ)
- å·¦æ‹¬å·æ•°é‡å¤§äº`n`çš„å€¼

ç»ˆæ­¢æ¡ä»¶ï¼Œå­—ç¬¦ä¸²é•¿åº¦ç­‰äº`2 * n`

```js
var generateParenthesis = function(n) {
  const dfs = (path, open, close) => {
    if(close > open || open > n) return false

    if(path.length === 2 * n) {
      res.push(path)
      return res
    }
    dfs(path + '(', open + 1, close)
    dfs(path + ')', open, close + 1)
  }
  const res = []
  dfs('', 0, 0)
  return res 
};
```



## lc79. çŸ©é˜µä¸­çš„è·¯å¾„/å•è¯æœç´¢<Badge text="ä¸­ç­‰" /><badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª `m x n` äºŒç»´å­—ç¬¦ç½‘æ ¼ `board` å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ `word`ã€‚å¦‚æœ word å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚

 

ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ `3Ã—4` çš„çŸ©é˜µä¸­åŒ…å«å•è¯ `"ABCCED"`ï¼ˆå•è¯ä¸­çš„å­—æ¯å·²æ ‡å‡ºï¼‰ã€‚

:::

 ![](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201131139385.png)

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šboard = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCCED"
è¾“å‡ºï¼štrue
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šboard = [["a","b"],["c","d"]], word = "abcd"
è¾“å‡ºï¼šfalse
```

> æ€è·¯ï¼š `DFS`

é€’å½’å‚æ•°ï¼š å½“å‰å…ƒç´ åœ¨çŸ©é˜µ `board` ä¸­çš„è¡Œåˆ—ç´¢å¼• `i` å’Œ `j` ï¼Œå½“å‰ç›®æ ‡å­—ç¬¦åœ¨ `word` ä¸­çš„ç´¢å¼• `k` ã€‚
ç»ˆæ­¢æ¡ä»¶ï¼š
è¿”å› `false`  ï¼š 

1. è¡Œæˆ–åˆ—ç´¢å¼•è¶Šç•Œ
2. å½“å‰çŸ©é˜µå…ƒç´ ä¸ç›®æ ‡å­—ç¬¦ä¸åŒ
3. å½“å‰çŸ©é˜µå…ƒç´ å·²è®¿é—®è¿‡  (3) å¯åˆå¹¶è‡³ (2) 

è¿”å› `true` ï¼š `k = len(word) - 1` ï¼Œå³å­—ç¬¦ä¸² `word` å·²å…¨éƒ¨åŒ¹é…ã€‚
é€’æ¨å·¥ä½œï¼š
æ ‡è®°å½“å‰çŸ©é˜µå…ƒç´ ï¼š å°† `board[i][j]` ä¿®æ”¹ä¸º ç©ºå­—ç¬¦ '' ï¼Œä»£è¡¨æ­¤å…ƒç´ å·²è®¿é—®è¿‡ï¼Œé˜²æ­¢ä¹‹åæœç´¢æ—¶é‡å¤è®¿é—®ã€‚
æœç´¢ä¸‹ä¸€å•å…ƒæ ¼ï¼š æœå½“å‰å…ƒç´ çš„ ä¸Šã€ä¸‹ã€å·¦ã€å³ å››ä¸ªæ–¹å‘å¼€å¯ä¸‹å±‚é€’å½’ï¼Œä½¿ç”¨ æˆ– è¿æ¥ ï¼ˆä»£è¡¨åªéœ€æ‰¾åˆ°ä¸€æ¡å¯è¡Œè·¯å¾„å°±ç›´æ¥è¿”å›ï¼Œä¸å†åšåç»­ `DFS` ï¼‰ï¼Œå¹¶è®°å½•ç»“æœè‡³ `res` ã€‚
è¿˜åŸå½“å‰çŸ©é˜µå…ƒç´ ï¼š å°† `board[i][j]` å…ƒç´ è¿˜åŸè‡³åˆå§‹å€¼ï¼Œå³ `word[k]` ã€‚
è¿”å›å€¼ï¼š è¿”å›å¸ƒå°”é‡ `res` ï¼Œä»£è¡¨æ˜¯å¦æœç´¢åˆ°ç›®æ ‡å­—ç¬¦ä¸²ã€‚

```js
var exist = function(board, word) {
  for(let i = 0; i < board.length; i++) {
    for(let j = 0; j < board[0].length; j++) {
      if(dfs(board, word, i, j, 0)) return true
    }
  }
  return false
};

function dfs(board, word, i, j, k) {
  if(i < 0 || j < 0 || i > board.length - 1 || j > board[0].length - 1 || board[i][j] !== word[k]) return false

  if(k === word.length - 1) return true
  
  board[i][j] = ''
  let res = dfs(board, word, i - 1, j, k + 1) || dfs(board, word, i + 1, j, k + 1) || dfs(board, word, i, j - 1, k + 1) || dfs(board, word, i, j + 1, k + 1)
  board[i][j] = word[k]
  return res
}
```

> `M,N` åˆ†åˆ«ä¸ºçŸ©é˜µè¡Œåˆ—å¤§å°ï¼Œ `K` ä¸ºå­—ç¬¦ä¸² `word` é•¿åº¦ã€‚

æ—¶é—´å¤æ‚åº¦` O(3^K * MN)` æœ€å·®æƒ…å†µä¸‹ï¼Œéœ€è¦éå†çŸ©é˜µä¸­é•¿åº¦ä¸º `K` å­—ç¬¦ä¸²çš„æ‰€æœ‰æ–¹æ¡ˆï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(3^K)`
çŸ©é˜µä¸­å…±æœ‰ `MN` ä¸ªèµ·ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(MN)`
æ–¹æ¡ˆæ•°è®¡ç®—ï¼š è®¾å­—ç¬¦ä¸²é•¿åº¦ä¸º `K` ï¼Œæœç´¢ä¸­æ¯ä¸ªå­—ç¬¦æœ‰ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘å¯ä»¥é€‰æ‹©ï¼Œèˆå¼ƒå›å¤´ï¼ˆä¸Šä¸ªå­—ç¬¦ï¼‰çš„æ–¹å‘ï¼Œå‰©ä¸‹ `3` ç§é€‰æ‹©ï¼Œå› æ­¤æ–¹æ¡ˆæ•°çš„å¤æ‚åº¦ä¸º `O(3^K)`

ç©ºé—´å¤æ‚åº¦ `O(K)` ï¼š æœç´¢è¿‡ç¨‹ä¸­çš„é€’å½’æ·±åº¦ä¸è¶…è¿‡ `K` ï¼Œå› æ­¤ç³»ç»Ÿå› å‡½æ•°è°ƒç”¨ç´¯è®¡ä½¿ç”¨çš„æ ˆç©ºé—´å ç”¨ `O(K)`  æœ€åæƒ…å†µä¸‹ `K = MN`ï¼Œé€’å½’æ·±åº¦ä¸º `MN` ï¼Œæ­¤æ—¶ç³»ç»Ÿæ ˆä½¿ç”¨ `	O(MN)`çš„é¢å¤–ç©ºé—´

## lc130. è¢«å›´ç»•çš„åŒºåŸŸ<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ª `m x n` çš„çŸ©é˜µ `board` ï¼Œç”±è‹¥å¹²å­—ç¬¦ `'X'` å’Œ `'O'` ï¼Œæ‰¾åˆ°æ‰€æœ‰è¢« `'X'` å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ `'O'` ç”¨ `'X'` å¡«å……ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

![img](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201281029780.jpg)

```
è¾“å…¥ï¼šboard = [["X","X","X","X"],["X","O","O","X"],["X","X","O","X"],["X","O","X","X"]]
è¾“å‡ºï¼š[["X","X","X","X"],["X","X","X","X"],["X","X","X","X"],["X","O","X","X"]]
è§£é‡Šï¼šè¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„ 'O' éƒ½ä¸ä¼šè¢«å¡«å……ä¸º 'X'ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ 'O' ç›¸è¿çš„ 'O' æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º 'X'ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šboard = [["X"]]
è¾“å‡ºï¼š[["X"]]
```

> æ€è·¯ï¼š`DFS`

ç±»ä¼¼çš„å…ˆå¯¹å››ä¸ªè¾¹åšåˆ¤æ–­å¹¶æ ‡è®°ä¸º`A`ï¼Œå†æ¬¡è¿›è¡Œéå†ï¼Œå¦‚æœæ˜¯`A`è¯´æ˜æ˜¯è¾¹ç•Œæƒ…å†µï¼Œé‚£ä¹ˆè¿˜åŸä¸º`O`

```js
var solve = function (board) {
  let rows = board.length;
  if (rows == 0) return;
  let cols = board[0].length;
  const dfs = (i, j, board) => {
      if (i < 0 || j < 0 || i >= rows || j >= cols || board[i][j] !== 'O') {
          return;
      } 
      // åˆ¤æ–­è¾¹ç•Œçš„oæ˜¯å¦ä¸å†…éƒ¨çš„oæ˜¯è¿æ¥çš„ï¼Œè¿æ¥åˆ™ä¸èƒ½æ„æˆå²›å±¿
      board[i][j] = 'A';
      dfs(i + 1, j, board);
      dfs(i - 1, j, board)
      dfs(i, j + 1, board)
      dfs(i, j - 1, board)
  }

  for (let i = 0; i < rows; i++) {
      dfs(i, 0, board);
      dfs(i, cols - 1, board);
  }
  for (let i = 1; i < cols - 1; i++) {
      dfs(0, i, board);
      dfs(rows - 1, i, board);
  }
  for (let i = 0; i < rows; i++) {
      for (let j = 0; j < cols; j++) {
          if (board[i][j] == 'A') {
              board[i][j] = 'O'
          } else if (board[i][j] == 'O') {
              board[i][j] = 'X'
          }
      }
  }

};
```

æ—¶é—´å¤æ‚åº¦:`O(n * m)`

ç©ºé—´å¤æ‚åº¦:`O(n * m)`



## lc200. å²›å±¿æ•°é‡<Badge text="ä¸­ç­‰" /><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªç”± `'1'`ï¼ˆé™†åœ°ï¼‰å’Œ `'0'`ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šgrid = [
  ["1","1","1","1","0"],
  ["1","1","0","1","0"],
  ["1","1","0","0","0"],
  ["0","0","0","0","0"]
]
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šgrid = [
  ["1","1","0","0","0"],
  ["1","1","0","0","0"],
  ["0","0","1","0","0"],
  ["0","0","0","1","1"]
]
è¾“å‡ºï¼š3
```

> æ€è·¯

å°±æ˜¯ä¸¤å±‚å¾ªç¯ï¼Œå¦‚æœå‡ºç°`1`ï¼Œå°±é€’å½’éå†ä¸Šä¸‹å·¦å³ï¼Œå¦‚æœæœ‰`1`å°±ç½®ä¸º`0`ï¼Œæ–¹ä¾¿è®¡æ•°

```js
var numIslands = function(grid) {
  let count = 0
  grid.forEach((item, idx) => {
    item.forEach((item2, idx2) => {
      if(item2 === '1') {
        count++
        turnZreo(idx, idx2)
      }
    })
  })
  function turnZreo(row, col) {
    // up
    if(grid[row - 1] && grid[row - 1][col] === '1') {
      grid[row - 1][col] = '0'
      turnZreo(row - 1, col)
    }
    // down
    if(grid[row + 1] && grid[row + 1][col] ==='1') {
      grid[row + 1][col] = '0'
      turnZreo(row + 1, col)
    }
    // left
    if(grid[row][col - 1] && grid[row][col - 1] ==='1') {
      grid[row][col - 1] = '0'
      turnZreo(row, col - 1)
    }
    // right
    if(grid[row][col + 1] && grid[row][col + 1] ==='1') {
      grid[row][col + 1] = '0'
      turnZreo(row, col + 1)
    }
  }
  return count
};
```

æ—¶é—´å¤æ‚åº¦:`O(mn)`

ç©ºé—´å¤æ‚åº¦:`O(mn)` æœ€åå…¨æ˜¯é™†åœ°

## 39. ç»„åˆæ€»å’Œ<Badge text="ä¸­ç­‰" /><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ª **æ— é‡å¤å…ƒç´ ** çš„æ•´æ•°æ•°ç»„ `candidates` å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° `target` ï¼Œæ‰¾å‡º `candidates` ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° `target` çš„ *æ‰€æœ‰* **ä¸åŒç»„åˆ** ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›è¿™äº›ç»„åˆã€‚

`candidates` ä¸­çš„ **åŒä¸€ä¸ª** æ•°å­—å¯ä»¥ **æ— é™åˆ¶é‡å¤è¢«é€‰å–** ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ•°å­—çš„è¢«é€‰æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚ 

å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º `target` çš„ä¸åŒç»„åˆæ•°å°‘äº `150` ä¸ªã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7
è¾“å‡ºï¼š[[2,2,3],[7]]
è§£é‡Šï¼š
2 å’Œ 3 å¯ä»¥å½¢æˆä¸€ç»„å€™é€‰ï¼Œ2 + 2 + 3 = 7 ã€‚æ³¨æ„ 2 å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚
7 ä¹Ÿæ˜¯ä¸€ä¸ªå€™é€‰ï¼Œ 7 = 7 ã€‚
ä»…æœ‰è¿™ä¸¤ç§ç»„åˆã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: candidates = [2,3,5], target = 8
è¾“å‡º: [[2,2,2,2],[2,3,3],[3,5]]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥: candidates = [2], target = 1
è¾“å‡º: []
```

> æ€è·¯

æ ‡å‡†çš„å›æº¯æ¨¡ç‰ˆ

```js
var combinationSum = function(candidates, target) {
  candidates.sort((a, b) => a - b)
  const res = []

  const dfs = (start, temp, track) => {
    if(temp === target) {
      res.push([...track])
      return
    }

    for(let i = start; i < candidates.length; i++) {
      if(temp + candidates[i] <= target) {
        temp += candidates[i]
        track.push(candidates[i])
        dfs(i, temp, track)
        track.pop()
        temp -= candidates[i]
      }
    }
  }
  dfs(0, 0, [])
  return res
};
```

æ—¶é—´å¤æ‚åº¦:`O(n)`

ç©ºé—´å¤æ‚åº¦:`O(n)`ï¼Œæœ€å`O(target)`

## åŠ èµ·æ¥å’Œä¸ºç›®æ ‡å€¼çš„ç»„åˆ(äºŒ)<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™å‡ºä¸€ç»„å€™é€‰æ•° `c` å’Œä¸€ä¸ªç›®æ ‡æ•° `t` ï¼Œæ‰¾å‡ºå€™é€‰æ•°ä¸­èµ·æ¥å’Œç­‰äº `t` çš„æ‰€æœ‰ç»„åˆã€‚

`c` ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨ä¸€ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚

æ³¨æ„ï¼š

1. é¢˜ç›®ä¸­æ‰€æœ‰çš„æ•°å­—ï¼ˆåŒ…æ‹¬ç›®æ ‡æ•° `t` ï¼‰éƒ½æ˜¯æ­£æ•´æ•°
2. ç»„åˆä¸­çš„æ•°ç»„é€’å¢
3. ç»“æœä¸­ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆ
4. ç»„åˆä¹‹é—´çš„æ’åºæŒ‰ç…§ç´¢å¼•ä»å°åˆ°å¤§ä¾æ¬¡æ¯”è¾ƒï¼Œå°çš„æ’åœ¨å‰é¢ï¼Œå¦‚æœç´¢å¼•ç›¸åŒçš„æƒ…å†µä¸‹æ•°å€¼ç›¸åŒï¼Œåˆ™æ¯”è¾ƒä¸‹ä¸€ä¸ªç´¢å¼•ã€‚

è¦æ±‚ï¼šç©ºé—´å¤æ‚åº¦ `O(n!)` ï¼Œ æ—¶é—´å¤æ‚åº¦ `O(n!)`

:::

ç¤ºä¾‹1

```
è¾“å…¥ï¼š[100,10,20,70,60,10,50],80

è¿”å›å€¼ï¼š[[10,10,60],[10,20,50],[10,70],[20,60]]

è¯´æ˜ï¼šç»™å®šçš„å€™é€‰æ•°é›†æ˜¯[100,10,20,70,60,10,50]ï¼Œç›®æ ‡æ•°æ˜¯80   
```

ç¤ºä¾‹2

```
è¾“å…¥ï¼š[2],1

è¿”å›å€¼ï¼š[]
```

> æ€è·¯

```js
function combinationSum2( num ,  target ) {
    // write code here
  	// å¯¹åŸæ•°ç»„æ’åº
    num.sort((a, b) => a - b)
    const temp = [], res = []
    dfs(num, target, 0, temp, res, 0)
    return res
}

function dfs(num, target, temp,tempArr, res, start) {
  	// éå†çš„å…ƒç´ çš„ç´¯åŠ å€¼
    if(temp === target) {
        res.push([...tempArr])
        return
    }
  	// è¶Šç•Œ
    if(start >= num.length) return
    
    for(let i = start; i < num.length; i++) {
        // å»é‡
        if(i > start && num[i] === num[i - 1]) continue

        if(temp + num[i] <= target) {
            temp += num[i]
            tempArr.push(num[i])
            dfs(num, target, temp, tempArr, res, i + 1)
            // å›æº¯ æ’¤é”€æ“ä½œ
            tempArr.pop()
            temp -= num[i]
        }
    }
}
```

æ—¶é—´å¤æ‚åº¦:`O(n)`

ç©ºé—´å¤æ‚åº¦:`O(n)`

## lc17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— `2-9` çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ã€‚

ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ `1` ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚

![img](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201161117364.png)

 

:::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šdigits = "23"
è¾“å‡ºï¼š["ad","ae","af","bd","be","bf","cd","ce","cf"]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šdigits = ""
è¾“å‡ºï¼š[]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šdigits = "2"
è¾“å‡ºï¼š["a","b","c"]
```

> æ€è·¯ï¼š`dfs` + å›æº¯

è¿™é“é¢˜æœ‰æš´åŠ›æ³•å¯ä»¥è§£ï¼Œä½†æ˜¯è¦åµŒå¥—ä¸‰æ¬¡å¾ªç¯ï¼Œé‡‡ç”¨`dfs`å¯ä»¥é™æ—¶é—´å¤æ‚åº¦

```js
var letterCombinations = function (digits) {
  // ä¸ºç©ºç‰¹æ®Šå¤„ç†
  if (digits.length === 0) return [];
  let numMap = new Map([
    ['0', ''],
    ['1', ''],
    ['2', 'abc'],
    ['3', 'def'],
    ['4', 'ghi'],
    ['5', 'jkl'],
    ['6', 'mno'],
    ['7', 'pqrs'],
    ['8', 'tuv'],
    ['9', 'wxyz']
  ])
  let res = [];
  dfs("", digits);
  return res;

  function dfs(str, digit) {
    // å¦‚æœå­—ç¬¦ä¸²ä¸ºç©ºäº†ï¼Œå°†æ‹¼æ¥å¥½çš„å­—ç¬¦åŠ å…¥æ•°ç»„
    if (digit.length === 0) res.push(str);
    else {
      // æ‹¿åˆ°å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œæ‹¿åˆ°å…¶å¯¹åº”çš„æ•°å­—
      let numstr = numMap.get(digit[0]);
      // å¯¹å¯èƒ½æ€§è¿›è¡Œç»„åˆ
      for (let i = 0; i < numstr.length; i++) {
        str += numstr[i];
        // é€’å½’ç»„å¥½çš„ strå’Œä¸‹ä¸€æ®µå­—ç¬¦ä¸²
        dfs(str, digit.slice(1))
        // å›æº¯
        str = str.slice(0, -1);
        // dfs(str+numstr[i], digit.slice(1))
      }
    }
  }
};
```

## lc38. å¤–è§‚æ•°åˆ—<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° `n` ï¼Œè¾“å‡ºå¤–è§‚æ•°åˆ—çš„ç¬¬ `n` é¡¹ã€‚

ã€Œå¤–è§‚æ•°åˆ—ã€æ˜¯ä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œä»æ•°å­— `1` å¼€å§‹ï¼Œåºåˆ—ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯å¯¹å‰ä¸€é¡¹çš„æè¿°ã€‚

ä½ å¯ä»¥å°†å…¶è§†ä½œæ˜¯ç”±é€’å½’å…¬å¼å®šä¹‰çš„æ•°å­—å­—ç¬¦ä¸²åºåˆ—ï¼š

- `countAndSay(1) = "1"`
- `countAndSay(n)` æ˜¯å¯¹ `countAndSay(n-1)` çš„æè¿°ï¼Œç„¶åè½¬æ¢æˆå¦ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ã€‚

å‰äº”é¡¹å¦‚ä¸‹ï¼š

```
1.     1
2.     11
3.     21
4.     1211
5.     111221
ç¬¬ä¸€é¡¹æ˜¯æ•°å­— 1 
æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 1 å³ â€œ ä¸€ ä¸ª 1 â€ï¼Œè®°ä½œ "11"
æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 11 å³ â€œ äºŒ ä¸ª 1 â€ ï¼Œè®°ä½œ "21"
æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 21 å³ â€œ ä¸€ ä¸ª 2 + ä¸€ ä¸ª 1 â€ ï¼Œè®°ä½œ "1211"
æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 1211 å³ â€œ ä¸€ ä¸ª 1 + ä¸€ ä¸ª 2 + äºŒ ä¸ª 1 â€ ï¼Œè®°ä½œ "111221"
```

è¦ **æè¿°** ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ï¼Œé¦–å…ˆè¦å°†å­—ç¬¦ä¸²åˆ†å‰²ä¸º **æœ€å°** æ•°é‡çš„ç»„ï¼Œæ¯ä¸ªç»„éƒ½ç”±è¿ç»­çš„æœ€å¤š **ç›¸åŒå­—ç¬¦** ç»„æˆã€‚ç„¶åå¯¹äºæ¯ä¸ªç»„ï¼Œå…ˆæè¿°å­—ç¬¦çš„æ•°é‡ï¼Œç„¶åæè¿°å­—ç¬¦ï¼Œå½¢æˆä¸€ä¸ªæè¿°ç»„ã€‚è¦å°†æè¿°è½¬æ¢ä¸ºæ•°å­—å­—ç¬¦ä¸²ï¼Œå…ˆå°†æ¯ç»„ä¸­çš„å­—ç¬¦æ•°é‡ç”¨æ•°å­—æ›¿æ¢ï¼Œå†å°†æ‰€æœ‰æè¿°ç»„è¿æ¥èµ·æ¥ã€‚

ä¾‹å¦‚ï¼Œæ•°å­—å­—ç¬¦ä¸² `"3322251"` çš„æè¿°å¦‚ä¸‹å›¾ï¼š

![img](https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201211105166.png)



 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š"1"
è§£é‡Šï¼šè¿™æ˜¯ä¸€ä¸ªåŸºæœ¬æ ·ä¾‹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 4
è¾“å‡ºï¼š"1211"
è§£é‡Šï¼š
countAndSay(1) = "1"
countAndSay(2) = è¯» "1" = ä¸€ ä¸ª 1 = "11"
countAndSay(3) = è¯» "11" = äºŒ ä¸ª 1 = "21"
countAndSay(4) = è¯» "21" = ä¸€ ä¸ª 2 + ä¸€ ä¸ª 1 = "12" + "11" = "1211"
```

> æ€è·¯

å¾ˆç®€å•çš„ä¸€é“é€’å½’é¢˜

```js
var countAndSay = function(n) {
  if(n === 1) return '1'
  let pre = countAndSay(n - 1)

  let str = '', left = 0, right = 0
  while(right < pre.length) {
    while(pre[left] === pre[right] && right < pre.length) right++

    str += (String(right - left) + pre[left])
    left = right
  }

  return str
};
```

æ—¶é—´å¤æ‚åº¦:`O(n)`

ç©ºé—´å¤æ‚åº¦:`O(n)` æ¯å±‚é€’å½’éƒ½åˆ›å»º`pre`å­˜å‚¨`f(n - 1)`

> æ€è·¯äºŒï¼šæ»šåŠ¨æ•°ç»„

ç”¨`pre`ä»£æ›¿`f(n - 1)`é™ä½ç©ºé—´å¤æ‚åº¦

```js
var countAndSay = function(n) {
  let pre = '1', str = '1'
  for(let i = 1; i < n; i++) {
    pre = str
    str = ''
    let left = 0, right = 0
    while(right < pre.length) {
      while(pre[left] === pre[right] && right < pre.length) right++

      str += (String(right - left) + pre[left])
      left = right
    }
  }
  return str
};
```

æ—¶é—´å¤æ‚åº¦:`O(n)`

ç©ºé—´å¤æ‚åº¦:`O(1)` 

## lc131. åˆ†å‰²å›æ–‡ä¸²<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œè¯·ä½ å°† `s` åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯ **å›æ–‡ä¸²** ã€‚è¿”å› `s` æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚

**å›æ–‡ä¸²** æ˜¯æ­£ç€è¯»å’Œåç€è¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "aab"
è¾“å‡ºï¼š[["a","a","b"],["aa","b"]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "a"
è¾“å‡ºï¼š[["a"]]
```

> æ€è·¯

æ ‡å‡†åŠ¨æ€è§„åˆ’

```js
var partition = function(s) {
  var res = [], path = []
  var backTrack = (start) => {
      if (start > s.length) return false
      if (start === s.length) {
          res.push(path.slice())
          return false
      }
      for (let i = start; i < s.length; i ++) {
          if(isValid(s, start, i)) {
              var str = s.substr(start, i - start + 1);
              path.push(str)
              backTrack(i + 1)
              path.pop()
          }
      }
  }
  backTrack(0)
  return res
};
// åŒæŒ‡é’ˆåˆ¤æ–­å›æ–‡ä¸²
var isValid = (str, start, end) => {
  for(let i = start, j = end; i < j; i ++, j--) {
      if (str[i] !== str[j]) return false
  }
  return true
}
```


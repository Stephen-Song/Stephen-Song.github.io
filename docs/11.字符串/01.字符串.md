---
title: å­—ç¬¦ä¸²
date: 2022-01-15 10:33:36
permalink: /pages/8ac126/
---

# å­—ç¬¦ä¸²

## lc13. ç½—é©¬æ•°å­—è½¬æ•´æ•°<Badge text="ç®€å•" />

:::tip é¢˜ç›®æè¿°

ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦: `I`ï¼Œ `V`ï¼Œ `X`ï¼Œ `L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚

```
å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
```


ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— `2` å†™åš `II` ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ `1` ã€‚`12` å†™åš `XII` ï¼Œå³ä¸º `X + II` ã€‚ `27` å†™åš  `XXVII`, å³ä¸º `XX + V + II` ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ `4` ä¸å†™åš `IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­— `1` åœ¨æ•°å­— `5` çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° `5` å‡å°æ•° `1` å¾—åˆ°çš„æ•°å€¼ `4` ã€‚åŒæ ·åœ°ï¼Œæ•°å­— `9` è¡¨ç¤ºä¸º `IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

```
I å¯ä»¥æ”¾åœ¨ V (5) å’Œ X (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
X å¯ä»¥æ”¾åœ¨ L (50) å’Œ C (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
C å¯ä»¥æ”¾åœ¨ D (500) å’Œ M (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚
```


ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚

:::

ç¤ºä¾‹ 1:

```
è¾“å…¥: s = "III"
è¾“å‡º: 3
```


ç¤ºä¾‹ 2:

```
è¾“å…¥: s = "IV"
è¾“å‡º: 4
```


ç¤ºä¾‹ 3:

```
è¾“å…¥: s = "IX"
è¾“å‡º: 9
```


ç¤ºä¾‹ 4:

```
è¾“å…¥: s = "LVIII"
è¾“å‡º: 58
è§£é‡Š: L = 50, V= 5, III = 3.
```


ç¤ºä¾‹ 5:

```
è¾“å…¥: s = "MCMXCIV"
è¾“å‡º: 1994
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
```

```js
var romanToInt = function(s) {
  const map = new Map()
  map.set('I', 1)
  map.set('V', 5)
  map.set('X', 10)
  map.set('L', 50)
  map.set('C', 100)
  map.set('D', 500)
  map.set('M', 1000)
  let sum = 0
  for(let i = 0; i < s.length; i++) {
    if(s[i] === 'I' && s[i + 1] && (s[i + 1] === 'V' || s[i + 1] === 'X')) {
      sum += (-1 + map.get(s[i + 1]))
      i++
    } else if(s[i] === 'X' && s[i + 1] && (s[i + 1] === 'L' || s[i + 1] === 'C')) {
      sum += (-10 + map.get(s[i + 1]))
      i++
    } else if(s[i] === 'C' && s[i + 1] && (s[i + 1] === 'D' || s[i + 1] === 'M')) {
      sum += (-100 + map.get(s[i + 1]))
      i++
    } else {
      sum += map.get(s[i])
    }
  }
  return sum
};
```

æ—¶é—´å¤æ‚åº¦`O(n)`

ç©ºé—´å¤æ‚åº¦`O(1)`

## lc14. æ±‚æœ€é•¿å…¬å…±å‰ç¼€<Badge text="ç®€å•" /><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚

å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² `""`ã€‚

:::

ç¤ºä¾‹ï¼š

```
è¾“å…¥ï¼šstrs = ["flower","flow","flight"]
è¾“å‡ºï¼š"fl"

è¾“å…¥ï¼šstrs = ["dog","racecar","car"]
è¾“å‡ºï¼š""
è§£é‡Šï¼šè¾“å…¥ä¸å­˜åœ¨å…¬å…±å‰ç¼€ã€‚
```

> æ€è·¯ï¼š

1. è¦æ˜¯ç©ºæ•°ç»„å°±è¿”å› ""
2. è¦æ˜¯æ•°ç»„é•¿åº¦ä¸º`1`ï¼Œ å°±è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä½
3. å…ˆæŒ‰é•¿åº¦æ’åºï¼Œç„¶ååªç”¨å¯¹æ¯”ç¬¬ä¸€ä½å’Œæœ€åä¸€ä½çš„å­—ç¬¦ä¸²ï¼Œæ¯”è¾ƒä¸€ä¸‹å“ªä¸€ä¸ªå­—ç¬¦çŸ­ï¼Œå¾ªç¯åˆ¤æ–­æ¯ä¸€ä½æ˜¯ä¸æ˜¯ä¸€æ ·ï¼Œ ä¸€æ ·çš„è¯ç»§ç»­ä¸‹ä¸€ä½åˆ¤æ–­ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º`On`

```js
var longestCommonPrefix = function(strs) {
   strs.sort()
  let short = strs[0]
  let long = strs[strs.length - 1]
  let res = ''
  for(let i = 0; i < short.length; i++) {
    if(short[i] === long[i]) res += short[i]
    else return res
  }
  return res
};
```



## lc172. é˜¶ä¹˜åçš„é›¶<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•° `n` ï¼Œè¿”å› `n!` ç»“æœä¸­å°¾éšé›¶çš„æ•°é‡ã€‚

æç¤º `n! = n * (n - 1) * (n - 2) * ... * 3 * 2 * 1`

::: 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š0
è§£é‡Šï¼š3! = 6 ï¼Œä¸å«å°¾éš 0
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 5
è¾“å‡ºï¼š1
è§£é‡Šï¼š5! = 120 ï¼Œæœ‰ä¸€ä¸ªå°¾éš 0
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šn = 0
è¾“å‡ºï¼š0
```

> æ€è·¯

è¿™é“é¢˜å¾ˆç®€å•ï¼Œæœ‰å¤šå°‘ä¸ª`5`å°±æœ‰å¤šå°‘ä¸ª`0`ï¼Œæˆ‘ä»¬å‘ç°åªæœ‰`5`çš„å€æ•°çš„é˜¶ä¹˜ï¼Œæ‰ä¼šäº§ç”Ÿ`5`, æ‰€ä»¥æˆ‘ä»¬éœ€è¦çœ‹çœ‹é˜¶å±‚æ•°æœ‰å¤šå°‘ä¸ª`5`

```js
var trailingZeroes = function (n) {
  let r = 0;
  while (n > 1) {
    n = Math.floor(n / 5);
    r += n;
  }
  return r;
};
```

## lc202. å¿«ä¹æ•°<Badge text="ç®€å•" />

:::tip é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° `n` æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚

ã€Œå¿«ä¹æ•°ã€å®šä¹‰ä¸ºï¼š

- å¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œã€‚
- ç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ **æ— é™å¾ªç¯** ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚
- å¦‚æœ **å¯ä»¥å˜ä¸º** 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚

å¦‚æœ `n` æ˜¯å¿«ä¹æ•°å°±è¿”å› `true` ï¼›ä¸æ˜¯ï¼Œåˆ™è¿”å› `false` ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 19
è¾“å‡ºï¼štrue
è§£é‡Šï¼š
1^2 + 9^2 = 82
8^2 + 2^2 = 68
6^2 + 8^2 = 100
1^2 + 0^2 + 0^2 = 1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼šfalse
```

> æ€è·¯ä¸€

é‡‡ç”¨å“ˆå¸Œè¡¨

```js
var isHappy = function(n) {
  const getNext = (n) => {
    return n.toString().split("").map( i => i**2).reduce((a,b) => a+b)
  }
  const map = new Map()
  while(n !== 1) {
    map.set(n, 1)
    n = getNext(n)
    if(map.has(n)) return false
  }
  return true
};
```
æ—¶é—´å¤æ‚åº¦:`O(n)`
ç©ºé—´å¤æ‚åº¦:`O(n)`

> æ€è·¯äºŒ

é‡‡ç”¨å¿«æ…¢æŒ‡é’ˆ

```js
var isHappy = function(n) {
  const getNext = (n) => {
    return n.toString().split("").map( i => i**2).reduce((a,b) => a+b)
  }
  let slow = n, fast = getNext(n)
    while(fast !== slow && fast !== 1){
        fast = getNext(getNext(fast));
        slow = getNext(slow);
    }
    return fast == 1

};
```

æ—¶é—´å¤æ‚åº¦:`O(n)`
ç©ºé—´å¤æ‚åº¦:`O(1)`

## lc49. å­—æ¯å¼‚ä½è¯åˆ†ç»„<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°† **å­—æ¯å¼‚ä½è¯** ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚

**å­—æ¯å¼‚ä½è¯** æ˜¯ç”±é‡æ–°æ’åˆ—æºå•è¯çš„å­—æ¯å¾—åˆ°çš„ä¸€ä¸ªæ–°å•è¯ï¼Œæ‰€æœ‰æºå•è¯ä¸­çš„å­—æ¯é€šå¸¸æ°å¥½åªç”¨ä¸€æ¬¡ã€‚

 :::

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]
è¾“å‡º: [["bat"],["nat","tan"],["ate","eat","tea"]]
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: strs = [""]
è¾“å‡º: [[""]]
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: strs = ["a"]
è¾“å‡º: [["a"]]
```

> æ€è·¯

å¼‚ä½è¯çš„å•è¯ç»„æˆéƒ½ä¸€æ ·çš„

```js
var groupAnagrams = function(strs) {
  const map = new Map()
  const res = []
  for(let i = 0; i < strs.length; i++) {
    const s = strs[i].split('').sort().join('')
    if(!map.has(s)) map.set(s, [strs[i]])
    else map.get(s).push(strs[i])
  }
  for(let [key, val] of map) {
    res.push(val)
  }
  return res
};
```

## lc227. åŸºæœ¬è®¡ç®—å™¨ II<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ `s` ï¼Œè¯·ä½ å®ç°ä¸€ä¸ªåŸºæœ¬è®¡ç®—å™¨æ¥è®¡ç®—å¹¶è¿”å›å®ƒçš„å€¼ã€‚

æ•´æ•°é™¤æ³•ä»…ä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "3+2*2"
è¾“å‡ºï¼š7
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = " 3/2 "
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = " 3+5 / 2 "
è¾“å‡ºï¼š5
```

> æ€è·¯

```js
var calculate = function (s) {
  // åˆ†åˆ«å­˜å‚¨æœªè®¡ç®—çš„æ•°å­—åŠç¬¦å·
  const nums = [],
    operators = [];
  const numReg = new RegExp(/[0-9]/);

  /** ç”¨äºå°†numsæœ€åå¾—ä¸¤ä¸ªæ•°æ ¹æ® operators æœ€åä¸€ä¸ªç¬¦å·ä½œè¿ç®—ï¼Œå°†ç»“æœå­˜å…¥ nums */
  const calculator = (nums, operators) => {
    const b = nums.pop();
    const a = nums.pop();
    const op = operators.pop();
    switch (op) {
      case "+":
        nums.push(a + b);
        break;
      case "-":
        nums.push(a - b);
        break;
      case "*":
        nums.push(a * b);
        break;
      case "/":
        nums.push(parseInt(a / b));
        break;
    }
  };

  for (let i = 0; i < s.length; i++) {
    if (s[i] === " ") {
      continue;
    }
    if (numReg.test(s[i])) {
      // è‹¥ä¸ºæ•°å­—ä¸”æ•°å­—çš„é•¿åº¦ä¸æ“ä½œç¬¦é•¿åº¦ç›¸åŒï¼Œä¸‹ä¸€ä¸ªå¿…å®šæ˜¯å•ç‹¬çš„æ•°å­—
      if (nums.length === operators.length) {
        nums.push(+s[i]);
      } else {
        // è‹¥æ•°å­—é•¿åº¦ä¸æ“ä½œç¬¦é•¿åº¦ä¸ç¬¦ï¼Œä¸‹ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸ºå‰ä¸€ä¸ªæ•°å­—çš„ä¸€éƒ¨åˆ†ã€‚
        nums.push(nums.pop() * 10 + +s[i]);
      }
    } else {
      // è‹¥ä¸ºä½ä¼˜å…ˆçº§è¿ç®—ç¬¦ï¼Œåˆ™å…ˆå°†å‰é¢çš„æ‰€æœ‰è¿ç®—ç»“ç®—ã€‚
      if (s[i] === "+" || s[i] === "-") {
        while (operators.length > 0) {
          calculator(nums, operators);
        }
      } else {
        // è‹¥ä¸ºé«˜ä¼˜å…ˆçº§è¿ç®—ç¬¦ï¼Œåˆ™å¦‚æœå‰ä¸€è¿ç®—ç¬¦ä¹Ÿæ˜¯é«˜ä¼˜å…ˆçº§è¿ç®—ç¬¦ï¼Œå…ˆè®¡ç®—ä¹‹å‰çš„æ•°å­—ã€‚
        // å› åŒä¸€ä¼˜å…ˆçº§è¿ç®—é¡»ä»å·¦åˆ°å³è¿ç®—ï¼Œè‹¥æœ€åä»å³å¾€å·¦ç®—ç»“æœä¼šæœ‰é—®é¢˜ã€‚
        const op = operators[operators.length - 1];
        if (op === "*" || op === "/") {
          calculator(nums, operators);
        }
      }
      operators.push(s[i]);
    }
  }
  // æœ€åå¦‚æœ‰æœªè®¡ç®—çš„è¿ç®—ç¬¦
  while (operators.length > 0) {
    calculator(nums, operators);
  }
  return nums[0];
};

```



## lc190. é¢ å€’äºŒè¿›åˆ¶ä½<Badge text="ç®€å•" />

:::tip é¢˜ç›®æè¿°

é¢ å€’ç»™å®šçš„ 32 ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½ã€‚

**æç¤ºï¼š**

- è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚
- åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨[äºŒè¿›åˆ¶è¡¥ç ](https://baike.baidu.com/item/äºŒè¿›åˆ¶è¡¥ç /5295284)è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ **ç¤ºä¾‹ 2** ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° `-3`ï¼Œè¾“å‡ºè¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° `-1073741825`ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 00000010100101000001111010011100
è¾“å‡ºï¼š964176192 (00111001011110000010100101000000)
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000010100101000001111010011100 è¡¨ç¤ºæ— ç¬¦å·æ•´æ•° 43261596ï¼Œ
     å› æ­¤è¿”å› 964176192ï¼Œå…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸º 00111001011110000010100101000000ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 11111111111111111111111111111101
è¾“å‡ºï¼š3221225471 (10111111111111111111111111111111)
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 è¡¨ç¤ºæ— ç¬¦å·æ•´æ•° 4294967293ï¼Œ
     å› æ­¤è¿”å› 3221225471 å…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸º 10111111111111111111111111111111 ã€‚
```

> æ€è·¯

```js
// å¸¸è§„
var reverseBits = function(n) {
  return parseInt(n.toString(2).padStart(32, 0).split('').reverse().join(''), 2)   
};

// ä½è¿ç®—
var reverseBits = function(n) {
    let ans=0;
    for (let i=0;i<32;i++) {
        ans<<=1;//å·¦ç§»
        ans+=n&1;//åŠ nçš„æœ€ä½ä½
        n>>=1;//nå³ç§»
    }
    return ans>>>0; 
};
```

## lc394. å­—ç¬¦ä¸²è§£ç <Badge text="ä¸­ç­‰" /><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚

ç¼–ç è§„åˆ™ä¸º: `k[encoded_string]`ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ `encoded_string` æ­£å¥½é‡å¤ `k` æ¬¡ã€‚æ³¨æ„ `k` ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚

ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° `k` ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ `3a` æˆ– `2[4]` çš„è¾“å…¥ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "3[a]2[bc]"
è¾“å‡ºï¼š"aaabcbc"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "3[a2[c]]"
è¾“å‡ºï¼š"accaccacc"
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "2[abc]3[cd]ef"
è¾“å‡ºï¼š"abcabccdcdcdef"
```

**ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šs = "abc3[cd]xyz"
è¾“å‡ºï¼š"abccdcdcdxyz"
```

```js
var decodeString = function(S) {
  if (!S) {
    return '';
  }
  let stack = [];

  // å­˜å­—æ¯å‰çš„æ•°å­—ï¼Œå¯èƒ½æœ‰å¤šä½
  let numstr = '';

  for (let s of S) {
    // å¤šä½æ•°å­—çš„å¤„ç†
    if (Number.isInteger(+s)) {
      numstr += s;
      continue;
    }

    if (numstr) {
      stack.push(+numstr);
      numstr = ''; // æ³¨æ„ç½®ç©º
    }

    // ä¸æ˜¯å³æ‹¬å·ç›´æ¥å…¥æ ˆ
    if (s != ']') {
      stack.push(s);
      continue;
    }

    // é‡åˆ°å³æ‹¬å·ï¼Œéœ€è¦å‡ºæ ˆï¼Œç›´åˆ°ä¸ç­‰äºå·¦æ‹¬å·
    let str = '';
    while (stack.length && stack.slice(-1) != '[') {
      let top = stack.pop();
      top += str;
      str = top;
    }

    // åˆ æ‰å·¦æ‹¬å·
    stack.pop();

    // å–å¾—æ•°å­—
    let count = +stack.pop();

    // å­—ç¬¦æ‹¼æ¥å¯¹åº”çš„æ¬¡æ•°
    let pushStr = str.repeat(count);  

    stack.push(pushStr);
  }
  return stack.join('');
};
```

æ—¶é—´å¤æ‚åº¦:`O(n)` `n`ä½`s`çš„é•¿åº¦

ç©ºé—´å¤æ‚åº¦:`O(n)`

## lc395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²<Badge text="ä¸­ç­‰" />

:::tip é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ æ‰¾å‡º `s` ä¸­çš„æœ€é•¿å­ä¸²ï¼Œ è¦æ±‚è¯¥å­ä¸²ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº `k` ã€‚è¿”å›è¿™ä¸€å­ä¸²çš„é•¿åº¦ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "aaabb", k = 3
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ€é•¿å­ä¸²ä¸º "aaa" ï¼Œå…¶ä¸­ 'a' é‡å¤äº† 3 æ¬¡ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "ababbc", k = 2
è¾“å‡ºï¼š5
è§£é‡Šï¼šæœ€é•¿å­ä¸²ä¸º "ababb" ï¼Œå…¶ä¸­ 'a' é‡å¤äº† 2 æ¬¡ï¼Œ 'b' é‡å¤äº† 3 æ¬¡ã€‚
```

> æ€è·¯ï¼šé€’å½’

```js
var longestSubstring = function (s, k) {
  if (s.length < k) return 0; //å¦‚æœsé•¿åº¦å°äºkï¼Œæå‰é€€å‡º è¿”å›é•¿åº¦0
  const cache = new Map();
  for (let i = 0; i < s.length; i++) {
    cache.set(s[i], cache.has(s[i]) ? cache.get(s[i]) + 1 : 1);
  }
  for (const [key, val] of cache) {
    if (val < k) {
      //æ•°é‡å°äºkçš„å­—ç¬¦ï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦ä¸²å¿…ä¸åˆæ ¼ å¤„ç†å¦‚ä¸‹
      let res = 0;
      for (const i of s.split(key)) {
        //æŒ‰ç…§ä¸ªæ•°å°äºkçš„å­—ç¬¦åˆ’åˆ†å­—ç¬¦ä¸² åˆ†æ²»ï¼
        res = Math.max(res, longestSubstring(i, k)); //å¯¹åˆ’åˆ†çš„å­—ç¬¦ä¸²ç»§ç»­é€’å½’åˆ¤æ–­
      }
      return res;
    }
  }
  return s.length; //å¦‚æœsä¸­æ‰€æœ‰å­—ç¬¦ä¸ªæ•°éƒ½å¤§äºkï¼Œè¿”å›sçš„é•¿åº¦
};
```

æ—¶é—´å¤æ‚åº¦:`O(n)`

ç©ºé—´å¤æ‚åº¦:`O(n ^ n)`

## å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦<badge text="ç®€å•"/>

:::tip é¢˜ç›®æè¿°

åœ¨å­—ç¬¦ä¸² `s `ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¿”å›ä¸€ä¸ªå•ç©ºæ ¼ã€‚ `s` åªåŒ…å«å°å†™å­—æ¯ã€‚

:::

**ç¤ºä¾‹ 1:**

```
è¾“å…¥ï¼šs = "abaccdeff"
è¾“å‡ºï¼š'b'
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥ï¼šs = "" 
è¾“å‡ºï¼š' '
```

```js
var firstUniqChar = function(s) {
  for(let i of s) {
    if(s.indexOf(i)===s.lastIndexOf(i)) return i
  }
  return ' '
};
```

## lc415. å­—ç¬¦ä¸²ç›¸åŠ <badge text="ç®€å•"/><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„éè´Ÿæ•´æ•° `num1` å’Œ`num2` ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œå¹¶åŒæ ·ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚

ä½ ä¸èƒ½ä½¿ç”¨ä»»ä½•å…§å»ºçš„ç”¨äºå¤„ç†å¤§æ•´æ•°çš„åº“ï¼ˆæ¯”å¦‚ `BigInteger`ï¼‰ï¼Œ ä¹Ÿä¸èƒ½ç›´æ¥å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å½¢å¼ã€‚

 :::

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnum1 = "11", num2 = "123"
è¾“å‡ºï¼š"134"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnum1 = "456", num2 = "77"
è¾“å‡ºï¼š"533"
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnum1 = "0", num2 = "0"
è¾“å‡ºï¼š"0"
```

```js
var addStrings = function(num1, num2) {
  num1 = num1.split('')
  num2 = num2.split('')
  let carry = 0
  let sum = ''
  while(num1.length || num2.length || carry) {
    let n1 = num1.length ? num1.pop() : 0 
    let n2 = num2.length ? num2.pop() : 0 
    let curSum = (+n1) + (+n2) + carry
    carry = Math.floor(curSum / 10)
    sum = curSum % 10 + sum
  }
  return sum
};
```

## lc1360. æ—¥æœŸä¹‹é—´éš”å‡ å¤©<Badge text="ç®€å•" />

:::tip é¢˜ç›®æè¿°

è¯·ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºæ¥è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´éš”äº†å¤šå°‘å¤©ã€‚

æ—¥æœŸä»¥å­—ç¬¦ä¸²å½¢å¼ç»™å‡ºï¼Œæ ¼å¼ä¸º `YYYY-MM-DD`ï¼Œå¦‚ç¤ºä¾‹æ‰€ç¤ºã€‚

::: 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šdate1 = "2019-06-29", date2 = "2019-06-30"
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šdate1 = "2020-01-15", date2 = "2019-12-31"
è¾“å‡ºï¼š15
```

 

**æç¤ºï¼š**

- ç»™å®šçš„æ—¥æœŸæ˜¯ `1971` å¹´åˆ° `2100` å¹´ä¹‹é—´çš„æœ‰æ•ˆæ—¥æœŸã€‚

```js
/**
 * @param {string} date1
 * @param {string} date2
 * @return {number}
 */
var daysBetweenDates = function(date1, date2) {
  return Math.abs((+new Date(date1)) - (+new Date(date2))) / (60 * 60 * 1000 * 24)
};
```

## lc8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)<badge text="ç®€å•"/><Badge text="hot" type="error" />

:::tip é¢˜ç›®æè¿°

è¯·ä½ æ¥å®ç°ä¸€ä¸ª `myAtoi(string s)` å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„ `atoi` å‡½æ•°ï¼‰ã€‚

å‡½æ•° `myAtoi(string s)` çš„ç®—æ³•å¦‚ä¸‹ï¼š

1. è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼
2. æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚
3. è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚
4. å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œ"123" -> 123ï¼Œ "0032" -> 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º `0` ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚
5. å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ `[âˆ’231, 231 âˆ’ 1]` ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº `âˆ’231` çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º `âˆ’231` ï¼Œå¤§äº `231 âˆ’ 1` çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º `231 âˆ’ 1` ã€‚
6. è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚

**æ³¨æ„ï¼š**

- æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦ `' '` ã€‚
- é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œ**è¯·å‹¿å¿½ç•¥** ä»»ä½•å…¶ä»–å­—ç¬¦ã€‚

::: 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "42"
è¾“å‡ºï¼š42
è§£é‡Šï¼šåŠ ç²—çš„å­—ç¬¦ä¸²ä¸ºå·²ç»è¯»å…¥çš„å­—ç¬¦ï¼Œæ’å…¥ç¬¦å·æ˜¯å½“å‰è¯»å–çš„å­—ç¬¦ã€‚
ç¬¬ 1 æ­¥ï¼š"42"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
         ^
ç¬¬ 2 æ­¥ï¼š"42"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ '-' æˆ–è€… '+'ï¼‰
         ^
ç¬¬ 3 æ­¥ï¼š"42"ï¼ˆè¯»å…¥ "42"ï¼‰
           ^
è§£æå¾—åˆ°æ•´æ•° 42 ã€‚
ç”±äº "42" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 42 ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "   -42"
è¾“å‡ºï¼š-42
è§£é‡Šï¼š
ç¬¬ 1 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥å‰å¯¼ç©ºæ ¼ï¼Œä½†å¿½è§†æ‰ï¼‰
            ^
ç¬¬ 2 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥ '-' å­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼‰
             ^
ç¬¬ 3 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥ "42"ï¼‰
               ^
è§£æå¾—åˆ°æ•´æ•° -42 ã€‚
ç”±äº "-42" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º -42 ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "4193 with words"
è¾“å‡ºï¼š4193
è§£é‡Šï¼š
ç¬¬ 1 æ­¥ï¼š"4193 with words"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
         ^
ç¬¬ 2 æ­¥ï¼š"4193 with words"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ '-' æˆ–è€… '+'ï¼‰
         ^
ç¬¬ 3 æ­¥ï¼š"4193 with words"ï¼ˆè¯»å…¥ "4193"ï¼›ç”±äºä¸‹ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥è¯»å…¥åœæ­¢ï¼‰
             ^
è§£æå¾—åˆ°æ•´æ•° 4193 ã€‚
ç”±äº "4193" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 4193 ã€‚
```

```js
var myAtoi = function(s){
    let limit = Math.pow(2,31);
    let num = parseInt(s);

    if(isNaN(num)){
        num = 0;
    }

    if(num < - limit){
        num = -limit;
    }
    if(num > limit - 1){
        num = limit - 1;
    }

    return num;
};
```



# `KMP`ç®—æ³•

## lc28. å®ç°`strStr()` <Badge text="ç®€å•" />

:::tip é¢˜ç›®æè¿°

å®ç° `strStr()` å‡½æ•°ã€‚

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² `haystack` å’Œ `needle` ï¼Œè¯·ä½ åœ¨ `haystack` å­—ç¬¦ä¸²ä¸­æ‰¾å‡º `needle` å­—ç¬¦ä¸²å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆä¸‹æ ‡ä» `0` å¼€å§‹ï¼‰ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›  `-1` ã€‚

 

è¯´æ˜ï¼š

å½“ `needle` æ˜¯ç©ºå­—ç¬¦ä¸²æ—¶ï¼Œæˆ‘ä»¬åº”å½“è¿”å›ä»€ä¹ˆå€¼å‘¢ï¼Ÿè¿™æ˜¯ä¸€ä¸ªåœ¨é¢è¯•ä¸­å¾ˆå¥½çš„é—®é¢˜ã€‚

å¯¹äºæœ¬é¢˜è€Œè¨€ï¼Œå½“ `needle` æ˜¯ç©ºå­—ç¬¦ä¸²æ—¶æˆ‘ä»¬åº”å½“è¿”å› `0` ã€‚è¿™ä¸ `C è¯­è¨€`çš„ `strstr()` ä»¥åŠ `Java` çš„ `indexOf()` å®šä¹‰ç›¸ç¬¦ã€‚

::: 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šhaystack = "hello", needle = "ll"
è¾“å‡ºï¼š2
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šhaystack = "aaaaa", needle = "bba"
è¾“å‡ºï¼š-1
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šhaystack = "", needle = ""
è¾“å‡ºï¼š0
```

> æ€è·¯ï¼š`KMP`ç®—æ³•

æ­£å¸¸çš„æš´åŠ›è§£æ³•æ˜¯`O(m * n)`,è€Œ`KMP`ç®—æ³•æ˜¯`O(m + n)` 

```
ç›´æ¥ä¸¾ä¾‹ï¼š
 * haystackï¼š   aabaabaafa
 * needleï¼š     aabaaf

 * 
 * needleï¼š
 *  å‰ç¼€ï¼šä¸åŒ…å«æœ«å°¾çš„æ‰€æœ‰å­—ç¬¦ä¸²
 *  åç¼€ï¼šä¸åŒ…å«å¼€å¤´çš„æ‰€æœ‰å­—ç¬¦ä¸²
 * 
 * å‰ç¼€ï¼š               åç¼€ï¼š
 *   a,                  f,
 *   aa,                 af,
 *   aab,                aaf,  
 *   aaba,               baaf,
 *   aabaa,              abaaf,
 *   aabaaf, âŒ          aabaaf, âŒ           è¿™ä¸€è¡Œä¸æ˜¯å‰ç¼€ä¹Ÿä¸æ˜¯åç¼€
 * 
 * æœ€é•¿ç›¸ç­‰çš„å‰åç¼€ï¼š
 *   a          0  åªæœ‰ä¸€ä¸ªï¼Œ0
 *   aa         1  å‰ç¼€ï¼šaã€‚åç¼€ï¼ša
 *   aab        0  å‰ç¼€ï¼šaã€aaã€‚åç¼€ï¼šbã€abã€‚
 *   aaba       1  å‰ç¼€ï¼šaã€aaã€aabã€‚åç¼€ï¼šaã€baã€abaã€‚
 *   aabaa      2  å‰ç¼€ï¼šaã€aaã€aabã€aabaã€‚åç¼€ï¼šaã€aaã€baaã€abaaã€‚
 *   aabaaf     0  ....
 *  
 *  next = ã€ 0,1,0,1,2,0 ã€‘ï¼Œnextå°±æ˜¯needleçš„å‰ç¼€è¡¨ã€‚
 * 
 *  1. nextä¸­çš„å€¼ä»£è¡¨ç€è¯¥å­ä¸²çš„æœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦ï¼Œ
 *  2. å› ä¸ºæ•°ç»„æ˜¯ä»0å¼€å§‹çš„ï¼Œè¯¥å€¼è¿˜è¡¨ç¤ºå­ä¸²æœ€é•¿ç›¸ç­‰å‰åç¼€çš„ä¸‹ä¸€é¡¹çš„ç´¢å¼•
 * 
 *  ä¾‹å¦‚ï¼š next[4] = 2ï¼Œ å…¶å¯¹åº”çš„å­ä¸²æ˜¯aabaaï¼Œå‰ç¼€å’Œåç¼€ç›¸ç­‰çš„åªæœ‰aã€aaï¼Œé•¿åº¦ä¸º2ã€‚ 
 *        needle[2] === b æ°å¥½ç­‰äºä¸‹ä¸€é¡¹çš„ç´¢å¼•ã€‚
 * 
```

```js
var strStr = function(haystack, needle) {
    let n = haystack.length
    let m = needle.length
    if(m === 0) return 0

    let next = new Array(m).fill(0)
    for(let i = 1, j = 0; i < m; i++){
      // iï¼šå½“å‰å­ä¸²çš„åç¼€æœ«å°¾
      // jï¼šä¸Šä¸€é¡¹å­ä¸²æœ€é•¿ç›¸ç­‰å‰åç¼€çš„ä¸‹ä¸€é¡¹ æˆ–è€… 0 ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯ ä¸Šä¸€é¡¹å­ä¸²æœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦
        while(j > 0 && needle[i] !== needle[j]){
          // å¦‚æœä¸åŒï¼Œæˆ‘ä»¬è¦ä»æœªåŒ¹é…å¥½çš„åœ°æ–¹å¼€å§‹ç»§ç»­åŒ¹é…ã€‚
          // æœªåŒ¹é…å¥½çš„ä½ç½®æ˜¯é‚£é‡Œå‘¢ï¼Ÿ ğŸ‘‡
          // æˆ‘ä»¬çŸ¥é“ next æ•°ç»„çš„å€¼å°±ä»£è¡¨æ¯ä¸€æ¬¡å­ä¸²åŒ¹é…å¥½çš„é•¿åº¦ï¼Œ
          // å› ä¸ºæ•°ç»„æ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥j - 1å°±æŒ‡å‘äº†ä¸Šä¸€ä¸ªå­ä¸²æœªåŒ¹é…å¥½çš„ä½ç½®ã€‚
          // å½“j === 0æ—¶ï¼Œè¯´æ˜è¦ä»å¤´å¼€å§‹é‡æ–°åŒ¹é…äº†
            j = next[j - 1]
        }
        if(needle[i] === needle[j]){
            j++
        }
        next[i] = j
    }

    // ææ‡‚ä¸Šé¢çš„ï¼Œä¸‹é¢çš„ä¹Ÿå°±æ‡‚äº†
    for(let i = 0, j = 0; i < n; i++){
        // å¦‚æœå½“å‰i å’Œ jä¸ä¸€è‡´ï¼Œå°±å›é€€åˆ°ä¸Šä¸€ä¸ªç›¸ç­‰çš„ä½ç½®çš„ä¸‹ä¸€ä¸ªçœ‹çœ‹æ˜¯å¦åŒ¹é…
        // ä¼šä¸æ–­å›é€€ï¼Œ0ä¸ºå›é€€åˆ°è¾¹ç•Œï¼Œå½“å›é€€åˆ°0æ„å‘³ç€è¦é‡æ–°ä»å¤´å¼€å§‹åŒ¹é…
        while(j > 0 && haystack[i] !== needle[j]){
            j = next[j - 1]
        }
        if( haystack[i] === needle[j]){
            j++
        }
        // å½“j å’Œ m çš„é•¿åº¦ç›¸ç­‰æ—¶ï¼Œå°±è¯´æ˜å­˜åœ¨
        if(j === m){
            return i - m + 1
        }
    }
    return -1
};
```

> æ€è·¯äºŒ

ä¹Ÿå¯ä»¥ç”¨æˆªå–å­—ç¬¦ä¸²çš„é•¿åº¦æ¥è§£

```js
var strStr = function (haystack, needle) {
  if (needle === "") return 0
  for (var i = 0; i < haystack.length; i++) {
      if (haystack[i] === needle[0]) {
          if (haystack.substring(i, i + needle.length) === needle) return i;
      }
  }
  return -1
};
```

## 

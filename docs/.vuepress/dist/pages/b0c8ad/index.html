<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å…¶ä»– | å°å®‹çˆ±ç¡è§‰</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="ğŸš€ä¸€ä¸ªå‰ç«¯ç¨‹åºå‘˜å°ç™½çš„åšå®¢ğŸŒ¹">
    <meta name="keywords" content="blog,crucials,frontend,å‰ç«¯,å°å®‹çˆ±ç¡è§‰,åšå®¢,duochizhacai">
    <meta name="theme-color" content="#60ad81">
    
    <link rel="preload" href="/assets/css/0.styles.65787d8c.css" as="style"><link rel="preload" href="/assets/js/app.95fc12d6.js" as="script"><link rel="preload" href="/assets/js/2.abf57e2f.js" as="script"><link rel="preload" href="/assets/js/51.9ad2b264.js" as="script"><link rel="prefetch" href="/assets/js/10.9d6bb65c.js"><link rel="prefetch" href="/assets/js/11.bea1ca2d.js"><link rel="prefetch" href="/assets/js/12.a5ced6a2.js"><link rel="prefetch" href="/assets/js/13.ec1bcac6.js"><link rel="prefetch" href="/assets/js/14.4e5bcc62.js"><link rel="prefetch" href="/assets/js/15.753bb2dc.js"><link rel="prefetch" href="/assets/js/16.a6e51bcc.js"><link rel="prefetch" href="/assets/js/17.25227dca.js"><link rel="prefetch" href="/assets/js/18.19267273.js"><link rel="prefetch" href="/assets/js/19.a9403a12.js"><link rel="prefetch" href="/assets/js/20.c007e659.js"><link rel="prefetch" href="/assets/js/21.dca7af69.js"><link rel="prefetch" href="/assets/js/22.d9f25771.js"><link rel="prefetch" href="/assets/js/23.2668c7ed.js"><link rel="prefetch" href="/assets/js/24.30c858a4.js"><link rel="prefetch" href="/assets/js/25.bd21abb1.js"><link rel="prefetch" href="/assets/js/26.28d250cb.js"><link rel="prefetch" href="/assets/js/27.a60d212f.js"><link rel="prefetch" href="/assets/js/28.8a5c2c34.js"><link rel="prefetch" href="/assets/js/29.4688a5d6.js"><link rel="prefetch" href="/assets/js/3.e687237e.js"><link rel="prefetch" href="/assets/js/30.5985f3b4.js"><link rel="prefetch" href="/assets/js/31.7ee5d916.js"><link rel="prefetch" href="/assets/js/32.2f711dea.js"><link rel="prefetch" href="/assets/js/33.45a4e58a.js"><link rel="prefetch" href="/assets/js/34.6a46cad8.js"><link rel="prefetch" href="/assets/js/35.79084a19.js"><link rel="prefetch" href="/assets/js/36.9a5cf509.js"><link rel="prefetch" href="/assets/js/37.ea6b36a3.js"><link rel="prefetch" href="/assets/js/38.1ebed809.js"><link rel="prefetch" href="/assets/js/39.16200e67.js"><link rel="prefetch" href="/assets/js/4.4a0efd85.js"><link rel="prefetch" href="/assets/js/40.db1f5064.js"><link rel="prefetch" href="/assets/js/41.5c8205b4.js"><link rel="prefetch" href="/assets/js/42.d8e671a9.js"><link rel="prefetch" href="/assets/js/43.80c6d459.js"><link rel="prefetch" href="/assets/js/44.0dc33dbe.js"><link rel="prefetch" href="/assets/js/45.e623e04e.js"><link rel="prefetch" href="/assets/js/46.b9a46fc2.js"><link rel="prefetch" href="/assets/js/47.2d5eb349.js"><link rel="prefetch" href="/assets/js/48.8d4e8a09.js"><link rel="prefetch" href="/assets/js/49.f7f58461.js"><link rel="prefetch" href="/assets/js/5.84799806.js"><link rel="prefetch" href="/assets/js/50.b482896d.js"><link rel="prefetch" href="/assets/js/52.7862671c.js"><link rel="prefetch" href="/assets/js/53.d8153804.js"><link rel="prefetch" href="/assets/js/54.0af2674d.js"><link rel="prefetch" href="/assets/js/55.597b91b8.js"><link rel="prefetch" href="/assets/js/56.46804158.js"><link rel="prefetch" href="/assets/js/57.006f6db0.js"><link rel="prefetch" href="/assets/js/58.751e40d0.js"><link rel="prefetch" href="/assets/js/59.b0ebe0e6.js"><link rel="prefetch" href="/assets/js/6.f7ec0152.js"><link rel="prefetch" href="/assets/js/60.8d675b12.js"><link rel="prefetch" href="/assets/js/61.55190a7f.js"><link rel="prefetch" href="/assets/js/62.117f5f66.js"><link rel="prefetch" href="/assets/js/63.b848bfe2.js"><link rel="prefetch" href="/assets/js/64.000227a3.js"><link rel="prefetch" href="/assets/js/65.9ec404e1.js"><link rel="prefetch" href="/assets/js/66.1834b2b1.js"><link rel="prefetch" href="/assets/js/67.bf716de8.js"><link rel="prefetch" href="/assets/js/68.6e03054c.js"><link rel="prefetch" href="/assets/js/69.c6605c56.js"><link rel="prefetch" href="/assets/js/7.40c08f02.js"><link rel="prefetch" href="/assets/js/70.30051d78.js"><link rel="prefetch" href="/assets/js/71.1fdc7d36.js"><link rel="prefetch" href="/assets/js/72.4b0ad4ad.js"><link rel="prefetch" href="/assets/js/73.e989ab6d.js"><link rel="prefetch" href="/assets/js/74.02429c23.js"><link rel="prefetch" href="/assets/js/75.8f044cef.js"><link rel="prefetch" href="/assets/js/76.7acc2de5.js"><link rel="prefetch" href="/assets/js/77.ce127400.js"><link rel="prefetch" href="/assets/js/78.deb1ae24.js"><link rel="prefetch" href="/assets/js/79.75a4c78b.js"><link rel="prefetch" href="/assets/js/8.303c64d8.js"><link rel="prefetch" href="/assets/js/80.6c258060.js"><link rel="prefetch" href="/assets/js/81.563a0c28.js"><link rel="prefetch" href="/assets/js/82.143b4caf.js"><link rel="prefetch" href="/assets/js/83.32431b7f.js"><link rel="prefetch" href="/assets/js/84.2320a5a5.js"><link rel="prefetch" href="/assets/js/85.d9a1625a.js"><link rel="prefetch" href="/assets/js/86.dc0f47f2.js"><link rel="prefetch" href="/assets/js/87.8335157f.js"><link rel="prefetch" href="/assets/js/88.2cfc7001.js"><link rel="prefetch" href="/assets/js/89.6bc590c2.js"><link rel="prefetch" href="/assets/js/9.7ba1b2de.js"><link rel="prefetch" href="/assets/js/90.c20801a7.js"><link rel="prefetch" href="/assets/js/91.1a32fafc.js"><link rel="prefetch" href="/assets/js/92.4a802465.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65787d8c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/logo.png" alt="å°å®‹çˆ±ç¡è§‰" class="logo"> <span class="site-name can-hide">å°å®‹çˆ±ç¡è§‰</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="çŸ¥è¯†åº“" class="dropdown-title"><a href="/pages/56881f/" class="link-title">çŸ¥è¯†åº“</a> <span class="title" style="display:none;">çŸ¥è¯†åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56881f/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/c0e7f0/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/787250/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/f0a671/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b7238f/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/2448f7/" class="nav-link">è®¡ç®—æœºç½‘ç»œ</a></li><li class="dropdown-item"><!----> <a href="/pages/b8bd46/" class="nav-link">æµè§ˆå™¨åŸç†</a></li><li class="dropdown-item"><!----> <a href="/pages/f15087/" class="nav-link">æ€§èƒ½ä¼˜åŒ–</a></li><li class="dropdown-item"><!----> <a href="/pages/e3cba5/" class="nav-link">è®¾è®¡æ¨¡å¼</a></li></ul></div></div><div class="nav-item"><a href="/pages/ba01c4/" class="nav-link">æ‰‹å†™ç³»åˆ—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><a href="/pages/ad5191/" class="link-title">ç®—æ³•</a> <span class="title" style="display:none;">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8ac126/" class="nav-link">å­—ç¬¦ä¸²</a></li><li class="dropdown-item"><!----> <a href="/pages/251490/" class="nav-link">æ•°ç»„</a></li><li class="dropdown-item"><!----> <a href="/pages/fc9745/" class="nav-link">é“¾è¡¨</a></li><li class="dropdown-item"><!----> <a href="/pages/ad5191/" class="nav-link">æ ‘</a></li><li class="dropdown-item"><!----> <a href="/pages/6aee18/" class="nav-link">åŠ¨æ€è§„åˆ’</a></li><li class="dropdown-item"><!----> <a href="/pages/78e948/" class="nav-link">æ’åºç®—æ³•</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><a href="/pages/b0c8ad/https://github.com/duochizhacai" class="link-title">GitHub</a> <span class="title" style="display:none;">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/duochizhacai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1249486902410744" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JueJin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="çŸ¥è¯†åº“" class="dropdown-title"><a href="/pages/56881f/" class="link-title">çŸ¥è¯†åº“</a> <span class="title" style="display:none;">çŸ¥è¯†åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56881f/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/c0e7f0/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/787250/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/f0a671/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b7238f/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/2448f7/" class="nav-link">è®¡ç®—æœºç½‘ç»œ</a></li><li class="dropdown-item"><!----> <a href="/pages/b8bd46/" class="nav-link">æµè§ˆå™¨åŸç†</a></li><li class="dropdown-item"><!----> <a href="/pages/f15087/" class="nav-link">æ€§èƒ½ä¼˜åŒ–</a></li><li class="dropdown-item"><!----> <a href="/pages/e3cba5/" class="nav-link">è®¾è®¡æ¨¡å¼</a></li></ul></div></div><div class="nav-item"><a href="/pages/ba01c4/" class="nav-link">æ‰‹å†™ç³»åˆ—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><a href="/pages/ad5191/" class="link-title">ç®—æ³•</a> <span class="title" style="display:none;">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8ac126/" class="nav-link">å­—ç¬¦ä¸²</a></li><li class="dropdown-item"><!----> <a href="/pages/251490/" class="nav-link">æ•°ç»„</a></li><li class="dropdown-item"><!----> <a href="/pages/fc9745/" class="nav-link">é“¾è¡¨</a></li><li class="dropdown-item"><!----> <a href="/pages/ad5191/" class="nav-link">æ ‘</a></li><li class="dropdown-item"><!----> <a href="/pages/6aee18/" class="nav-link">åŠ¨æ€è§„åˆ’</a></li><li class="dropdown-item"><!----> <a href="/pages/78e948/" class="nav-link">æ’åºç®—æ³•</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><a href="/pages/b0c8ad/https://github.com/duochizhacai" class="link-title">GitHub</a> <span class="title" style="display:none;">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/duochizhacai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1249486902410744" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JueJin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/b7238f/" class="sidebar-link">äº‹ä»¶æœºåˆ¶</a></li><li><a href="/pages/24db5f/" class="sidebar-link">æ•°æ®ç®¡ç†</a></li><li><a href="/pages/54c6f9/" class="sidebar-link">ç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="/pages/be9376/" class="sidebar-link">ç»„ä»¶é€šä¿¡</a></li><li><a href="/pages/000594/" class="sidebar-link">è·¯ç”±</a></li><li><a href="/pages/30f7b5/" class="sidebar-link">redux</a></li><li><a href="/pages/6bcb1a/" class="sidebar-link">Hooks</a></li><li><a href="/pages/b06269/" class="sidebar-link">è™šæ‹ŸDOM</a></li><li><a href="/pages/b0c8ad/" aria-current="page" class="active sidebar-link">å…¶ä»–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#react-ç»„ä»¶å‘½åæ¨èçš„æ–¹å¼æ˜¯å“ªä¸ª" class="sidebar-link">React ç»„ä»¶å‘½åæ¨èçš„æ–¹å¼æ˜¯å“ªä¸ªï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#react-æœ€æ–°ç‰ˆæœ¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜-å¢åŠ äº†å“ªäº›ä¸œè¥¿" class="sidebar-link">react æœ€æ–°ç‰ˆæœ¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œå¢åŠ äº†å“ªäº›ä¸œè¥¿</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#react-å®ç°ä¸€ä¸ªå…¨å±€çš„-dialog" class="sidebar-link">react å®ç°ä¸€ä¸ªå…¨å±€çš„ dialog</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#react-æ•°æ®æŒä¹…åŒ–æœ‰ä»€ä¹ˆå®è·µå—" class="sidebar-link">React æ•°æ®æŒä¹…åŒ–æœ‰ä»€ä¹ˆå®è·µå—ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#å¯¹-react-å’Œ-vue-çš„ç†è§£-å®ƒä»¬çš„å¼‚åŒ" class="sidebar-link">å¯¹ React å’Œ Vue çš„ç†è§£ï¼Œå®ƒä»¬çš„å¼‚åŒ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#å¯ä»¥ä½¿ç”¨typescriptå†™reactåº”ç”¨å—-æ€ä¹ˆæ“ä½œ" class="sidebar-link">å¯ä»¥ä½¿ç”¨TypeScriptå†™Reactåº”ç”¨å—ï¼Ÿæ€ä¹ˆæ“ä½œï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#react-è®¾è®¡æ€è·¯-å®ƒçš„ç†å¿µæ˜¯ä»€ä¹ˆ" class="sidebar-link">React è®¾è®¡æ€è·¯ï¼Œå®ƒçš„ç†å¿µæ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#reactä¸­props-childrenå’Œreact-childrençš„åŒºåˆ«" class="sidebar-link">Reactä¸­props.childrenå’ŒReact.Childrençš„åŒºåˆ«</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#reactçš„çŠ¶æ€æå‡æ˜¯ä»€ä¹ˆ-ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›" class="sidebar-link">Reactçš„çŠ¶æ€æå‡æ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#reactä¸­constructorå’Œgetinitialstateçš„åŒºåˆ«" class="sidebar-link">Reactä¸­constructorå’ŒgetInitialStateçš„åŒºåˆ«?</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#reactçš„ä¸¥æ ¼æ¨¡å¼å¦‚ä½•ä½¿ç”¨-æœ‰ä»€ä¹ˆç”¨å¤„" class="sidebar-link">Reactçš„ä¸¥æ ¼æ¨¡å¼å¦‚ä½•ä½¿ç”¨ï¼Œæœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#åœ¨reactä¸­éå†çš„æ–¹æ³•æœ‰å“ªäº›" class="sidebar-link">åœ¨Reactä¸­éå†çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#åœ¨reactä¸­é¡µé¢é‡æ–°åŠ è½½æ—¶æ€æ ·ä¿ç•™æ•°æ®" class="sidebar-link">åœ¨Reactä¸­é¡µé¢é‡æ–°åŠ è½½æ—¶æ€æ ·ä¿ç•™æ•°æ®ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#åŒæ—¶å¼•ç”¨è¿™ä¸‰ä¸ªåº“react-jsã€react-dom-jså’Œbabel-jså®ƒä»¬éƒ½æœ‰ä»€ä¹ˆä½œç”¨" class="sidebar-link">åŒæ—¶å¼•ç”¨è¿™ä¸‰ä¸ªåº“react.jsã€react-dom.jså’Œbabel.jså®ƒä»¬éƒ½æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#reactå¿…é¡»ä½¿ç”¨jsxå—" class="sidebar-link">Reactå¿…é¡»ä½¿ç”¨JSXå—ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#ä¸ºä»€ä¹ˆä½¿ç”¨jsxçš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨reactå´éœ€è¦å¼•å…¥react" class="sidebar-link">ä¸ºä»€ä¹ˆä½¿ç”¨jsxçš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨reactå´éœ€è¦å¼•å…¥reactï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#åœ¨reactä¸­æ€ä¹ˆä½¿ç”¨async-await" class="sidebar-link">åœ¨Reactä¸­æ€ä¹ˆä½¿ç”¨async/awaitï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#react-children-mapå’Œjsçš„mapæœ‰ä»€ä¹ˆåŒºåˆ«" class="sidebar-link">React.Children.mapå’Œjsçš„mapæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#å¯¹react-ssrçš„ç†è§£" class="sidebar-link">å¯¹React SSRçš„ç†è§£</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#_20-ä¸ºä»€ä¹ˆ-react-è¦ç”¨-jsx" class="sidebar-link">20. ä¸ºä»€ä¹ˆ React è¦ç”¨ JSXï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#hoc-ç›¸æ¯”-mixins-æœ‰ä»€ä¹ˆä¼˜ç‚¹" class="sidebar-link">HOC ç›¸æ¯” mixins æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#react-ä¸­çš„é«˜é˜¶ç»„ä»¶è¿ç”¨äº†ä»€ä¹ˆè®¾è®¡æ¨¡å¼" class="sidebar-link">React ä¸­çš„é«˜é˜¶ç»„ä»¶è¿ç”¨äº†ä»€ä¹ˆè®¾è®¡æ¨¡å¼ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/pages/b0c8ad/#ç”¨-react-å®ç°ä¸€ä¸ªä¿¡å·ç¯-äº¤é€šç¯-æ§åˆ¶å™¨" class="sidebar-link">ç”¨ React å®ç°ä¸€ä¸ªä¿¡å·ç¯ï¼ˆäº¤é€šç¯ï¼‰æ§åˆ¶å™¨</a></li></ul></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><span data-v-1cd794fe>React</span></li> <!----> <!----></ul> <div class="info" data-v-1cd794fe><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/duochizhacai" target="_blank" title="ä½œè€…" class="beLink" data-v-1cd794fe>Crucials</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2022-05-01</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          å…¶ä»–
        </h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="react-ç»„ä»¶å‘½åæ¨èçš„æ–¹å¼æ˜¯å“ªä¸ª"><a href="#react-ç»„ä»¶å‘½åæ¨èçš„æ–¹å¼æ˜¯å“ªä¸ª" class="header-anchor">#</a> <code>React</code> ç»„ä»¶å‘½åæ¨èçš„æ–¹å¼æ˜¯å“ªä¸ªï¼Ÿ</h2> <p>é€šè¿‡å¼•ç”¨è€Œä¸æ˜¯ä½¿ç”¨æ¥å‘½åç»„ä»¶ <code>displayName</code>ã€‚</p> <p>ä½¿ç”¨<code>displayName</code> å‘½åç»„ä»¶ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  displayName<span class="token operator">:</span> <span class="token string">'TodoApp'</span><span class="token punctuation">,</span>  <span class="token comment">// ...})</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>React</code> æ¨èçš„æ–¹æ³•ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">TodoApp</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  <span class="token comment">// ...}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="react-æœ€æ–°ç‰ˆæœ¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜-å¢åŠ äº†å“ªäº›ä¸œè¥¿"><a href="#react-æœ€æ–°ç‰ˆæœ¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜-å¢åŠ äº†å“ªäº›ä¸œè¥¿" class="header-anchor">#</a> <code>react</code> æœ€æ–°ç‰ˆæœ¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œå¢åŠ äº†å“ªäº›ä¸œè¥¿</h2> <p><code>React 16.x</code>çš„ä¸‰å¤§æ–°ç‰¹æ€§ <code>Time Slicing</code>ã€<code>Suspense</code>ã€ <code>hooks</code></p> <ul><li><strong><code>Time Slicing</code>ï¼ˆè§£å†³<code>CPU</code> é€Ÿåº¦é—®é¢˜</strong>ï¼‰ä½¿å¾—åœ¨æ‰§è¡Œä»»åŠ¡çš„æœŸé—´å¯ä»¥éšæ—¶æš‚åœï¼Œè·‘å»å¹²åˆ«çš„äº‹æƒ…ï¼Œè¿™ä¸ªç‰¹æ€§ä½¿å¾—<code>react</code>èƒ½åœ¨æ€§èƒ½æå…¶å·®çš„æœºå™¨è·‘æ—¶ï¼Œä»ç„¶ä¿æŒæœ‰è‰¯å¥½çš„æ€§èƒ½</li> <li><strong><code>Suspense</code> ï¼ˆè§£å†³ç½‘ç»œ<code>IO</code>é—®é¢˜ï¼‰</strong> å’Œ<code>lazy</code>é…åˆï¼Œå®ç°å¼‚æ­¥åŠ è½½ç»„ä»¶ã€‚ èƒ½æš‚åœå½“å‰ç»„ä»¶çš„æ¸²æŸ“ï¼Œ å½“å®ŒæˆæŸä»¶äº‹ä»¥åå†ç»§ç»­æ¸²æŸ“ï¼Œè§£å†³ä»<code>react</code>å‡ºç”Ÿåˆ°ç°åœ¨éƒ½å­˜åœ¨çš„ã€Œå¼‚æ­¥å‰¯ä½œç”¨ã€çš„é—®é¢˜ï¼Œè€Œä¸”è§£å†³å¾—éçš„ä¼˜é›…ï¼Œä½¿ç”¨çš„æ˜¯ å¼‚æ­¥ä½†æ˜¯åŒæ­¥çš„å†™æ³•ï¼Œè¿™æ˜¯æœ€å¥½çš„è§£å†³å¼‚æ­¥é—®é¢˜çš„æ–¹å¼</li> <li>æä¾›äº†ä¸€ä¸ª<strong>å†…ç½®å‡½æ•°<code>componentDidCatch</code></strong>ï¼Œå½“æœ‰é”™è¯¯å‘ç”Ÿæ—¶ï¼Œå¯ä»¥å‹å¥½åœ°å±•ç¤º <code>fallback</code> ç»„ä»¶; å¯ä»¥æ•æ‰åˆ°å®ƒçš„å­å…ƒç´ ï¼ˆåŒ…æ‹¬åµŒå¥—å­å…ƒç´ ï¼‰æŠ›å‡ºçš„å¼‚å¸¸; å¯ä»¥å¤ç”¨é”™è¯¯ç»„ä»¶ã€‚</li></ul> <p><strong>1. <code>React16.8</code></strong> åŠ å…¥<code>hooks</code>ï¼Œè®©<code>React</code>å‡½æ•°å¼ç»„ä»¶æ›´åŠ çµæ´»ï¼Œ<code>hooks</code>ä¹‹å‰ï¼Œ<code>React</code>å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼š</p> <ul><li>åœ¨ç»„ä»¶é—´å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆéš¾</li> <li>å¤æ‚ç»„ä»¶å˜å¾—éš¾ä»¥ç†è§£ï¼Œé«˜é˜¶ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åµŒå¥—è¿‡æ·±ã€‚</li> <li><code>class</code>ç»„ä»¶çš„<code>this</code>æŒ‡å‘é—®é¢˜</li> <li>éš¾ä»¥è®°å¿†çš„ç”Ÿå‘½å‘¨æœŸ</li></ul> <p><code>hooks</code>å¾ˆå¥½çš„è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼Œ<code>hooks</code>æä¾›äº†å¾ˆå¤šæ–¹æ³•</p> <ul><li><code>useState</code> è¿”å›æœ‰çŠ¶æ€å€¼ï¼Œä»¥åŠæ›´æ–°è¿™ä¸ªçŠ¶æ€å€¼çš„å‡½æ•°</li> <li><code>useEffect</code> æ¥å—åŒ…å«å‘½ä»¤å¼ï¼Œå¯èƒ½æœ‰å‰¯ä½œç”¨ä»£ç çš„å‡½æ•°ã€‚</li> <li><code>useContext</code> æ¥å—ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆä» <code>React.createContext</code> è¿”å›çš„å€¼ï¼‰å¹¶è¿”å›å½“å‰ä¸Šä¸‹æ–‡å€¼ï¼Œ</li> <li><code>useReducer useState</code> çš„æ›¿ä»£æ–¹æ¡ˆã€‚æ¥å—ç±»å‹ä¸º ï¼ˆ<code>stateï¼Œactionï¼‰=&gt; newState</code>çš„<code>reducer</code>ï¼Œå¹¶è¿”å›ä¸<code>dispatch</code>æ–¹æ³•é…å¯¹çš„å½“å‰çŠ¶æ€ã€‚</li> <li><code>useCalLback</code> è¿”å›ä¸€ä¸ªå›å¿†çš„ <code>memoized</code> ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬ä»…åœ¨å…¶ä¸­ä¸€ä¸ªè¾“å…¥å‘ç”Ÿæ›´æ”¹æ—¶æ‰ä¼šæ›´æ”¹ã€‚çº¯å‡½æ•°çš„è¾“å…¥è¾“å‡ºç¡®å®šæ€§ <code>o</code> <code>useMemo</code> çº¯çš„ä¸€ä¸ªè®°å¿†å‡½æ•° <code>o</code> <code>useRef</code> è¿”å›ä¸€ä¸ªå¯å˜çš„<code>ref</code>å¯¹è±¡ï¼Œå…¶<code>Current</code> å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ é€’çš„å‚æ•°ï¼Œè¿”å›çš„ <code>ref</code> å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚</li> <li><code>useImperativeMethods</code> è‡ªå®šä¹‰ä½¿ç”¨ <code>ref</code> æ—¶å…¬å¼€ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼</li> <li><code>useMutationEffect</code> æ›´æ–°å…„å¼Ÿç»„ä»¶ä¹‹å‰ï¼Œå®ƒåœ¨<code>React</code>æ‰§è¡Œå…¶<code>DOM</code>æ”¹å˜çš„åŒä¸€é˜¶æ®µåŒæ­¥è§¦å‘</li> <li><code>useLayoutEffect</code> <code>DOM</code>æ”¹å˜ååŒæ­¥è§¦å‘ã€‚ä½¿ç”¨å®ƒæ¥ä»<code>DOM</code>è¯»å–å¸ƒå±€å¹¶åŒæ­¥é‡æ–°æ¸²æŸ“</li></ul> <p><strong>2. <code>React16.9</code></strong></p> <ul><li>é‡å‘½å <code>Unsafe</code> çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚æ–°çš„ <code>UNSAFE_</code> å‰ç¼€å°†æœ‰åŠ©äºåœ¨ä»£ç  <code>review</code> å’Œ <code>debug</code> æœŸé—´ï¼Œä½¿è¿™äº›æœ‰é—®é¢˜çš„å­—æ ·æ›´çªå‡º</li> <li>åºŸå¼ƒ <code>javascript</code>:å½¢å¼çš„ <code>URL</code>ã€‚ä»¥<code>javascript</code>:å¼€å¤´çš„<code>URL</code> éå¸¸å®¹æ˜“é­å—æ”»å‡»ï¼Œé€ æˆå®‰å…¨æ¼æ´ã€‚</li> <li>åºŸå¼ƒ&quot;<code>Factory</code>&quot;ç»„ä»¶ã€‚ å·¥å‚ç»„ä»¶ä¼šå¯¼è‡´ <code>React</code> å˜å¤§ä¸”å˜æ…¢ã€‚</li> <li><code>act</code>ä¹Ÿæ”¯æŒå¼‚æ­¥å‡½æ•°ï¼Œå¹¶ä¸”ä½ å¯ä»¥åœ¨è°ƒç”¨å®ƒæ—¶ä½¿ç”¨ <code>await</code>ã€‚</li> <li>ä½¿ç”¨ <code>&lt;React.ProfiLer&gt;</code> è¿›è¡Œæ€§èƒ½è¯„ä¼°ã€‚åœ¨è¾ƒå¤§çš„åº”ç”¨ä¸­è¿½è¸ªæ€§èƒ½å›å½’å¯èƒ½ä¼šå¾ˆæ–¹ä¾¿</li></ul> <p><strong>3. <code>React16.13</code></strong></p> <ul><li>æ”¯æŒåœ¨æ¸²æŸ“æœŸé—´è°ƒç”¨<code>setState</code>ï¼Œä½†ä»…é€‚ç”¨äºåŒä¸€ç»„ä»¶</li> <li>å¯æ£€æµ‹å†²çªçš„æ ·å¼è§„åˆ™å¹¶è®°å½•è­¦å‘Š</li> <li>åºŸå¼ƒ <code>unstable_createPortal</code>ï¼Œä½¿ç”¨<code>CreatePortal</code></li> <li>å°†ç»„ä»¶å †æ ˆæ·»åŠ åˆ°å…¶å¼€å‘è­¦å‘Šä¸­ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿéš”ç¦»<code>bug</code>å¹¶è°ƒè¯•å…¶ç¨‹åºï¼Œè¿™å¯ä»¥æ¸…æ¥šåœ°è¯´æ˜é—®é¢˜æ‰€åœ¨ï¼Œå¹¶æ›´å¿«åœ°å®šä½å’Œä¿®å¤é”™è¯¯ã€‚</li></ul> <h2 id="react-å®ç°ä¸€ä¸ªå…¨å±€çš„-dialog"><a href="#react-å®ç°ä¸€ä¸ªå…¨å±€çš„-dialog" class="header-anchor">#</a> <code>react</code> å®ç°ä¸€ä¸ªå…¨å±€çš„ <code>dialog</code></h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> is<span class="token punctuation">,</span> fromJS <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'immutable'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactCSSTransitionGroup <span class="token keyword">from</span> <span class="token string">'react-addons-css-transition-group'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./dialog.css'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> defaultState <span class="token operator">=</span> <span class="token punctuation">{</span>
  alertStatus<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
  alertTip<span class="token operator">:</span><span class="token string">&quot;æç¤º&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">closeDialog</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  childs<span class="token operator">:</span><span class="token string">''</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dialog</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>defaultState
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// cssåŠ¨ç”»ç»„ä»¶è®¾ç½®ä¸ºç›®æ ‡ç»„ä»¶</span>
  <span class="token function-variable function">FirstChild</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> childrenArray <span class="token operator">=</span> React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> childrenArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//æ‰“å¼€å¼¹çª—</span>
  <span class="token function-variable function">open</span> <span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    options <span class="token operator">=</span> options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    options<span class="token punctuation">.</span>alertStatus <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> props <span class="token operator">=</span> options<span class="token punctuation">.</span>props <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> childs <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderChildren</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span>options<span class="token punctuation">.</span>childrens<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>childs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>defaultState<span class="token punctuation">,</span>
      <span class="token operator">...</span>options<span class="token punctuation">,</span>
      childs
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//å…³é—­å¼¹çª—</span>
  <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">closeDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>defaultState
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">renderChildren</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>childrens</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//éå†æ‰€æœ‰å­ç»„ä»¶</span>
    <span class="token keyword">var</span> childs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    childrens <span class="token operator">=</span> childrens <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> ps <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>props<span class="token punctuation">,</span>  <span class="token comment">//ç»™å­ç»„ä»¶ç»‘å®šprops</span>
        _close<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>close  <span class="token comment">//ç»™å­ç»„ä»¶ä¹Ÿç»‘å®šä¸€ä¸ªå…³é—­å¼¹çª—çš„äº‹ä»¶    </span>
       <span class="token punctuation">}</span><span class="token punctuation">;</span>
    childrens<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentItem<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        childs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
            currentItem<span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token operator">...</span>ps<span class="token punctuation">,</span>
                key<span class="token operator">:</span>index
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> childs<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token function">fromJS</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">fromJS</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token function">fromJS</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">fromJS</span><span class="token punctuation">(</span>nextState<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
   
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ReactCSSTransitionGroup
        component<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>FirstChild<span class="token punctuation">}</span>
        transitionName<span class="token operator">=</span><span class="token string">'hide'</span>
        transitionEnterTimeout<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">300</span><span class="token punctuation">}</span>
        transitionLeaveTimeout<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">300</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;dialog-con&quot;</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>alertStatus<span class="token operator">?</span> <span class="token punctuation">{</span>display<span class="token operator">:</span><span class="token string">'block'</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span>display<span class="token operator">:</span><span class="token string">'none'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>childs<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ReactCSSTransitionGroup<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token punctuation">{</span>
   
<span class="token punctuation">}</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> Box <span class="token operator">=</span> ReactD
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><p>å­ç±»ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å­ç±»jsx</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>date<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">showValue</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>showValue <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">showValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;Child&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
           Child
           <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>showValue<span class="token punctuation">}</span><span class="token operator">&gt;</span>è°ƒç”¨çˆ¶çš„æ–¹æ³•<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Child<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>cssï¼š</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.dialog-con</span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="react-æ•°æ®æŒä¹…åŒ–æœ‰ä»€ä¹ˆå®è·µå—"><a href="#react-æ•°æ®æŒä¹…åŒ–æœ‰ä»€ä¹ˆå®è·µå—" class="header-anchor">#</a> <code>React</code> æ•°æ®æŒä¹…åŒ–æœ‰ä»€ä¹ˆå®è·µå—ï¼Ÿ</h2> <p>å°è£…æ•°æ®æŒä¹…åŒ–ç»„ä»¶ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> storage<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token comment">// å¢åŠ </span>
  <span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// è·å–</span>
  <span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åˆ é™¤</span>
  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Storage<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>åœ¨<code>React</code>é¡¹ç›®ä¸­ï¼Œé€šè¿‡<code>redux</code>å­˜å‚¨å…¨å±€æ•°æ®æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœç”¨æˆ·åˆ·æ–°äº†ç½‘é¡µï¼Œé‚£ä¹ˆé€šè¿‡<code>redux</code>å­˜å‚¨çš„å…¨å±€æ•°æ®å°±ä¼šè¢«å…¨éƒ¨æ¸…ç©ºï¼Œæ¯”å¦‚ç™»å½•ä¿¡æ¯ç­‰ã€‚è¿™æ—¶å°±ä¼šæœ‰å…¨å±€æ•°æ®æŒä¹…åŒ–å­˜å‚¨çš„éœ€æ±‚ã€‚é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯<code>localStorage</code>ï¼Œ<code>localStorage</code>æ˜¯æ²¡æœ‰æ—¶é—´é™åˆ¶çš„æ•°æ®å­˜å‚¨ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥å®ç°æ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨ã€‚</p> <p>ä½†æ˜¯åœ¨å·²ç»ä½¿ç”¨ <code>redux</code> æ¥ç®¡ç†å’Œå­˜å‚¨å…¨å±€æ•°æ®çš„åŸºç¡€ä¸Šï¼Œå†å»ä½¿ç”¨<code>localStorage</code> æ¥è¯»å†™æ•°æ®ï¼Œè¿™æ ·ä¸ä»…æ˜¯å·¥ä½œé‡å·¨å¤§ï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ç»“åˆ<code>redux</code>æ¥è¾¾åˆ°æŒä¹…æ•°æ®å­˜å‚¨åŠŸèƒ½çš„æ¡†æ¶å‘¢ï¼Ÿå½“ç„¶ï¼Œå®ƒå°±æ˜¯**<code>redux-persist</code>**ã€‚<code>redux-persist</code>ä¼šå°†<code>redux</code>çš„<code>store</code>ä¸­çš„æ•°æ®ç¼“å­˜åˆ°æµè§ˆå™¨çš„<code>localStorage</code>ä¸­ã€‚å…¶ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p> <p><strong>1. é¦–å…ˆè¦å®‰è£…<code>redux-persist</code>ï¼š</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm i redux<span class="token operator">-</span>persist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2. å¯¹äº<code>reducer</code>å’Œ<code>action</code>çš„å¤„ç†ä¸å˜ï¼Œåªéœ€ä¿®æ”¹<code>store</code>çš„ç”Ÿæˆä»£ç ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> reducers <span class="token keyword">from</span> <span class="token string">'../reducers/index'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>persistStore<span class="token punctuation">,</span> persistReducer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux-persist'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> storage <span class="token keyword">from</span> <span class="token string">'redux-persist/lib/storage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> autoMergeLevel2 <span class="token keyword">from</span> <span class="token string">'redux-persist/lib/stateReconciler/autoMergeLevel2'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> persistConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
  storage<span class="token operator">:</span> storage<span class="token punctuation">,</span>
  stateReconciler<span class="token operator">:</span> autoMergeLevel2 <span class="token comment">// æŸ¥çœ‹ 'Merge Process' éƒ¨åˆ†çš„å…·ä½“æƒ…å†µ</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> myPersistReducer <span class="token operator">=</span> <span class="token function">persistReducer</span><span class="token punctuation">(</span>persistConfig<span class="token punctuation">,</span> reducers<span class="token punctuation">)</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>myPersistReducer<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> persistor <span class="token operator">=</span> <span class="token function">persistStore</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>3. åœ¨<code>index.js</code>ä¸­ï¼Œå°†<code>PersistGate</code>æ ‡ç­¾ä½œä¸ºç½‘é¡µå†…å®¹çš„çˆ¶æ ‡ç­¾ï¼š</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Provider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./redux/store/store'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>persistor<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./redux/store/store'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PersistGate<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux-persist/lib/integration/react'</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>PersistGate loading<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">}</span> persistor<span class="token operator">=</span><span class="token punctuation">{</span>persistor<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token comment">/*ç½‘é¡µå†…å®¹*/</span><span class="token punctuation">}</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>PersistGate<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>è¿™å°±å®Œæˆäº†é€šè¿‡ <code>redux-persist</code> å®ç°<code>React</code>æŒä¹…åŒ–æœ¬åœ°æ•°æ®å­˜å‚¨çš„ç®€å•åº”ç”¨ã€‚</p> <h2 id="å¯¹-react-å’Œ-vue-çš„ç†è§£-å®ƒä»¬çš„å¼‚åŒ"><a href="#å¯¹-react-å’Œ-vue-çš„ç†è§£-å®ƒä»¬çš„å¼‚åŒ" class="header-anchor">#</a> å¯¹ <code>React</code> å’Œ <code>Vue</code> çš„ç†è§£ï¼Œå®ƒä»¬çš„å¼‚åŒ</h2> <p><strong>ç›¸ä¼¼ä¹‹å¤„ï¼š</strong></p> <ul><li>éƒ½å°†æ³¨æ„åŠ›é›†ä¸­ä¿æŒåœ¨æ ¸å¿ƒåº“ï¼Œè€Œå°†å…¶ä»–åŠŸèƒ½å¦‚è·¯ç”±å’Œå…¨å±€çŠ¶æ€ç®¡ç†äº¤ç»™ç›¸å…³çš„åº“</li> <li>éƒ½æœ‰è‡ªå·±çš„æ„å»ºå·¥å…·ï¼Œèƒ½è®©ä½ å¾—åˆ°ä¸€ä¸ªæ ¹æ®æœ€ä½³å®è·µè®¾ç½®çš„é¡¹ç›®æ¨¡æ¿ã€‚</li> <li>éƒ½ä½¿ç”¨äº†<code>Virtual DOM</code>ï¼ˆè™šæ‹Ÿ<code>DOM</code>ï¼‰æé«˜é‡ç»˜æ€§èƒ½</li> <li>éƒ½æœ‰<code>props</code>çš„æ¦‚å¿µï¼Œå…è®¸ç»„ä»¶é—´çš„æ•°æ®ä¼ é€’</li> <li>éƒ½é¼“åŠ±ç»„ä»¶åŒ–åº”ç”¨ï¼Œå°†åº”ç”¨åˆ†æ‹†æˆä¸€ä¸ªä¸ªåŠŸèƒ½æ˜ç¡®çš„æ¨¡å—ï¼Œæé«˜å¤ç”¨æ€§</li></ul> <p><strong>ä¸åŒä¹‹å¤„ï¼š</strong></p> <ol><li><strong>æ•°æ®æµ</strong></li></ol> <p>Vueé»˜è®¤æ”¯æŒæ•°æ®åŒå‘ç»‘å®šï¼Œè€ŒReactä¸€ç›´æå€¡å•å‘æ•°æ®æµ</p> <ol start="2"><li><strong>è™šæ‹Ÿ<code>DOM</code></strong></li></ol> <p><code>Vue2.x</code>å¼€å§‹å¼•å…¥&quot;<code>Virtual DOM</code>&quot;ï¼Œæ¶ˆé™¤äº†å’Œ<code>React</code>åœ¨è¿™æ–¹é¢çš„å·®å¼‚ï¼Œä½†æ˜¯åœ¨å…·ä½“çš„ç»†èŠ‚è¿˜æ˜¯æœ‰å„è‡ªçš„ç‰¹ç‚¹ã€‚</p> <ul><li><code>Vue</code> å®£ç§°å¯ä»¥æ›´å¿«åœ°è®¡ç®—å‡º<code>Virtual DOM</code>çš„å·®å¼‚ï¼Œè¿™æ˜¯ç”±äºå®ƒåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œä¼šè·Ÿè¸ªæ¯ä¸€ä¸ªç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œä¸éœ€è¦é‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ã€‚</li> <li>å¯¹äº<code>React</code>è€Œè¨€ï¼Œæ¯å½“åº”ç”¨çš„çŠ¶æ€è¢«æ”¹å˜æ—¶ï¼Œå…¨éƒ¨å­ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚å½“ç„¶ï¼Œè¿™å¯ä»¥é€šè¿‡ <code>PureComponent/shouldComponentUpdate</code>è¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ¥è¿›è¡Œæ§åˆ¶ï¼Œä½†Vueå°†æ­¤è§†ä¸ºé»˜è®¤çš„ä¼˜åŒ–ã€‚</li></ul> <ol start="3"><li><strong>ç»„ä»¶åŒ–</strong></li></ol> <p><code>React</code>ä¸<code>Vue</code>æœ€å¤§çš„ä¸åŒæ˜¯æ¨¡æ¿çš„ç¼–å†™ã€‚</p> <ul><li><code>Vue</code>é¼“åŠ±å†™è¿‘ä¼¼å¸¸è§„<code>HTML</code>çš„æ¨¡æ¿ã€‚å†™èµ·æ¥å¾ˆæ¥è¿‘æ ‡å‡† <code>HTML</code> å…ƒç´ ï¼Œåªæ˜¯å¤šäº†ä¸€äº›å±æ€§ã€‚</li> <li><code>React</code> æ¨èä½ æ‰€æœ‰çš„æ¨¡æ¿é€šç”¨<code>JavaScript</code>çš„è¯­æ³•æ‰©å±•â€”â€”<code>JSX</code>ä¹¦å†™ã€‚</li></ul> <p>å…·ä½“æ¥è®²ï¼š<code>React</code>ä¸­<code>render</code>å‡½æ•°æ˜¯æ”¯æŒé—­åŒ…ç‰¹æ€§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬<code>import</code>çš„ç»„ä»¶åœ¨<code>render</code>ä¸­å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚ä½†æ˜¯åœ¨<code>Vue</code>ä¸­ï¼Œç”±äºæ¨¡æ¿ä¸­ä½¿ç”¨çš„æ•°æ®éƒ½å¿…é¡»æŒ‚åœ¨ <code>this</code> ä¸Šè¿›è¡Œä¸€æ¬¡ä¸­è½¬ï¼Œæ‰€ä»¥ <code>import</code> å®Œç»„ä»¶ä¹‹åï¼Œè¿˜éœ€è¦åœ¨ <code>components</code> ä¸­å†å£°æ˜ä¸‹ã€‚</p> <ol start="4"><li><strong>ç›‘å¬æ•°æ®å˜åŒ–çš„å®ç°åŸç†ä¸åŒ</strong></li></ol> <ul><li><code>Vue</code> é€šè¿‡ <code>getter/setter</code> ä»¥åŠä¸€äº›å‡½æ•°çš„åŠ«æŒï¼Œèƒ½ç²¾ç¡®çŸ¥é“æ•°æ®å˜åŒ–ï¼Œä¸éœ€è¦ç‰¹åˆ«çš„ä¼˜åŒ–å°±èƒ½è¾¾åˆ°å¾ˆå¥½çš„æ€§èƒ½</li> <li><code>React</code> é»˜è®¤æ˜¯é€šè¿‡æ¯”è¾ƒå¼•ç”¨çš„æ–¹å¼è¿›è¡Œçš„ï¼Œå¦‚æœä¸ä¼˜åŒ–ï¼ˆ<code>PureComponent/shouldComponentUpdate</code>ï¼‰å¯èƒ½å¯¼è‡´å¤§é‡ä¸å¿…è¦çš„<code>vDOM</code>çš„é‡æ–°æ¸²æŸ“ã€‚è¿™æ˜¯å› ä¸º <code>Vue</code> ä½¿ç”¨çš„æ˜¯å¯å˜æ•°æ®ï¼Œè€Œ<code>React</code>æ›´å¼ºè°ƒæ•°æ®çš„ä¸å¯å˜ã€‚</li></ul> <ol start="5"><li><strong>é«˜é˜¶ç»„ä»¶</strong></li></ol> <p><code>react</code>å¯ä»¥é€šè¿‡é«˜é˜¶ç»„ä»¶ï¼ˆ<code>Higher Order Components-- HOC</code>ï¼‰æ¥æ‰©å±•ï¼Œè€Œ<code>vue</code>éœ€è¦é€šè¿‡<code>mixins</code>æ¥æ‰©å±•ã€‚</p> <p>åŸå› é«˜é˜¶ç»„ä»¶å°±æ˜¯é«˜é˜¶å‡½æ•°ï¼Œè€Œ<code>React</code>çš„ç»„ä»¶æœ¬èº«å°±æ˜¯çº¯ç²¹çš„å‡½æ•°ï¼Œæ‰€ä»¥é«˜é˜¶å‡½æ•°å¯¹<code>React</code>æ¥è¯´æ˜“å¦‚åæŒã€‚ç›¸å<code>Vue.js</code>ä½¿ç”¨<code>HTML</code>æ¨¡æ¿åˆ›å»ºè§†å›¾ç»„ä»¶ï¼Œè¿™æ—¶æ¨¡æ¿æ— æ³•æœ‰æ•ˆçš„ç¼–è¯‘ï¼Œå› æ­¤<code>Vue</code>ä¸é‡‡ç”¨<code>HOC</code>æ¥å®ç°ã€‚</p> <ol start="6"><li><strong>æ„å»ºå·¥å…·</strong></li></ol> <p>ä¸¤è€…éƒ½æœ‰è‡ªå·±çš„æ„å»ºå·¥å…·</p> <ul><li><code>React ==&gt; Create React APP</code></li> <li><code>Vue ==&gt; vue-cli</code></li></ul> <ol start="7"><li><strong>è·¨å¹³å°</strong></li></ol> <ul><li><code>React ==&gt; React Native</code></li> <li><code>Vue ==&gt; Weex</code></li></ul> <h2 id="å¯ä»¥ä½¿ç”¨typescriptå†™reactåº”ç”¨å—-æ€ä¹ˆæ“ä½œ"><a href="#å¯ä»¥ä½¿ç”¨typescriptå†™reactåº”ç”¨å—-æ€ä¹ˆæ“ä½œ" class="header-anchor">#</a> å¯ä»¥ä½¿ç”¨<code>TypeScript</code>å†™<code>React</code>åº”ç”¨å—ï¼Ÿæ€ä¹ˆæ“ä½œï¼Ÿ</h2> <ol><li><strong>å¦‚æœè¿˜æœªåˆ›å»º <code>Create React App</code> é¡¹ç›®</strong></li></ol> <ul><li>ç›´æ¥åˆ›å»ºä¸€ä¸ªå…·æœ‰ <code>typescript</code> çš„ <code>Create React App</code> é¡¹ç›®ï¼š</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code> npx create<span class="token operator">-</span>react<span class="token operator">-</span>app demo <span class="token operator">--</span>typescript
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li><strong>å¦‚æœå·²ç»åˆ›å»ºäº† <code>Create React App</code> é¡¹ç›®ï¼Œéœ€è¦å°† <code>typescript</code> å¼•å…¥åˆ°å·²æœ‰é¡¹ç›®ä¸­</strong></li></ol> <ul><li>é€šè¿‡å‘½ä»¤å°† <code>typescript</code> å¼•å…¥é¡¹ç›®ï¼š</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm install <span class="token operator">--</span>save typescript @types<span class="token operator">/</span>node @types<span class="token operator">/</span>react @types<span class="token operator">/</span>react<span class="token operator">-</span>dom @types<span class="token operator">/</span>jest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>å°†é¡¹ç›®ä¸­ä»»ä½• åç¼€åä¸º<code>.js</code> çš„<code>JavaScript</code> æ–‡ä»¶é‡å‘½åä¸º <code>TypeScript</code> æ–‡ä»¶å³åç¼€åä¸º <code>.tsx</code>ï¼ˆä¾‹å¦‚ <code>src/index.js</code> é‡å‘½åä¸º <code>src/index.tsx</code> ï¼‰</li></ul> <h2 id="react-è®¾è®¡æ€è·¯-å®ƒçš„ç†å¿µæ˜¯ä»€ä¹ˆ"><a href="#react-è®¾è®¡æ€è·¯-å®ƒçš„ç†å¿µæ˜¯ä»€ä¹ˆ" class="header-anchor">#</a> <code>React</code> è®¾è®¡æ€è·¯ï¼Œå®ƒçš„ç†å¿µæ˜¯ä»€ä¹ˆï¼Ÿ</h2> <ol><li><strong>ç¼–å†™ç®€å•ç›´è§‚çš„ä»£ç </strong></li></ol> <p><code>React</code> æœ€å¤§çš„ä»·å€¼ä¸æ˜¯é«˜æ€§èƒ½çš„è™šæ‹Ÿ<code>DOM</code>ã€å°è£…çš„äº‹ä»¶æœºåˆ¶ã€æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œè€Œæ˜¯å£°æ˜å¼çš„ç›´è§‚çš„ç¼–ç æ–¹å¼ã€‚<code>react</code>æ–‡æ¡£ç¬¬ä¸€æ¡å°±æ˜¯å£°æ˜å¼ï¼Œ<code>React</code> ä½¿åˆ›å»ºäº¤äº’å¼ <code>UI</code> å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚ä¸ºåº”ç”¨çš„æ¯ä¸€ä¸ªçŠ¶æ€è®¾è®¡ç®€æ´çš„è§†å›¾ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ <code>React</code> èƒ½æœ‰æ•ˆåœ°æ›´æ–°å¹¶æ­£ç¡®åœ°æ¸²æŸ“ç»„ä»¶ã€‚ ä»¥å£°æ˜å¼ç¼–å†™ UIï¼Œå¯ä»¥è®©ä»£ç æ›´åŠ å¯é ï¼Œä¸”æ–¹ä¾¿è°ƒè¯•ã€‚</p> <ol start="2"><li><strong>ç®€åŒ–å¯å¤ç”¨çš„ç»„ä»¶</strong></li></ol> <p><code>React</code>æ¡†æ¶é‡Œé¢ä½¿ç”¨äº†ç®€åŒ–çš„ç»„ä»¶æ¨¡å‹ï¼Œä½†æ›´å½»åº•åœ°ä½¿ç”¨äº†ç»„ä»¶åŒ–çš„æ¦‚å¿µã€‚<code>React</code>å°†æ•´ä¸ª<code>UI</code>ä¸Šçš„æ¯ä¸€ä¸ªåŠŸèƒ½æ¨¡å—å®šä¹‰æˆç»„ä»¶ï¼Œç„¶åå°†å°çš„ç»„ä»¶é€šè¿‡ç»„åˆæˆ–è€…åµŒå¥—çš„æ–¹å¼æ„æˆæ›´å¤§çš„ç»„ä»¶ã€‚<code>React</code>çš„ç»„ä»¶å…·æœ‰å¦‚ä¸‹çš„ç‰¹æ€§âˆ¶</p> <ul><li>å¯ç»„åˆï¼šç®€å•ç»„ä»¶å¯ä»¥ç»„åˆä¸ºå¤æ‚çš„ç»„ä»¶</li> <li>å¯é‡ç”¨ï¼šæ¯ä¸ªç»„ä»¶éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå¯ä»¥è¢«å¤šä¸ªç»„ä»¶ä½¿ç”¨</li> <li>å¯ç»´æŠ¤ï¼šå’Œç»„ä»¶ç›¸å…³çš„é€»è¾‘å’Œ<code>UI</code>éƒ½å°è£…åœ¨äº†ç»„ä»¶çš„å†…éƒ¨ï¼Œæ–¹ä¾¿ç»´æŠ¤</li> <li>å¯æµ‹è¯•ï¼šå› ä¸ºç»„ä»¶çš„ç‹¬ç«‹æ€§ï¼Œæµ‹è¯•ç»„ä»¶å°±å˜å¾—æ–¹ä¾¿å¾ˆå¤šã€‚</li></ul> <ol start="3"><li>**<code>Virtual DOM</code> **</li></ol> <p>çœŸå®é¡µé¢å¯¹åº”ä¸€ä¸ª <code>DOM</code> æ ‘ã€‚åœ¨ä¼ ç»Ÿé¡µé¢çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œæ¯æ¬¡éœ€è¦æ›´æ–°é¡µé¢æ—¶ï¼Œéƒ½è¦æ‰‹åŠ¨æ“ä½œ <code>DOM</code> æ¥è¿›è¡Œæ›´æ–°ã€‚ <code>DOM</code> æ“ä½œéå¸¸æ˜‚è´µã€‚åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæ€§èƒ½æ¶ˆè€—æœ€å¤§çš„å°±æ˜¯ <code>DOM</code> æ“ä½œï¼Œè€Œä¸”è¿™éƒ¨åˆ†ä»£ç ä¼šè®©æ•´ä½“é¡¹ç›®çš„ä»£ç å˜å¾—éš¾ ä»¥ç»´æŠ¤ã€‚</p> <p><code>React</code> æŠŠçœŸå® <code>DOM</code> æ ‘è½¬æ¢æˆ  <code>JavaScript</code> å¯¹è±¡æ ‘ï¼Œä¹Ÿå°±æ˜¯ <code>Virtual DOM</code>ï¼Œæ¯æ¬¡æ•°æ®æ›´æ–°åï¼Œé‡æ–°è®¡ç®— <code>Virtual DOM</code>ï¼Œå¹¶å’Œä¸Šä¸€æ¬¡ç”Ÿæˆçš„ <code>Virtual DOM</code> åšå¯¹æ¯”ï¼Œå¯¹å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†åšæ‰¹é‡æ›´æ–°ã€‚<code>React</code> ä¹Ÿæä¾›äº†ç›´è§‚çš„ <code>shouldComponentUpdate</code> ç”Ÿå‘½å‘¨æœŸå›è°ƒï¼Œæ¥å‡å°‘æ•°æ®å˜åŒ–åä¸å¿…è¦çš„ <code>Virtual DOM</code> å¯¹æ¯”è¿‡ç¨‹ï¼Œä»¥ä¿è¯æ€§èƒ½ã€‚</p> <ol start="4"><li><strong>å‡½æ•°å¼ç¼–ç¨‹</strong></li></ol> <p><code>React</code> æŠŠè¿‡å»ä¸æ–­é‡å¤æ„å»º <code>UI</code> çš„è¿‡ç¨‹æŠ½è±¡æˆäº†ç»„ä»¶ï¼Œä¸”åœ¨ç»™å®šå‚æ•°çš„æƒ…å†µä¸‹çº¦å®šæ¸²æŸ“å¯¹åº”çš„ <code>UI</code> ç•Œé¢ã€‚<code>React</code> èƒ½å……åˆ†åˆ©ç”¨å¾ˆå¤šå‡½æ•°å¼æ–¹æ³•å»å‡å°‘å†—ä½™ä»£ç ã€‚æ­¤å¤–ï¼Œç”±äºå®ƒæœ¬èº«å°±æ˜¯ç®€å•å‡½æ•°ï¼Œæ‰€ä»¥æ˜“äºæµ‹è¯•ã€‚</p> <ol start="5"><li><strong>ä¸€æ¬¡å­¦ä¹ ï¼Œéšå¤„ç¼–å†™</strong></li></ol> <p>æ— è®ºç°åœ¨æ­£åœ¨ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆï¼Œéƒ½å¯ä»¥éšæ—¶å¼•å…¥ <code>React</code> æ¥å¼€å‘æ–°ç‰¹æ€§ï¼Œè€Œä¸éœ€è¦é‡å†™ç°æœ‰ä»£ç ã€‚</p> <p><code>React</code> è¿˜å¯ä»¥ä½¿ç”¨ <code>Node</code> è¿›è¡ŒæœåŠ¡å™¨æ¸²æŸ“ï¼Œæˆ–ä½¿ç”¨ <code>React Native</code> å¼€å‘åŸç”Ÿç§»åŠ¨åº”ç”¨ã€‚å› ä¸º <code>React</code> ç»„ä»¶å¯ä»¥æ˜ å°„ä¸ºå¯¹åº”çš„åŸç”Ÿæ§ä»¶ã€‚åœ¨è¾“å‡ºçš„æ—¶å€™ï¼Œæ˜¯è¾“å‡º <code>Web DOM</code>ï¼Œè¿˜æ˜¯ <code>Android</code> æ§ä»¶ï¼Œè¿˜æ˜¯ <code>iOS</code> æ§ä»¶ï¼Œå°±ç”±å¹³å°æœ¬èº«å†³å®šäº†ã€‚æ‰€ä»¥ï¼Œ<code>react</code>å¾ˆæ–¹ä¾¿å’Œå…¶ä»–å¹³å°é›†æˆ</p> <h2 id="reactä¸­props-childrenå’Œreact-childrençš„åŒºåˆ«"><a href="#reactä¸­props-childrenå’Œreact-childrençš„åŒºåˆ«" class="header-anchor">#</a> <code>React</code>ä¸­<code>props.children</code>å’Œ<code>React.Children</code>çš„åŒºåˆ«</h2> <p>åœ¨<code>React</code>ä¸­ï¼Œå½“æ¶‰åŠç»„ä»¶åµŒå¥—ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨<code>props.children</code>æŠŠæ‰€æœ‰å­ç»„ä»¶æ˜¾ç¤ºå‡ºæ¥ã€‚å¦‚ä¸‹ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">ParentComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
			<span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å¦‚æœæƒ³æŠŠçˆ¶ç»„ä»¶ä¸­çš„å±æ€§ä¼ ç»™æ‰€æœ‰çš„å­ç»„ä»¶ï¼Œéœ€è¦ä½¿ç”¨<code>React.Children</code>æ–¹æ³•ã€‚</p> <p>æ¯”å¦‚ï¼ŒæŠŠå‡ ä¸ª<code>Radio</code>ç»„åˆèµ·æ¥ï¼Œåˆæˆä¸€ä¸ª<code>RadioGroup</code>ï¼Œè¿™å°±è¦æ±‚æ‰€æœ‰çš„<code>Radio</code>å…·æœ‰åŒæ ·çš„<code>name</code>å±æ€§å€¼ã€‚å¯ä»¥è¿™æ ·ï¼šæŠŠ<code>Radio</code>çœ‹åšå­ç»„ä»¶ï¼Œ<code>RadioGroup</code>çœ‹åšçˆ¶ç»„ä»¶ï¼Œ<code>name</code>çš„å±æ€§å€¼åœ¨<code>RadioGroup</code>è¿™ä¸ªçˆ¶ç»„ä»¶ä¸­è®¾ç½®ã€‚</p> <p>é¦–å…ˆæ˜¯å­ç»„ä»¶ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å­ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">RadioOption</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> value<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>value<span class="token punctuation">}</span> name<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>label<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ç„¶åæ˜¯çˆ¶ç»„ä»¶ï¼Œä¸ä»…éœ€è¦æŠŠå®ƒæ‰€æœ‰çš„å­ç»„ä»¶æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿˜éœ€è¦ä¸ºæ¯ä¸ªå­ç»„ä»¶èµ‹ä¸Š<code>name</code>å±æ€§å’Œå€¼ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//çˆ¶ç»„ä»¶ç”¨,propsæ˜¯æŒ‡çˆ¶ç»„ä»¶çš„props</span>
<span class="token keyword">function</span> <span class="token function">renderChildren</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  <span class="token comment">//éå†æ‰€æœ‰å­ç»„ä»¶</span>
  <span class="token keyword">return</span> React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">,</span> <span class="token parameter">child</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>type <span class="token operator">===</span> RadioOption<span class="token punctuation">)</span>
      <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">cloneElement</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">//æŠŠçˆ¶ç»„ä»¶çš„props.nameèµ‹å€¼ç»™æ¯ä¸ªå­ç»„ä»¶</span>
        name<span class="token operator">:</span> props<span class="token punctuation">.</span>name
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span>
      <span class="token keyword">return</span> child
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//çˆ¶ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">RadioGroup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token function">renderChildren</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>RadioGroup name<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>RadioOption label<span class="token operator">=</span><span class="token string">&quot;é€‰é¡¹ä¸€&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;1&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>RadioOption label<span class="token operator">=</span><span class="token string">&quot;é€‰é¡¹äºŒ&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;2&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>RadioOption label<span class="token operator">=</span><span class="token string">&quot;é€‰é¡¹ä¸‰&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;3&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RadioGroup<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>ä»¥ä¸Šï¼Œ<code>React.Children.map</code>è®©æˆ‘ä»¬å¯¹çˆ¶ç»„ä»¶çš„æ‰€æœ‰å­ç»„ä»¶åˆæ›´çµæ´»çš„æ§åˆ¶ã€‚</p> <h2 id="reactçš„çŠ¶æ€æå‡æ˜¯ä»€ä¹ˆ-ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›"><a href="#reactçš„çŠ¶æ€æå‡æ˜¯ä»€ä¹ˆ-ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›" class="header-anchor">#</a> <code>React</code>çš„çŠ¶æ€æå‡æ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h2> <p><code>React</code>çš„çŠ¶æ€æå‡å°±æ˜¯ç”¨æˆ·å¯¹å­ç»„ä»¶æ“ä½œï¼Œå­ç»„ä»¶ä¸æ”¹å˜è‡ªå·±çš„çŠ¶æ€ï¼Œé€šè¿‡è‡ªå·±çš„<code>props</code>æŠŠè¿™ä¸ªæ“ä½œæ”¹å˜çš„æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œæ”¹å˜çˆ¶ç»„ä»¶çš„çŠ¶æ€ï¼Œä»è€Œæ”¹å˜å—çˆ¶ç»„ä»¶æ§åˆ¶çš„æ‰€æœ‰å­ç»„ä»¶çš„çŠ¶æ€ï¼Œè¿™ä¹Ÿæ˜¯<code>React</code>å•é¡¹æ•°æ®æµçš„ç‰¹æ€§å†³å®šçš„ã€‚å®˜æ–¹çš„åŸè¯æ˜¯ï¼šå…±äº« <code>state</code>(çŠ¶æ€) æ˜¯é€šè¿‡å°†å…¶ç§»åŠ¨åˆ°éœ€è¦å®ƒçš„ç»„ä»¶çš„æœ€æ¥è¿‘çš„å…±åŒç¥–å…ˆç»„ä»¶æ¥å®ç°çš„ã€‚ è¿™è¢«ç§°ä¸ºâ€œçŠ¶æ€æå‡(<code>Lifting State Up</code>)â€ã€‚</p> <p>æ¦‚æ‹¬æ¥è¯´å°±æ˜¯<strong>å°†å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«çš„çŠ¶æ€æå‡åˆ°å®ƒä»¬æœ€è¿‘çš„çˆ¶ç»„ä»¶ä¸Š</strong>ï¼Œ<strong>åœ¨çˆ¶ç»„ä»¶ä¸Šæ”¹å˜è¿™ä¸ªçŠ¶æ€ç„¶åé€šè¿‡<code>props</code>åˆ†å‘ç»™å­ç»„ä»¶ã€‚</strong></p> <p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œçˆ¶ç»„ä»¶ä¸­æœ‰ä¸¤ä¸ª<code>input</code>å­ç»„ä»¶ï¼Œå¦‚æœæƒ³åœ¨ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†è¾“å…¥æ•°æ®ï¼Œæ¥æ”¹å˜ç¬¬äºŒä¸ªè¾“å…¥æ¡†çš„å€¼ï¼Œè¿™å°±éœ€è¦ç”¨åˆ°çŠ¶æ€æå‡ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      Value1<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      Value2<span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">value1Change</span><span class="token punctuation">(</span><span class="token parameter">aa</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      Value1<span class="token operator">:</span> aa
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">value2Change</span><span class="token punctuation">(</span><span class="token parameter">bb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      Value2<span class="token operator">:</span> bb
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> padding<span class="token operator">:</span> <span class="token string">&quot;100px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Child1 value1<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>Value1<span class="token punctuation">}</span> onvalue1Change<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">value1Change</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>Child2 value2<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>Value1<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child1</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">changeValue</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onvalue1Change</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>Value1<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeValue</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child2</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>value2<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Father <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h2 id="reactä¸­constructorå’Œgetinitialstateçš„åŒºåˆ«"><a href="#reactä¸­constructorå’Œgetinitialstateçš„åŒºåˆ«" class="header-anchor">#</a> <code>React</code>ä¸­<code>constructor</code>å’Œ<code>getInitialState</code>çš„åŒºåˆ«?</h2> <p>ä¸¤è€…éƒ½æ˜¯ç”¨æ¥åˆå§‹åŒ–<code>state</code>çš„ã€‚å‰è€…æ˜¯<code>ES6</code>ä¸­çš„è¯­æ³•ï¼Œåè€…æ˜¯<code>ES5</code>ä¸­çš„è¯­æ³•ï¼Œæ–°ç‰ˆæœ¬çš„<code>React</code>ä¸­å·²ç»åºŸå¼ƒäº†è¯¥æ–¹æ³•ã€‚</p> <p><code>getInitialState</code>æ˜¯<code>ES5</code>ä¸­çš„æ–¹æ³•ï¼Œå¦‚æœä½¿ç”¨<code>createClass</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ª<code>Component</code>ç»„ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨è°ƒç”¨å®ƒçš„<code>getInitialState</code>æ–¹æ³•æ¥è·å–åˆå§‹åŒ–çš„<code>State</code>å¯¹è±¡ï¼Œ</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token constant">APP</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">creatClass</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">getInitialState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> 
      userName<span class="token operator">:</span> <span class="token string">'hi'</span><span class="token punctuation">,</span>
      userId<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>React</code>åœ¨<code>ES6</code>çš„å®ç°ä¸­å»æ‰äº†<code>getInitialState</code>è¿™ä¸ª<code>hook</code>å‡½æ•°ï¼Œè§„å®š<code>state</code>åœ¨<code>constructor</code>ä¸­å®ç°ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Class App <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="reactçš„ä¸¥æ ¼æ¨¡å¼å¦‚ä½•ä½¿ç”¨-æœ‰ä»€ä¹ˆç”¨å¤„"><a href="#reactçš„ä¸¥æ ¼æ¨¡å¼å¦‚ä½•ä½¿ç”¨-æœ‰ä»€ä¹ˆç”¨å¤„" class="header-anchor">#</a> <code>React</code>çš„ä¸¥æ ¼æ¨¡å¼å¦‚ä½•ä½¿ç”¨ï¼Œæœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ</h2> <p><code>StrictMode</code> æ˜¯ä¸€ä¸ªç”¨æ¥çªå‡ºæ˜¾ç¤ºåº”ç”¨ç¨‹åºä¸­æ½œåœ¨é—®é¢˜çš„å·¥å…·ã€‚ä¸ <code>Fragment</code> ä¸€æ ·ï¼Œ<code>StrictMode</code> ä¸ä¼šæ¸²æŸ“ä»»ä½•å¯è§çš„ <code>UI</code>ã€‚å®ƒä¸ºå…¶åä»£å…ƒç´ è§¦å‘é¢å¤–çš„æ£€æŸ¥å’Œè­¦å‘Šã€‚ å¯ä»¥ä¸ºåº”ç”¨ç¨‹åºçš„ä»»ä½•éƒ¨åˆ†å¯ç”¨ä¸¥æ ¼æ¨¡å¼ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">ExampleApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Header <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>        
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ComponentOne <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ComponentTwo <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>      
    <span class="token operator">&lt;</span>Footer <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>åœ¨ä¸Šè¿°çš„ç¤ºä¾‹ä¸­ï¼Œä¸ä¼šå¯¹ <code>Header</code> å’Œ <code>Footer</code> ç»„ä»¶è¿è¡Œä¸¥æ ¼æ¨¡å¼æ£€æŸ¥ã€‚ä½†æ˜¯ï¼Œ<code>ComponentOne</code> å’Œ <code>ComponentTwo</code> ä»¥åŠå®ƒä»¬çš„æ‰€æœ‰åä»£å…ƒç´ éƒ½å°†è¿›è¡Œæ£€æŸ¥ã€‚</p> <p><code>StrictMode</code> ç›®å‰æœ‰åŠ©äºï¼š</p> <ul><li>è¯†åˆ«ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸ</li> <li>å…³äºä½¿ç”¨è¿‡æ—¶å­—ç¬¦ä¸² <code>ref API</code> çš„è­¦å‘Š</li> <li>å…³äºä½¿ç”¨åºŸå¼ƒçš„ <code>findDOMNode</code> æ–¹æ³•çš„è­¦å‘Š</li> <li>æ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨</li> <li>æ£€æµ‹è¿‡æ—¶çš„ <code>context API</code></li></ul> <h2 id="åœ¨reactä¸­éå†çš„æ–¹æ³•æœ‰å“ªäº›"><a href="#åœ¨reactä¸­éå†çš„æ–¹æ³•æœ‰å“ªäº›" class="header-anchor">#</a> åœ¨<code>React</code>ä¸­éå†çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h2> <ul><li><strong>éå†æ•°ç»„ï¼š<code>map &amp;&amp; forEach</code></strong></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>
          arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>
          arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><ul><li><strong>éå†å¯¹è±¡ï¼šmap &amp;&amp; for in</strong></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      c<span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>
          <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> domArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> value <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
                domArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> domArr<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Object.entries() æŠŠå¯¹è±¡è½¬æ¢æˆæ•°ç»„</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      c<span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>
          Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span><span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>   <span class="token comment">// itemæ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒæŠŠitemè§£æ„ï¼Œå†™æ³•æ˜¯[key, value]</span>
            <span class="token keyword">return</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span> 
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="åœ¨reactä¸­é¡µé¢é‡æ–°åŠ è½½æ—¶æ€æ ·ä¿ç•™æ•°æ®"><a href="#åœ¨reactä¸­é¡µé¢é‡æ–°åŠ è½½æ—¶æ€æ ·ä¿ç•™æ•°æ®" class="header-anchor">#</a> åœ¨<code>React</code>ä¸­é¡µé¢é‡æ–°åŠ è½½æ—¶æ€æ ·ä¿ç•™æ•°æ®ï¼Ÿ</h2> <p>è¿™ä¸ªé—®é¢˜å°±è®¾è®¡åˆ°äº†<strong>æ•°æ®æŒä¹…åŒ–ï¼Œ</strong> ä¸»è¦çš„å®ç°æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p> <ul><li><strong><code>Redux</code>ï¼š</strong> å°†é¡µé¢çš„æ•°æ®å­˜å‚¨åœ¨<code>redux</code>ä¸­ï¼Œåœ¨é‡æ–°åŠ è½½é¡µé¢æ—¶ï¼Œè·å–<code>Redux</code>ä¸­çš„æ•°æ®ï¼›</li> <li><strong><code>data.js</code>ï¼š</strong> ä½¿ç”¨<code>webpack</code>æ„å»ºçš„é¡¹ç›®ï¼Œå¯ä»¥å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œ<code>data.js</code>ï¼Œå°†æ•°æ®ä¿å­˜<code>data.js</code>ä¸­ï¼Œè·³è½¬é¡µé¢åè·å–ï¼›</li> <li><strong><code>sessionStorge</code>ï¼š</strong> åœ¨è¿›å…¥é€‰æ‹©åœ°å€é¡µé¢ä¹‹å‰ï¼Œ<code>componentWillUnMount</code>çš„æ—¶å€™ï¼Œå°†æ•°æ®å­˜å‚¨åˆ°<code>sessionStorage</code>ä¸­ï¼Œæ¯æ¬¡è¿›å…¥é¡µé¢åˆ¤æ–­<code>sessionStorage</code>ä¸­æœ‰æ²¡æœ‰å­˜å‚¨çš„é‚£ä¸ªå€¼ï¼Œæœ‰ï¼Œåˆ™è¯»å–æ¸²æŸ“æ•°æ®ï¼›æ²¡æœ‰ï¼Œåˆ™è¯´æ˜æ•°æ®æ˜¯åˆå§‹åŒ–çš„çŠ¶æ€ã€‚è¿”å›æˆ–è¿›å…¥é™¤äº†é€‰æ‹©åœ°å€ä»¥å¤–çš„é¡µé¢ï¼Œæ¸…æ‰å­˜å‚¨çš„<code>sessionStorage</code>ï¼Œä¿è¯ä¸‹æ¬¡è¿›å…¥æ˜¯åˆå§‹åŒ–çš„æ•°æ®</li> <li><strong><code>history API</code>ï¼š</strong> <code>History API</code> çš„ <code>pushState</code> å‡½æ•°å¯ä»¥ç»™å†å²è®°å½•å…³è”ä¸€ä¸ªä»»æ„çš„å¯åºåˆ—åŒ– <code>state</code>ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è·¯ç”± <code>push</code> çš„æ—¶å€™å°†å½“å‰é¡µé¢çš„ä¸€äº›ä¿¡æ¯å­˜åˆ° <code>state</code> ä¸­ï¼Œä¸‹æ¬¡è¿”å›åˆ°è¿™ä¸ªé¡µé¢çš„æ—¶å€™å°±èƒ½ä» <code>state</code> é‡Œé¢å–å‡ºç¦»å¼€å‰çš„æ•°æ®é‡æ–°æ¸²æŸ“ã€‚<code>react-router</code> ç›´æ¥å¯ä»¥æ”¯æŒã€‚è¿™ä¸ªæ–¹æ³•é€‚åˆä¸€äº›éœ€è¦ä¸´æ—¶å­˜å‚¨çš„åœºæ™¯ã€‚</li></ul> <h2 id="åŒæ—¶å¼•ç”¨è¿™ä¸‰ä¸ªåº“react-jsã€react-dom-jså’Œbabel-jså®ƒä»¬éƒ½æœ‰ä»€ä¹ˆä½œç”¨"><a href="#åŒæ—¶å¼•ç”¨è¿™ä¸‰ä¸ªåº“react-jsã€react-dom-jså’Œbabel-jså®ƒä»¬éƒ½æœ‰ä»€ä¹ˆä½œç”¨" class="header-anchor">#</a> åŒæ—¶å¼•ç”¨è¿™ä¸‰ä¸ªåº“<code>react.js</code>ã€<code>react-dom.js</code>å’Œ<code>babel.js</code>å®ƒä»¬éƒ½æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2> <ul><li><code>react</code>ï¼šåŒ…å«<code>react</code>æ‰€å¿…é¡»çš„æ ¸å¿ƒä»£ç </li> <li><code>react-dom</code>ï¼š<code>react</code>æ¸²æŸ“åœ¨ä¸åŒå¹³å°æ‰€éœ€è¦çš„æ ¸å¿ƒä»£ç </li> <li><code>babel</code>ï¼šå°†<code>jsx</code>è½¬æ¢æˆ<code>React</code>ä»£ç çš„å·¥å…·</li></ul> <h2 id="reactå¿…é¡»ä½¿ç”¨jsxå—"><a href="#reactå¿…é¡»ä½¿ç”¨jsxå—" class="header-anchor">#</a> <code>React</code>å¿…é¡»ä½¿ç”¨<code>JSX</code>å—ï¼Ÿ</h2> <p><code>React</code> å¹¶ä¸å¼ºåˆ¶è¦æ±‚ä½¿ç”¨ <code>JSX</code>ã€‚å½“ä¸æƒ³åœ¨æ„å»ºç¯å¢ƒä¸­é…ç½®æœ‰å…³ <code>JSX</code> ç¼–è¯‘æ—¶ï¼Œä¸åœ¨ <code>React</code> ä¸­ä½¿ç”¨ <code>JSX</code> ä¼šæ›´åŠ æ–¹ä¾¿ã€‚</p> <p>æ¯ä¸ª <code>JSX</code> å…ƒç´ åªæ˜¯è°ƒç”¨ <code>React.createElement(component, props, ...children)</code> çš„è¯­æ³•ç³–ã€‚å› æ­¤ï¼Œä½¿ç”¨ <code>JSX</code> å¯ä»¥å®Œæˆçš„ä»»ä½•äº‹æƒ…éƒ½å¯ä»¥é€šè¿‡çº¯ <code>JavaScript</code> å®Œæˆã€‚</p> <p>ä¾‹å¦‚ï¼Œç”¨ <code>JSX</code> ç¼–å†™çš„ä»£ç ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Hello <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>toWhat<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Hello toWhat<span class="token operator">=</span><span class="token string">&quot;World&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>å¯ä»¥ç¼–å†™ä¸ºä¸ä½¿ç”¨ <code>JSX</code> çš„ä»£ç ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>toWhat<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>toWhat<span class="token operator">:</span> <span class="token string">'World'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨jsxçš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨reactå´éœ€è¦å¼•å…¥react"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨jsxçš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨reactå´éœ€è¦å¼•å…¥react" class="header-anchor">#</a> ä¸ºä»€ä¹ˆä½¿ç”¨<code>jsx</code>çš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨<code>react</code>å´éœ€è¦å¼•å…¥<code>react</code>ï¼Ÿ</h2> <p>æœ¬è´¨ä¸Šæ¥è¯´<code>JSX</code>æ˜¯<code>React.createElement(component, props, ...children)</code>æ–¹æ³•çš„è¯­æ³•ç³–ã€‚åœ¨<code>React 17</code>ä¹‹å‰ï¼Œå¦‚æœä½¿ç”¨äº†<code>JSX</code>ï¼Œå…¶å®å°±æ˜¯åœ¨ä½¿ç”¨<code>React</code>ï¼Œ <code>babel</code> ä¼šæŠŠç»„ä»¶è½¬æ¢ä¸º <code>CreateElement</code> å½¢å¼ã€‚åœ¨<code>React 17</code>ä¹‹åï¼Œå°±ä¸å†éœ€è¦å¼•å…¥ï¼Œå› ä¸º <code>babel</code> å·²ç»å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨å¼•å…¥<code>react</code>ã€‚</p> <h2 id="åœ¨reactä¸­æ€ä¹ˆä½¿ç”¨async-await"><a href="#åœ¨reactä¸­æ€ä¹ˆä½¿ç”¨async-await" class="header-anchor">#</a> åœ¨<code>React</code>ä¸­æ€ä¹ˆä½¿ç”¨<code>async/await</code>ï¼Ÿ</h2> <p><code>async/await</code>æ˜¯<code>ES7</code>æ ‡å‡†ä¸­çš„æ–°ç‰¹æ€§ã€‚å¦‚æœæ˜¯ä½¿ç”¨<code>React</code>å®˜æ–¹çš„è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœæ˜¯åœ¨è‡ªå·±æ­å»ºçš„<code>webpack</code>é…ç½®çš„é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œå¯èƒ½ä¼šé‡åˆ° <strong><code>regeneratorRuntime is not defined</code></strong> çš„å¼‚å¸¸é”™è¯¯ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å¼•å…¥<code>babel</code>ï¼Œå¹¶åœ¨<code>babel</code>ä¸­é…ç½®ä½¿ç”¨<code>async/await</code>ã€‚å¯ä»¥åˆ©ç”¨<code>babel</code>çš„ <code>transform-async-to-module-method</code> æ’ä»¶æ¥è½¬æ¢å…¶æˆä¸ºæµè§ˆå™¨æ”¯æŒçš„è¯­æ³•ï¼Œè™½ç„¶æ²¡æœ‰æ€§èƒ½çš„æå‡ï¼Œä½†å¯¹äºä»£ç ç¼–å†™ä½“éªŒè¦æ›´å¥½ã€‚</p> <h2 id="react-children-mapå’Œjsçš„mapæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#react-children-mapå’Œjsçš„mapæœ‰ä»€ä¹ˆåŒºåˆ«" class="header-anchor">#</a> <code>React.Children.map</code>å’Œ<code>js</code>çš„<code>map</code>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2> <p><code>JavaScript</code>ä¸­çš„<code>map</code>ä¸ä¼šå¯¹ä¸º<code>null</code>æˆ–è€…<code>undefined</code>çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œè€Œ<code>React.Children.map</code>ä¸­çš„<code>map</code>å¯ä»¥å¤„ç†<code>React.Children</code>ä¸º<code>null</code>æˆ–è€…<code>undefined</code>çš„æƒ…å†µã€‚</p> <h2 id="å¯¹react-ssrçš„ç†è§£"><a href="#å¯¹react-ssrçš„ç†è§£" class="header-anchor">#</a> å¯¹<code>React SSR</code>çš„ç†è§£</h2> <p>æœåŠ¡ç«¯æ¸²æŸ“æ˜¯æ•°æ®ä¸æ¨¡ç‰ˆç»„æˆçš„<code>html</code>ï¼Œå³ <code>HTML = æ•°æ® ï¼‹ æ¨¡ç‰ˆ</code>ã€‚å°†ç»„ä»¶æˆ–é¡µé¢é€šè¿‡æœåŠ¡å™¨ç”Ÿæˆ<code>html</code>å­—ç¬¦ä¸²ï¼Œå†å‘é€åˆ°æµè§ˆå™¨ï¼Œæœ€åå°†é™æ€æ ‡è®°&quot;æ··åˆ&quot;ä¸ºå®¢æˆ·ç«¯ä¸Šå®Œå…¨äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚é¡µé¢æ²¡ä½¿ç”¨æœåŠ¡æ¸²æŸ“ï¼Œå½“è¯·æ±‚é¡µé¢æ—¶ï¼Œè¿”å›çš„<code>body</code>é‡Œä¸ºç©ºï¼Œä¹‹åæ‰§è¡Œ<code>js</code>å°†<code>html</code>ç»“æ„æ³¨å…¥åˆ°<code>body</code>é‡Œï¼Œç»“åˆ<code>css</code>æ˜¾ç¤ºå‡ºæ¥;</p> <p><strong><code>SSR</code>çš„ä¼˜åŠ¿ï¼š</strong></p> <ul><li>å¯¹<code>SEO</code>å‹å¥½</li> <li>æ‰€æœ‰çš„æ¨¡ç‰ˆã€å›¾ç‰‡ç­‰èµ„æºéƒ½å­˜åœ¨æœåŠ¡å™¨ç«¯</li> <li>ä¸€ä¸ª<code>html</code>è¿”å›æ‰€æœ‰æ•°æ®</li> <li>å‡å°‘<code>HTTP</code>è¯·æ±‚</li> <li>å“åº”å¿«ã€ç”¨æˆ·ä½“éªŒå¥½ã€é¦–å±æ¸²æŸ“å¿«</li></ul> <ol><li><strong>æ›´åˆ©äº<code>SEO</code></strong></li></ol> <p>ä¸åŒçˆ¬è™«å·¥ä½œåŸç†ç±»ä¼¼ï¼Œåªä¼šçˆ¬å–æºç ï¼Œä¸ä¼šæ‰§è¡Œç½‘ç«™çš„ä»»ä½•è„šæœ¬ä½¿ç”¨äº†<code>React</code>æˆ–è€…å…¶å®ƒ<code>MVVM</code>æ¡†æ¶ä¹‹åï¼Œé¡µé¢å¤§å¤šæ•°<code>DOM</code>å…ƒç´ éƒ½æ˜¯åœ¨å®¢æˆ·ç«¯æ ¹æ®<code>js</code>åŠ¨æ€ç”Ÿæˆï¼Œå¯ä¾›çˆ¬è™«æŠ“å–åˆ†æçš„å†…å®¹å¤§å¤§å‡å°‘ã€‚å¦å¤–ï¼Œæµè§ˆå™¨çˆ¬è™«ä¸ä¼šç­‰å¾…æˆ‘ä»¬çš„æ•°æ®å®Œæˆä¹‹åå†å»æŠ“å–é¡µé¢æ•°æ®ã€‚æœåŠ¡ç«¯æ¸²æŸ“è¿”å›ç»™å®¢æˆ·ç«¯çš„æ˜¯å·²ç»è·å–äº†å¼‚æ­¥æ•°æ®å¹¶æ‰§è¡Œ<code>JavaScript</code>è„šæœ¬çš„æœ€ç»ˆ<code>HTML</code>ï¼Œç½‘ç»œçˆ¬ä¸­å°±å¯ä»¥æŠ“å–åˆ°å®Œæ•´é¡µé¢çš„ä¿¡æ¯ã€‚</p> <ol start="2"><li><strong>æ›´åˆ©äºé¦–å±æ¸²æŸ“</strong></li></ol> <p>é¦–å±çš„æ¸²æŸ“æ˜¯<code>node</code>å‘é€è¿‡æ¥çš„<code>html</code>å­—ç¬¦ä¸²ï¼Œå¹¶ä¸ä¾èµ–äº<code>js</code>æ–‡ä»¶äº†ï¼Œè¿™å°±ä¼šä½¿ç”¨æˆ·æ›´å¿«çš„çœ‹åˆ°é¡µé¢çš„å†…å®¹ã€‚å°¤å…¶æ˜¯é’ˆå¯¹å¤§å‹å•é¡µåº”ç”¨ï¼Œæ‰“åŒ…åæ–‡ä»¶ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œæ™®é€šå®¢æˆ·ç«¯æ¸²æŸ“åŠ è½½æ‰€æœ‰æ‰€éœ€æ–‡ä»¶æ—¶é—´è¾ƒé•¿ï¼Œé¦–é¡µå°±ä¼šæœ‰ä¸€ä¸ªå¾ˆé•¿çš„ç™½å±ç­‰å¾…æ—¶é—´ã€‚</p> <p><strong><code>SSR</code>çš„å±€é™ï¼š</strong></p> <ol><li><strong>æœåŠ¡ç«¯å‹åŠ›è¾ƒå¤§</strong></li></ol> <p>æœ¬æ¥æ˜¯é€šè¿‡å®¢æˆ·ç«¯å®Œæˆæ¸²æŸ“ï¼Œç°åœ¨ç»Ÿä¸€åˆ°æœåŠ¡ç«¯<code>node</code>æœåŠ¡å»åšã€‚å°¤å…¶æ˜¯é«˜å¹¶å‘è®¿é—®çš„æƒ…å†µï¼Œä¼šå¤§é‡å ç”¨æœåŠ¡ç«¯<code>CPU</code>èµ„æº;</p> <ol start="2"><li><strong>å¼€å‘æ¡ä»¶å—é™</strong></li></ol> <p>åœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸­ï¼Œåªä¼šæ‰§è¡Œåˆ°<code>componentDidMount</code>ä¹‹å‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œå› æ­¤é¡¹ç›®å¼•ç”¨çš„ç¬¬ä¸‰æ–¹çš„åº“ä¹Ÿä¸å¯ç”¨å…¶å®ƒç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œè¿™å¯¹å¼•ç”¨åº“çš„é€‰æ‹©äº§ç”Ÿäº†å¾ˆå¤§çš„é™åˆ¶;</p> <ol start="3"><li><strong>å­¦ä¹ æˆæœ¬ç›¸å¯¹è¾ƒé«˜</strong> é™¤äº†å¯¹<code>webpack</code>ã€<code>MVVM</code>æ¡†æ¶è¦ç†Ÿæ‚‰ï¼Œè¿˜éœ€è¦æŒæ¡<code>node</code>ã€ <code>Koa2</code>ç­‰ç›¸å…³æŠ€æœ¯ã€‚ç›¸å¯¹äºå®¢æˆ·ç«¯æ¸²æŸ“ï¼Œé¡¹ç›®æ„å»ºã€éƒ¨ç½²è¿‡ç¨‹æ›´åŠ å¤æ‚ã€‚</li></ol> <p><strong>æ—¶é—´è€—æ—¶æ¯”è¾ƒï¼š</strong></p> <ol><li><strong>æ•°æ®è¯·æ±‚</strong></li></ol> <p>ç”±æœåŠ¡ç«¯è¯·æ±‚é¦–å±æ•°æ®ï¼Œè€Œä¸æ˜¯å®¢æˆ·ç«¯è¯·æ±‚é¦–å±æ•°æ®ï¼Œè¿™æ˜¯&quot;å¿«&quot;çš„ä¸€ä¸ªä¸»è¦åŸå› ã€‚æœåŠ¡ç«¯åœ¨å†…ç½‘è¿›è¡Œè¯·æ±‚ï¼Œæ•°æ®å“åº”é€Ÿåº¦å¿«ã€‚å®¢æˆ·ç«¯åœ¨ä¸åŒç½‘ç»œç¯å¢ƒè¿›è¡Œæ•°æ®è¯·æ±‚ï¼Œä¸”å¤–ç½‘<code>http</code>è¯·æ±‚å¼€é”€å¤§ï¼Œå¯¼è‡´æ—¶é—´å·®</p> <ul><li>å®¢æˆ·ç«¯æ•°æ®è¯·æ±‚</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202205021606939.awebp" alt="51612599334_.pic.jpg"></p> <ul><li>æœåŠ¡ç«¯æ•°æ®è¯·æ±‚</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202205021606758.awebp" alt="61612599340_.pic.jpg"> 2. <strong><code>html</code>æ¸²æŸ“</strong> æœåŠ¡ç«¯æ¸²æŸ“æ˜¯å…ˆå‘åç«¯æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œç„¶åç”Ÿæˆå®Œæ•´é¦–å± htmlè¿”å›ç»™æµè§ˆå™¨ï¼›è€Œå®¢æˆ·ç«¯æ¸²æŸ“æ˜¯ç­‰<code>js</code>ä»£ç ä¸‹è½½ã€åŠ è½½ã€è§£æå®Œæˆåå†è¯·æ±‚æ•°æ®æ¸²æŸ“ï¼Œç­‰å¾…çš„è¿‡ç¨‹é¡µé¢æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰çš„ï¼Œå°±æ˜¯ç”¨æˆ·çœ‹åˆ°çš„ç™½å±ã€‚å°±æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ä¸éœ€è¦ç­‰å¾…<code>js</code>ä»£ç ä¸‹è½½å®Œæˆå¹¶è¯·æ±‚æ•°æ®ï¼Œå°±å¯ä»¥è¿”å›ä¸€ä¸ªå·²æœ‰å®Œæ•´æ•°æ®çš„é¦–å±é¡µé¢ã€‚</p> <ul><li>é<code>ssr html</code>æ¸²æŸ“</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202205021658166.awebp" alt="31612599269_.pic.jpg"></p> <ul><li><code>ssr html</code>æ¸²æŸ“</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202205021657839.awebp" alt="41612599275_.pic.jpg"></p> <h2 id="_20-ä¸ºä»€ä¹ˆ-react-è¦ç”¨-jsx"><a href="#_20-ä¸ºä»€ä¹ˆ-react-è¦ç”¨-jsx" class="header-anchor">#</a> 20. ä¸ºä»€ä¹ˆ <code>React</code> è¦ç”¨ <code>JSX</code>ï¼Ÿ</h2> <p><code>JSX</code> æ˜¯ä¸€ä¸ª <code>JavaScript</code> çš„è¯­æ³•æ‰©å±•ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªç±»ä¼¼äº <code>XML</code> çš„ <code>ECMAScript</code> è¯­æ³•æ‰©å±•ã€‚å®ƒæœ¬èº«æ²¡æœ‰å¤ªå¤šçš„è¯­æ³•å®šä¹‰ï¼Œä¹Ÿä¸æœŸæœ›å¼•å…¥æ›´å¤šçš„æ ‡å‡†ã€‚</p> <p>å…¶å® <code>React</code> æœ¬èº«å¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ <code>JSX</code>ã€‚åœ¨æ²¡æœ‰ <code>JSX</code> çš„æ—¶å€™ï¼Œ<code>React</code> å®ç°ä¸€ä¸ªç»„ä»¶ä¾èµ–äºä½¿ç”¨ <code>React.createElement</code> å‡½æ•°ã€‚ä»£ç å¦‚ä¸‹ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
        <span class="token string">'div'</span><span class="token punctuation">,</span>
        <span class="token keyword">null</span><span class="token punctuation">,</span> 
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>toWhat<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>toWhat<span class="token operator">:</span> <span class="token string">'World'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>è€Œ <code>JSX</code> æ›´åƒæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œé€šè¿‡ç±»ä¼¼ <code>XML</code> çš„æè¿°æ–¹å¼ï¼Œæå†™å‡½æ•°å¯¹è±¡ã€‚åœ¨é‡‡ç”¨ <code>JSX</code> ä¹‹åï¼Œè¿™æ®µä»£ç ä¼šè¿™æ ·å†™ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Hello <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>toWhat<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Hello toWhat<span class="token operator">=</span><span class="token string">&quot;World&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>é€šè¿‡å¯¹æ¯”ï¼Œå¯ä»¥æ¸…æ™°åœ°å‘ç°ï¼Œä»£ç å˜å¾—æ›´ä¸ºç®€æ´ï¼Œè€Œä¸”ä»£ç ç»“æ„å±‚æ¬¡æ›´ä¸ºæ¸…æ™°ã€‚</p> <p>å› ä¸º <code>React</code> éœ€è¦å°†ç»„ä»¶è½¬åŒ–ä¸ºè™šæ‹Ÿ <code>DOM</code> æ ‘ï¼Œæ‰€ä»¥åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ‰‹å†™ä¸€æ£µç»“æ„æ ‘ã€‚è€Œ**<code>XML</code> åœ¨æ ‘ç»“æ„çš„æè¿°ä¸Šå¤©ç”Ÿå…·æœ‰å¯è¯»æ€§å¼ºçš„ä¼˜åŠ¿ã€‚**</p> <p>ä½†è¿™æ ·å¯è¯»æ€§å¼ºçš„ä»£ç ä»…ä»…æ˜¯ç»™å†™ç¨‹åºçš„åŒå­¦çœ‹çš„ï¼Œå®é™…ä¸Šåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œä¼šä½¿ç”¨ <code>Babel</code> æ’ä»¶å°† <code>JSX</code> è¯­æ³•çš„ä»£ç è¿˜åŸä¸º <code>React.createElement</code> çš„ä»£ç ã€‚</p> <p><strong>æ€»ç»“ï¼š</strong> <code>JSX</code> æ˜¯ä¸€ä¸ª <code>JavaScript</code> çš„è¯­æ³•æ‰©å±•ï¼Œç»“æ„ç±»ä¼¼ <code>XML</code>ã€‚<code>JSX</code> ä¸»è¦ç”¨äºå£°æ˜ <code>React</code> å…ƒç´ ï¼Œä½† <code>React</code> ä¸­å¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ <code>JSX</code>ã€‚å³ä½¿ä½¿ç”¨äº† <code>JSX</code>ï¼Œä¹Ÿä¼šåœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ <code>Babel</code> æ’ä»¶ç¼–è¯‘ä¸º <code>React.createElement</code>ã€‚æ‰€ä»¥ <code>JSX</code> æ›´åƒæ˜¯ <code>React.createElement</code> çš„ä¸€ç§è¯­æ³•ç³–ã€‚</p> <p><code>React</code> å›¢é˜Ÿå¹¶ä¸æƒ³å¼•å…¥ <code>JavaScript</code> æœ¬èº«ä»¥å¤–çš„å¼€å‘ä½“ç³»ã€‚è€Œæ˜¯å¸Œæœ›é€šè¿‡åˆç†çš„å…³æ³¨ç‚¹åˆ†ç¦»ä¿æŒç»„ä»¶å¼€å‘çš„çº¯ç²¹æ€§ã€‚</p> <h2 id="hoc-ç›¸æ¯”-mixins-æœ‰ä»€ä¹ˆä¼˜ç‚¹"><a href="#hoc-ç›¸æ¯”-mixins-æœ‰ä»€ä¹ˆä¼˜ç‚¹" class="header-anchor">#</a> <code>HOC</code> ç›¸æ¯” <code>mixins</code> æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ</h2> <p><code>HOC</code> å’Œ <code>Vue</code> ä¸­çš„ <code>mixins</code> ä½œç”¨æ˜¯ä¸€è‡´çš„ï¼Œå¹¶ä¸”åœ¨æ—©æœŸ <code>React</code> ä¹Ÿæ˜¯ä½¿ç”¨ <code>mixins</code> çš„æ–¹å¼ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨ <code>class</code> çš„æ–¹å¼åˆ›å»ºç»„ä»¶ä»¥åï¼Œ<code>mixins</code> çš„æ–¹å¼å°±ä¸èƒ½ä½¿ç”¨äº†ï¼Œå¹¶ä¸”å…¶å® <code>mixins</code> ä¹Ÿæ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜çš„ï¼Œæ¯”å¦‚ï¼š</p> <ul><li>éšå«äº†ä¸€äº›ä¾èµ–ï¼Œæ¯”å¦‚æˆ‘åœ¨ç»„ä»¶ä¸­å†™äº†æŸä¸ª <code>state</code> å¹¶ä¸”åœ¨ <code>mixin</code> ä¸­ä½¿ç”¨äº†ï¼Œå°±è¿™å­˜åœ¨äº†ä¸€ä¸ªä¾èµ–å…³ç³»ã€‚ä¸‡ä¸€ä¸‹æ¬¡åˆ«äººè¦ç§»é™¤å®ƒï¼Œå°±å¾—å» <code>mixin</code> ä¸­æŸ¥æ‰¾ä¾èµ–</li> <li>å¤šä¸ª <code>mixin</code> ä¸­å¯èƒ½å­˜åœ¨ç›¸åŒå‘½åçš„å‡½æ•°ï¼ŒåŒæ—¶ä»£ç ç»„ä»¶ä¸­ä¹Ÿä¸èƒ½å‡ºç°ç›¸åŒå‘½åçš„å‡½æ•°ï¼Œå¦åˆ™å°±æ˜¯é‡å†™äº†ï¼Œå…¶å®æˆ‘ä¸€ç›´è§‰å¾—å‘½åçœŸçš„æ˜¯ä¸€ä»¶éº»çƒ¦äº‹ã€‚</li> <li>é›ªçƒæ•ˆåº”ï¼Œè™½ç„¶æˆ‘ä¸€ä¸ªç»„ä»¶è¿˜æ˜¯ä½¿ç”¨ç€åŒä¸€ä¸ª <code>mixin</code>ï¼Œä½†æ˜¯ä¸€ä¸ª <code>mixin</code> ä¼šè¢«å¤šä¸ªç»„ä»¶ä½¿ç”¨ï¼Œå¯èƒ½ä¼šå­˜åœ¨éœ€æ±‚ä½¿å¾— <code>mixin</code> ä¿®æ”¹åŸæœ¬çš„å‡½æ•°æˆ–è€…æ–°å¢æ›´å¤šçš„å‡½æ•°ï¼Œè¿™æ ·å¯èƒ½å°±ä¼šäº§ç”Ÿä¸€ä¸ªç»´æŠ¤æˆæœ¬</li></ul> <p><code>HOC</code> è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œå¹¶ä¸”å®ƒä»¬è¾¾æˆçš„æ•ˆæœä¹Ÿæ˜¯ä¸€è‡´çš„ï¼ŒåŒæ—¶ä¹Ÿæ›´åŠ çš„æ”¿æ²»æ­£ç¡®ï¼ˆæ¯•ç«Ÿæ›´åŠ å‡½æ•°å¼äº†ï¼‰ã€‚</p> <h2 id="react-ä¸­çš„é«˜é˜¶ç»„ä»¶è¿ç”¨äº†ä»€ä¹ˆè®¾è®¡æ¨¡å¼"><a href="#react-ä¸­çš„é«˜é˜¶ç»„ä»¶è¿ç”¨äº†ä»€ä¹ˆè®¾è®¡æ¨¡å¼" class="header-anchor">#</a> <code>React</code> ä¸­çš„é«˜é˜¶ç»„ä»¶è¿ç”¨äº†ä»€ä¹ˆè®¾è®¡æ¨¡å¼ï¼Ÿ</h2> <p>ä½¿ç”¨äº†è£…é¥°æ¨¡å¼ï¼Œé«˜é˜¶ç»„ä»¶çš„è¿ç”¨ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">withWindowWidth</span><span class="token punctuation">(</span><span class="token parameter">BaseComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">DerivedClass</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> <span class="token punctuation">{</span>
      windowWidth<span class="token operator">:</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">onResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        windowWidth<span class="token operator">:</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onResize<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>BaseComponent <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> DerivedClass<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Window width is<span class="token operator">:</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>windowWidth<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withWindowWidth</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>è£…é¥°æ¨¡å¼çš„ç‰¹ç‚¹æ˜¯ä¸éœ€è¦æ”¹å˜ è¢«è£…é¥°å¯¹è±¡ æœ¬èº«ï¼Œè€Œåªæ˜¯åœ¨å¤–é¢å¥—ä¸€ä¸ªå¤–å£³æ¥å£ã€‚<code>JavaScript</code> ç›®å‰å·²ç»æœ‰äº†åŸç”Ÿè£…é¥°å™¨çš„ææ¡ˆï¼Œå…¶ç”¨æ³•å¦‚ä¸‹ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>@testable
   <span class="token keyword">class</span> <span class="token class-name">MyTestableClass</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="ç”¨-react-å®ç°ä¸€ä¸ªä¿¡å·ç¯-äº¤é€šç¯-æ§åˆ¶å™¨"><a href="#ç”¨-react-å®ç°ä¸€ä¸ªä¿¡å·ç¯-äº¤é€šç¯-æ§åˆ¶å™¨" class="header-anchor">#</a> ç”¨ <code>React</code> å®ç°ä¸€ä¸ªä¿¡å·ç¯ï¼ˆäº¤é€šç¯ï¼‰æ§åˆ¶å™¨</h2> <div class="language-react line-numbers-mode"><pre class="language-text"><code>/** 1. ä¿¡å·ç¯æ§åˆ¶å™¨
ç”¨ React å®ç°ä¸€ä¸ªä¿¡å·ç¯ï¼ˆäº¤é€šç¯ï¼‰æ§åˆ¶å™¨ï¼Œè¦æ±‚ï¼š
1. é»˜è®¤æƒ…å†µä¸‹ï¼Œ
  1.1. çº¢ç¯äº®20ç§’ï¼Œå¹¶ä¸”æœ€å5ç§’é—ªçƒ
  1.2. ç»¿ç¯äº®20ç§’ï¼Œå¹¶ä¸”æœ€å5ç§’é—ªçƒ
  1.3. é»„ç¯äº®10ç§’
  1.4. æ¬¡åºä¸º çº¢-ç»¿-é»„-çº¢-ç»¿-é»„
2. ç¯çš„ä¸ªæ•°ã€é¢œè‰²ã€æŒç»­æ—¶é—´ã€é—ªçƒæ—¶é—´ã€ç¯å…‰æ¬¡åºéƒ½å¯é…ç½®ï¼Œå¦‚ï¼š
   lights=[{color: '#fff', duration: 10000, twinkleDuration: 5000}, ... ]
*/
import React from 'react'
import ReactDOM from 'react-dom'
class TrafficLightItem extends React.Component {
  constructor(props) {
    super(props);
    const {
      stopColor = &quot;red&quot;,
      passColor = &quot;green&quot;,
      pendingColor = &quot;yellow&quot;,
      stopDuration = 20000,
      stopTwinkleDuration = 5000,
      passDuration = 20000,
      passTwinkleDuration = 5000,
      pendingDuration = 10000,
    } = this.props.config;

    this.stopColor = stopColor
    this.passColor = passColor
    this.pendingColor = pendingColor
    this.stopDuration = stopDuration
    this.stopTwinkleDuration = stopTwinkleDuration
    this.passDuration = passDuration
    this.passTwinkleDuration = passTwinkleDuration
    this.pendingDuration = pendingDuration

    this.state = {
      coolr: this.stopColor
    };
  }

  // initial
  async init() {
    // stop color
    await setTimeout(() =&gt; {}, this.stopDuration - this.stopTwinkleDuration);

    // stop color twinkle
    await this.twinkle(this.stopColor, this.stopTwinkleDuration)

    // switch to pass color
    this.setState({
      color: this.passColor,
    });
    await setTimeout(() =&gt; {}, this.passDuration - this.passTwinkleDuration);

    // pass color twinkle
    await this.twinkle(this.passColor, this.passTwinkleDuration)

    // switch to pending color
    this.setState({
      color: this.pendingColor,
    });
  }
  // interval
  async lightInterval() {
    this.init()

    let totalDuration = this.stopDuration + this.passDuration + this.pendingDuration;
    setInterval(this.init, totalDuration);
  }
  // é—ªçƒ
  async twinkle(color, duration) {
    let _timer
    await setTimeout(() =&gt; {
      let cur = color
      _timer = setInterval(() =&gt; {
        if (cur === color) {
          this.setState({
            color: 'black'
          })
        } else {
          this.setState({
            color
          })
        }
      }, 1000);
    }, duration)

    clearInterval(_timer)
  }
  componentDidMount() {
    this.timer = this.lightInterval();
  }
  componentWillUnmount() {
    clearInterval(this.timer);
  }
  render() {
    return (
      &lt;div class=&quot;light&quot; style={{ backgroundColor: this.state.color }}&gt;&lt;/div&gt;
    );
  }
}

class TrafficLight extends React.Component {
  render() {
    const lights = this.props.lights;

    return (
      &lt;div&gt;
        {lights.map((light, index) =&gt; (
          &lt;TrafficLightItem key={index} config={light}&gt;&lt;/TrafficLightItem&gt;
        ))}
      &lt;/div&gt;
    );
  }
}
ReactDOM.render(&lt;TrafficLight/&gt;, document.body);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/05/02, 17:04:16</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/b06269/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">è™šæ‹ŸDOM</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/b06269/" class="prev">è™šæ‹ŸDOM</a></span> <!----></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/duochizhacai" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://juejin.cn/user/1249486902410744" title="JueJin" target="_blank" class="iconfont icon-juejin"></a></div> 
    Copyright Â© 2021-2022
    <span><a href='https://beian.miit.gov.cn'>ç²¤ICPå¤‡2021165371å·</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.95fc12d6.js" defer></script><script src="/assets/js/2.abf57e2f.js" defer></script><script src="/assets/js/51.9ad2b264.js" defer></script>
  </body>
</html>

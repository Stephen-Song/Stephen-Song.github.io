(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{474:function(s,t,a){"use strict";a.r(t);var n=a(26),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"æµè§ˆå™¨çš„åŒæºç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨çš„åŒæºç­–ç•¥"}},[s._v("#")]),s._v(" æµè§ˆå™¨çš„åŒæºç­–ç•¥")]),s._v(" "),a("h2",{attrs:{id:"ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥"}},[s._v("#")]),s._v(" ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥"),a("badge",{attrs:{text:"ç‰¹åˆ«é‡è¦",type:"error"}})],1),s._v(" "),a("p",[s._v("åŒæºç­–ç•¥é™åˆ¶äº†ä»åŒä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ªç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„é‡è¦çš„å®‰å…¨æœºåˆ¶ã€‚åŒæºæŒ‡çš„æ˜¯ï¼š"),a("strong",[s._v("åè®®")]),s._v("ã€"),a("strong",[s._v("ç«¯å£å·")]),s._v("ã€"),a("strong",[s._v("åŸŸå")]),s._v("å¿…é¡»ä¸€è‡´")]),s._v(" "),a("p",[s._v("åŒæºç­–ç•¥ä¸»è¦é™åˆ¶äº†")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("å½“å‰åŸŸä¸‹çš„"),a("code",[s._v("js")]),s._v("ä¸èƒ½è®¿é—®åˆ°å…¶ä»–åŸŸä¸‹çš„"),a("code",[s._v("cookies")]),s._v("ã€"),a("code",[s._v("localstorage")]),s._v("å’Œ"),a("code",[s._v("indexDB")])])]),s._v(" "),a("li",[a("p",[s._v("å½“å‰åŸŸä¸èƒ½æ“ä½œå’Œè®¿é—®å…¶ä»–åŸŸä¸‹çš„"),a("code",[s._v("DOM")])])]),s._v(" "),a("li",[a("p",[s._v("å½“å‰åŸŸä¸‹çš„"),a("code",[s._v("ajax")]),s._v("æ— æ³•å‘é€è·¨åŸŸè¯·æ±‚")])])]),s._v(" "),a("p",[s._v("åŒæºç­–ç•¥ä¸»è¦æ˜¯ä¿è¯ç”¨æˆ·çš„ä¿¡æ¯å®‰å…¨ï¼Œåªæ˜¯å¯¹"),a("code",[s._v("js")]),s._v("è„šæœ¬çš„ä¸€ç§é™åˆ¶ï¼Œå¹¶ä¸æ˜¯å¯¹æµè§ˆå™¨çš„é™åˆ¶ï¼Œå¯¹äºä¸€èˆ¬çš„"),a("code",[s._v("img")]),s._v("éƒ½ä¸ä¼šæœ‰è·¨åŸŸçš„é™åˆ¶ï¼Œå› ä¸ºè¿™äº›éƒ½ä¸ä¼šå‡ºç°å®‰å…¨é—®é¢˜")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("å€¼å¾—æ³¨æ„çš„æ˜¯")]),s._v(" "),a("p",[a("code",[s._v("<script>")]),s._v("é‡Œé¢çš„"),a("code",[s._v("src")]),s._v("æŒ‡å‘çš„è¯·æ±‚é“¾æ¥ä¹Ÿä¸ä¼šğŸˆ¶ï¸è·¨åŸŸçš„é™åˆ¶ï¼Œ"),a("RouterLink",{attrs:{to:"/pages/25740e/#jsonp"}},[s._v("å‚è€ƒJSONPçš„å®ç°")])],1)]),s._v(" "),a("h2",{attrs:{id:"å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜"}},[s._v("#")]),s._v(" å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("CORS")])])]),s._v(" "),a("div",{staticClass:"custom-block theorem"},[a("p",{staticClass:"title"},[s._v("æ¦‚å¿µ")]),a("p",[s._v("è·¨åŸŸèµ„æºå…±äº«("),a("code",[s._v("CORS")]),s._v(") æ˜¯ä¸€ç§æœºåˆ¶ï¼Œå®ƒä½¿ç”¨é¢å¤–çš„ "),a("code",[s._v("HTTP")]),s._v(" å¤´æ¥å‘Šè¯‰æµè§ˆå™¨  è®©è¿è¡Œåœ¨ä¸€ä¸ª "),a("code",[s._v("origin")]),s._v(" ("),a("code",[s._v("domain")]),s._v(")ä¸Šçš„"),a("code",[s._v("Web")]),s._v("åº”ç”¨è¢«å‡†è®¸è®¿é—®æ¥è‡ªä¸åŒæºæœåŠ¡å™¨ä¸Šçš„æŒ‡å®šçš„èµ„æº")]),s._v(" "),a("div",{staticClass:"custom-block right"},[a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/CORS",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ¥è‡ªMDN"),a("OutboundLink")],1)])])]),a("p",[s._v("ç®€å•åœ°æ¥è¯´å°±æ˜¯åªè¦æœåŠ¡å™¨ç«¯å®ç°äº†"),a("code",[s._v("cors")]),s._v("è¯·æ±‚å°±å¯ä»¥è·¨æºé€šä¿¡äº†")]),s._v(" "),a("p",[s._v("æµè§ˆå™¨å°†"),a("code",[s._v("cors")]),s._v("åˆ†ä¸ºç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚")]),s._v(" "),a("p",[s._v("ç®€å•è¯·æ±‚ä¸ä¼šè§¦å‘"),a("code",[s._v("cors")]),s._v("é¢„æ£€è¯·æ±‚")]),s._v(" "),a("p",[a("code",[s._v("HTTP")]),s._v("è¯·æ±‚æ–¹æ³•æ˜¯"),a("code",[s._v("HEAD")]),s._v(" "),a("code",[s._v("GET")]),s._v(" "),a("code",[s._v("POST")])]),s._v(" "),a("p",[a("code",[s._v("HTTP")]),s._v("è¯·æ±‚å¤´ä¿¡æ¯ä¸è¶…è¿‡ä»¥ä¸‹çš„å­—æ®µ"),a("code",[s._v("Accept")]),s._v("ã€"),a("code",[s._v("Accept-Language")]),s._v("ã€"),a("code",[s._v("Content-Language")]),s._v("ã€"),a("code",[s._v("Last-Event-ID")]),s._v("ã€"),a("code",[s._v("Content-Type")]),s._v("ï¼šåªé™äºä¸‰ä¸ªå€¼"),a("code",[s._v("application/x-www-form-urlencoded")]),s._v("ã€"),a("code",[s._v("multipart/form-data")]),s._v("ã€"),a("code",[s._v("text/plain")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("å€¼å¾—æ³¨æ„çš„æ˜¯")]),s._v(" "),a("p",[s._v("æ¯”è¾ƒå¸¸è§çš„"),a("code",[s._v("json")]),s._v("å°±ä¸æ˜¯ç®€å•è¯·æ±‚äº†")])]),s._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[s._v("headè¯·æ±‚")]),s._v(" "),a("p",[s._v("è¯·æ±‚èµ„æºçš„å¤´éƒ¨ä¿¡æ¯, å¹¶ä¸”è¿™äº›å¤´éƒ¨ä¸"),a("code",[s._v("HTTP")]),s._v(" "),a("code",[s._v("GET")]),s._v(" æ–¹æ³•è¯·æ±‚æ—¶è¿”å›çš„ä¸€è‡´. "),a("code",[s._v("HEAD")]),s._v(" æ–¹æ³•çš„å“åº”ä¸åº”åŒ…å«å“åº”æ­£æ–‡.")]),s._v(" "),a("p",[s._v("é€šå¸¸ç”¨äº")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("ä¸‹è½½ä¸€ä¸ªå¤§æ–‡ä»¶å‰å…ˆè·å–å…¶å¤§å°å†å†³å®šæ˜¯å¦è¦ä¸‹è½½, ä»¥æ­¤å¯ä»¥èŠ‚çº¦å¸¦å®½èµ„æº")])]),s._v(" "),a("li",[a("p",[s._v("æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æœ‰æœ€æ–°ç‰ˆæœ¬ï¼ŒæœåŠ¡å™¨ä¼šåœ¨å“åº”å¤´é‡ŒæŠŠæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ä¼ å›æ¥ã€‚")])])])]),s._v(" "),a("h2",{attrs:{id:"ä¸ºä»€ä¹ˆä¼šå‡ºç°ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆä¼šå‡ºç°ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚"}},[s._v("#")]),s._v(" ä¸ºä»€ä¹ˆä¼šå‡ºç°ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚")]),s._v(" "),a("p",[s._v("è·¨åŸŸåªæ˜¯æµè§ˆå™¨çš„ä¸€ç§ä¿æŠ¤æœºåˆ¶ï¼Œæ˜¯ä¸ºäº†ä¿æŠ¤ç«™ç‚¹çš„å®‰å…¨ï¼Œå…¶å®è·¨åŸŸæœ¬èº«æ˜¯ä¸å­˜åœ¨çš„ï¼Œä¸ºäº†å®‰å…¨æµè§ˆå™¨é’ˆå¯¹"),a("code",[s._v("XMLHTTPRequest")]),s._v("å’Œ"),a("code",[s._v("fetch")]),s._v("è¿™ç§è„šæœ¬å‘èµ·çš„è·¨åŸŸè¯·æ±‚åšäº†ä¸€å®šçš„è·¨åŸŸé™åˆ¶ï¼Œè€Œå¯¹äºæµè§ˆå™¨è‡ªèº«çš„å¦‚"),a("code",[s._v("img")]),s._v("çš„"),a("code",[s._v("src")]),s._v("ã€"),a("code",[s._v("script")]),s._v("çš„"),a("code",[s._v("js")]),s._v("èµ„æºã€"),a("code",[s._v("form")]),s._v("è¡¨å•çš„æäº¤ï¼Œæ²¡æœ‰åšè·¨åŸŸçš„é™åˆ¶ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ç®€å•è¯·æ±‚")]),s._v("ï¼šè¿™æ˜¯å› ä¸º"),a("code",[s._v("img")]),s._v("çš„"),a("code",[s._v("src")]),s._v("ã€"),a("code",[s._v("script")]),s._v("çš„"),a("code",[s._v("js")]),s._v("åªèƒ½å‘èµ·"),a("code",[s._v("get")]),s._v("è¯·æ±‚ï¼Œè€Œè¡¨å•è™½ç„¶èƒ½è¿›è¡Œ"),a("code",[s._v("post")]),s._v("æäº¤ï¼Œä½†ä¸€æ–¹é¢è¡¨å•çš„æäº¤æ˜¯æ˜¾å¼çš„ï¼Œç”¨æˆ·å¯ä»¥æ„ŸçŸ¥ï¼Œå¦ä¸€æ–¹é¢ï¼Œè¡¨å•æäº¤åªèƒ½å‘èµ·è¯·æ±‚ï¼Œè€Œä¸èƒ½è·å–è¯·æ±‚çš„å“åº”ï¼Œè¿™æ ·ä¸€æ¥ï¼Œè¯·æ±‚å¯ä»¥å‘èµ·ï¼Œè€ŒæœåŠ¡ç«¯å¯ä»¥è¿›è¡Œæ‹’ç»ï¼Œæµè§ˆå™¨è®¤ä¸ºè¿™æ˜¯å®‰å…¨çš„ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("å¤æ‚è¯·æ±‚")]),s._v("ï¼šé€šè¿‡è„šæœ¬å‘èµ·çš„è·¨åŸŸè¯·æ±‚ï¼Œ"),a("strong",[s._v("å¯ä»¥å¯¹å“åº”å†…å®¹åšå¤„ç†")]),s._v("ï¼Œè¿™æ˜¯ç”¨æˆ·ä¸å¯æ„ŸçŸ¥çš„ï¼Œæµè§ˆå™¨è®¤ä¸ºè¿™æ˜¯ä¸å®‰å…¨çš„ï¼Œæ‰€ä»¥å¯¹äºå¤æ‚è¯·æ±‚ï¼Œè¿›è¡Œè·¨åŸŸçš„é™åˆ¶ï¼Œè€Œ"),a("code",[s._v("CORS")]),s._v("æœºåˆ¶å°±æ˜¯æµè§ˆå™¨å¯¹è·¨åŸŸè¿›è¡Œå¤„ç†ã€‚å¯¹äºå¤æ‚è¯·æ±‚ä¼šå‘èµ·ä¸€ä¸ªé¢„æ£€è¯·æ±‚ï¼Œåˆ¤æ–­æœåŠ¡ç«¯æ˜¯å¦å¯ä»¥æ¥å—è¿™ä¸ªè·¨åŸŸè¯·æ±‚ï¼Œæ¥å—åå°±å¯ä»¥å‘æœåŠ¡ç«¯å‘èµ·çœŸæ­£çš„è¯·æ±‚ã€‚")]),s._v(" "),a("h2",{attrs:{id:"ç®€è¿°ä¸€ä¸‹ç®€å•è¯·æ±‚çš„è¿‡ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®€è¿°ä¸€ä¸‹ç®€å•è¯·æ±‚çš„è¿‡ç¨‹"}},[s._v("#")]),s._v(" ç®€è¿°ä¸€ä¸‹ç®€å•è¯·æ±‚çš„è¿‡ç¨‹"),a("badge",{attrs:{text:"ç‰¹åˆ«é‡è¦",type:"error"}})],1),s._v(" "),a("p",[s._v("æµè§ˆå™¨ä¼šç›´æ¥å‘å‡º"),a("code",[s._v("CORS")]),s._v("è¯·æ±‚ï¼Œä»–ä¼šåœ¨ä»–ä¼šåœ¨è¯·æ±‚çš„å¤´ä¿¡æ¯ä¸Šå¢åŠ ä¸€ä¸ª"),a("code",[s._v("Origin")]),s._v("å­—æ®µï¼Œè¯¥å­—æ®µç”¨æ¥è¯´æ˜æœ¬æ¬¡è¯·æ±‚æ¥è‡ªäºå“ªä¸€ä¸ªæºï¼ˆ"),a("strong",[s._v("åè®®+ç«¯å£+åŸŸå")]),s._v("ï¼‰ï¼Œå¦‚æœ"),a("code",[s._v("origin")]),s._v("æŒ‡å®šçš„åŸŸååœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”ä¼šå¤šå‡ºä»¥ä¸‹ä¿¡æ¯")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("Access"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Allow"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Origin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å’ŒOrignä¸€ç›´")]),s._v("\nAccess"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Allow"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Credentials"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookie")]),s._v("\nAccess"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Expose"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" FooBar   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŒ‡å®šè¿”å›å…¶ä»–å­—æ®µçš„å€¼")]),s._v("\nContent"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" text"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" charset"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¡¨ç¤ºæ–‡æ¡£ç±»å‹")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("å¦‚æœæŒ‡å®šçš„åŸŸåä¸åœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„"),a("code",[s._v("HTTP")]),s._v("å›åº”ï¼Œæµè§ˆå™¨å‘ç°æ²¡æœ‰ä¸Šé¢çš„"),a("code",[s._v("Access-Control-Allow-Origin")]),s._v("ï¼Œè¡¨ç¤ºå°±å‡ºé”™äº†ï¼Œè¿™ä¸ªæ˜¯æ— æ³•é€šè¿‡çŠ¶æ€ç è¿›è¡Œåˆ¤æ–­çš„")]),s._v(" "),a("h2",{attrs:{id:"ç®€è¿°ä¸€ä¸‹éç®€å•è¯·æ±‚çš„è¿‡ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®€è¿°ä¸€ä¸‹éç®€å•è¯·æ±‚çš„è¿‡ç¨‹"}},[s._v("#")]),s._v(" ç®€è¿°ä¸€ä¸‹éç®€å•è¯·æ±‚çš„è¿‡ç¨‹"),a("badge",{attrs:{text:"ç‰¹åˆ«é‡è¦",type:"error"}})],1),s._v(" "),a("p",[s._v("éç®€å•è¯·æ±‚æ¯”å¦‚"),a("code",[s._v("DELETE")]),s._v(" "),a("code",[s._v("PUT")]),s._v("ä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ä¼šè¿›è¡Œä¸€æ¬¡é¢„æ£€è¯·æ±‚ï¼Œå°±æ˜¯å½“å‰æ‰€åœ¨çš„ç½‘é¡µæ˜¯å¦åœ¨æœåŠ¡å™¨å…è®¸è®¿é—®çš„èŒƒå›´å†…ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼Œåªæœ‰å¾—åˆ°æœåŠ¡ç«¯è‚¯å®šçš„å›å¤æ‰èƒ½è¿›è¡Œæ­£å¼çš„"),a("code",[s._v("HTTP")]),s._v("è¯·æ±‚ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™")]),s._v(" "),a("p",[s._v("é¢„æ£€çš„è¯·æ±‚æ–¹æ³•æ˜¯"),a("code",[s._v("option")]),s._v("ï¼Œä»–çš„å¤´ä¿¡æ¯å…³é”®å°±æ˜¯"),a("code",[s._v("origin")]),s._v("ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰")]),s._v(" "),a("ul",[a("li",[a("strong",[a("code",[s._v("Access-Control-Request-Method")])]),s._v("ï¼šè¯¥å­—æ®µæ˜¯å¿…é¡»çš„ï¼Œç”¨æ¥åˆ—å‡ºæµè§ˆå™¨çš„"),a("code",[s._v("CORS")]),s._v("è¯·æ±‚ä¼šç”¨åˆ°å“ªäº›"),a("code",[s._v("HTTP")]),s._v("æ–¹æ³•ã€‚")]),s._v(" "),a("li",[a("strong",[a("code",[s._v("Access-Control-Request-Headers")])]),s._v("ï¼š è¯¥å­—æ®µæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šæµè§ˆå™¨"),a("code",[s._v("CORS")]),s._v("è¯·æ±‚ä¼šé¢å¤–å‘é€çš„å¤´ä¿¡æ¯å­—æ®µ")])]),s._v(" "),a("p",[s._v("å¦‚æœæœåŠ¡å™¨æ ¹æ®å¤´ä¿¡æ¯çš„ä¸‰ä¸ªå­—æ®µè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœè¿”å›çš„å¤´ä¿¡æ¯æœ‰"),a("code",[s._v("Access-Control-Allow-Origin")]),s._v("å°±æ˜¯å…è®¸è·¨åŸŸè¯·æ±‚")]),s._v(" "),a("p",[s._v("æœåŠ¡å™¨è¿”å›çš„"),a("code",[s._v("cors")]),s._v("å­—æ®µæœ‰")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Access-Control-Allow-Origin:")]),s._v(" http://api.bob.com  // å…è®¸è·¨åŸŸçš„æºåœ°å€\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Access-Control-Allow-Methods:")]),s._v(" GET, POST, PUT // æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰è·¨åŸŸè¯·æ±‚çš„æ–¹æ³•\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Access-Control-Allow-Headers:")]),s._v(" X-Custom-Header  // æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰å¤´ä¿¡æ¯å­—æ®µ\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Access-Control-Allow-Credentials:")]),s._v(" true   // è¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookie\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Access-Control-Max-Age:")]),s._v(" 1728000  // ç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("å‰ä¸‰ä¸ªæ˜¯æœåŠ¡ç«¯æ˜¯å¿…é¡»è¿”å›çš„å­—æ®µ")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("å€¼å¾—æ³¨æ„çš„æ˜¯æˆ‘ä»¬åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­è¦å‡å°‘optionsè¯·æ±‚æ¬¡æ•°ï¼Œå› ä¸º")]),s._v(" "),a("ul",[a("li",[s._v("è¯·æ±‚æ¬¡æ•°è¿‡å¤šä¼šæŸè€—é¡µé¢çš„åŠ è½½æ€§èƒ½ï¼Œé™ä½ç”¨æˆ·ä½“éªŒåº¦")]),s._v(" "),a("li",[s._v("å¯ä»¥åœ¨åç«¯è¿”å›å¤´éƒ¨æ·»åŠ "),a("code",[s._v("Access-Control-Max-Age")]),s._v("è¡¨ç¤ºå¯ä»¥è¢«ç¼“å­˜å¤šä¹…ï¼Œå•ä½æ˜¯ç§’ï¼Œå¯¹å®Œå…¨ä¸€æ ·çš„"),a("code",[s._v("URL")]),s._v("ç¼“å­˜è®¾ç½®ç”Ÿæ•ˆï¼Œåœ¨è¿™ä¸ªæ—¶é—´æ®µå†…å°±ä¸éœ€è¦é¢„æ£€äº†")])])]),s._v(" "),a("p",[s._v("è¿˜æœ‰ä¸€ä¸ªæ˜¯"),a("code",[s._v("CORS")]),s._v("ä¸­çš„"),a("code",[s._v("cookies")]),s._v("é—®é¢˜")]),s._v(" "),a("p",[s._v("åœ¨"),a("code",[s._v("CORS")]),s._v("è¯·æ±‚ä¸­å¦‚æœæƒ³ä¼ é€’"),a("code",[s._v("cookies")]),s._v("ï¼Œè¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨è¯·æ±‚ä¸­åŠ ä¸Š"),a("code",[s._v("withCredentials")])])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åŸç”Ÿ xml çš„è®¾ç½®æ–¹å¼")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("withCredentials "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// axios è®¾ç½®æ–¹å¼")]),s._v("\naxios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("defaults"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("withCredentials "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("Access-Control-Allow-Credentials")]),s._v(" è®¾ç½®ä¸º "),a("code",[s._v("true")])]),s._v(" "),a("li",[a("code",[s._v("Access-Control-Allow-Origin")]),s._v(" è®¾ç½®ä¸ºé  "),a("code",[s._v("*")])])]),s._v(" "),a("h2",{attrs:{id:"å…¶ä»–è·¨åŸŸæ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–è·¨åŸŸæ–¹å¼"}},[s._v("#")]),s._v(" å…¶ä»–è·¨åŸŸæ–¹å¼")]),s._v(" "),a("h3",{attrs:{id:"jsonp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsonp"}},[s._v("#")]),s._v(" "),a("code",[s._v("JSONP")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("åŸç†")]),s._v(" "),a("p",[s._v("åˆ©ç”¨"),a("code",[s._v("<script>")]),s._v("æ ‡ç­¾æ²¡æœ‰è·¨åŸŸé™åˆ¶ï¼Œé€šè¿‡"),a("code",[s._v("<script>")]),s._v("æ ‡ç­¾"),a("code",[s._v("src")]),s._v("å±æ€§ï¼Œå‘é€å¸¦æœ‰"),a("code",[s._v("callback")]),s._v("å‚æ•°çš„"),a("code",[s._v("GET")]),s._v("è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å°†æ¥å£è¿”å›æ•°æ®æ‹¼å‡‘åˆ°"),a("code",[s._v("callback")]),s._v("å‡½æ•°ä¸­ï¼Œè¿”å›ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨è§£ææ‰§è¡Œï¼Œä»è€Œå‰ç«¯æ‹¿åˆ°"),a("code",[s._v("callback")]),s._v("å‡½æ•°è¿”å›çš„æ•°æ®ã€‚")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" script "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'script'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/javascript'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¼ å‚ä¸€ä¸ªå›è°ƒå‡½æ•°åç»™åç«¯ï¼Œæ–¹ä¾¿åç«¯è¿”å›æ—¶æ‰§è¡Œè¿™ä¸ªåœ¨å‰ç«¯å®šä¹‰çš„å›è°ƒå‡½æ•°")]),s._v("\n    script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.crucials:80/login?user=admin&callback=handleCallback'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("head"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å›è°ƒæ‰§è¡Œå‡½æ•°")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("æœåŠ¡ç«¯è¿”å›å¦‚ä¸‹ï¼ˆè¿”å›æ—¶å³æ‰§è¡Œå…¨å±€å‡½æ•°ï¼‰")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"success"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"admin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("Vue axios")]),s._v("å®ç°")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$http "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("jsonp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.crucials:80/login'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    params"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    jsonp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'handleCallback'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("code",[s._v("nodejs")]),s._v("ä»£ç ")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" querystring "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'querystring'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" http "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" server "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'request'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" params "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" querystring"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" fn "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// jsonpè¿”å›è®¾ç½®")]),s._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeHead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/javascript'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fn "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'('")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("')'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'80'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Server is running at port 80...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("å½“ç„¶ç¼ºç‚¹å°±æ˜¯ä»…æ”¯æŒ"),a("code",[s._v("get")]),s._v("æ–¹æ³•å’Œä¸å®‰å…¨ï¼Œå¯èƒ½é­åˆ°"),a("code",[s._v("xss")]),s._v("æ”»å‡»")]),s._v(" "),a("h3",{attrs:{id:"postmessageè·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postmessageè·¨åŸŸ"}},[s._v("#")]),s._v(" "),a("code",[s._v("postMessage")]),s._v("è·¨åŸŸ")]),s._v(" "),a("p",[s._v("ä¸»è¦è§£å†³äº†")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("é¡µé¢å’Œå…¶æ‰“å¼€çš„æ–°çª—å£çš„æ•°æ®ä¼ é€’")])]),s._v(" "),a("li",[a("p",[s._v("å¤šçª—å£ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’")])]),s._v(" "),a("li",[a("p",[s._v("é¡µé¢ä¸åµŒå¥—çš„"),a("code",[s._v("iframe")]),s._v("æ¶ˆæ¯ä¼ é€’")])])]),s._v(" "),a("p",[s._v("ç”¨æ³•ï¼š"),a("code",[s._v("postMessage(data,origin)")]),s._v("æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[a("code",[s._v("data")])]),s._v("ï¼š "),a("code",[s._v("html5")]),s._v("è§„èŒƒæ”¯æŒä»»æ„åŸºæœ¬ç±»å‹æˆ–å¯å¤åˆ¶çš„å¯¹è±¡ï¼Œä½†éƒ¨åˆ†æµè§ˆå™¨åªæ”¯æŒå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¼ å‚æ—¶æœ€å¥½ç”¨"),a("code",[s._v("JSON.stringify()")]),s._v("åºåˆ—åŒ–ã€‚")]),s._v(" "),a("li",[a("strong",[a("code",[s._v("origin")])]),s._v("ï¼š åè®®+ä¸»æœº+ç«¯å£å·ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸º"),a("code",[s._v('"*"')]),s._v("ï¼Œè¡¨ç¤ºå¯ä»¥ä¼ é€’ç»™ä»»æ„çª—å£ï¼Œå¦‚æœè¦æŒ‡å®šå’Œå½“å‰çª—å£åŒæºçš„è¯è®¾ç½®ä¸º"),a("code",[s._v('"/"')]),s._v("ã€‚")])]),s._v(" "),a("p",[s._v("1ï¼‰"),a("code",[s._v("a.htmlï¼š(a.com/a.html)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"iframe"')]),s._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://www.b.com/b.html"')]),s._v(" style"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"display:none;"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("       \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onload")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'aym'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‘bä¼ é€è·¨åŸŸæ•°æ®")]),s._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contentWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("postMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.b.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¥å—bè¿”å›æ•°æ®")]),s._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'message'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data from b ---\x3e '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("2ï¼‰"),a("code",[s._v("b.htmlï¼š(b.com/b.html)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¥æ”¶açš„æ•°æ®")]),s._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'message'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data from a ---\x3e '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¤„ç†åå†å‘å›a")]),s._v("\n            window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("postMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.a.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"nginxä»£ç†è·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginxä»£ç†è·¨åŸŸ"}},[s._v("#")]),s._v(" "),a("code",[s._v("nginx")]),s._v("ä»£ç†è·¨åŸŸ")]),s._v(" "),a("p",[s._v("å®é™…ä¸Šä¸"),a("code",[s._v("CORS")]),s._v("è·¨åŸŸåŸç†ä¸€æ ·ï¼Œéƒ½æ˜¯é…ç½®"),a("code",[s._v("Access-Control-Allow-Origin")]),s._v("â€¦ç­‰å­—æ®µã€‚")]),s._v(" "),a("p",[a("code",[s._v("nginx")]),s._v("é…ç½®è§£å†³"),a("code",[s._v("iconfont")]),s._v("è·¨åŸŸ æµè§ˆå™¨è·¨åŸŸè®¿é—®"),a("code",[s._v("js")]),s._v("ã€"),a("code",[s._v("css")]),s._v("ã€"),a("code",[s._v("img")]),s._v("ç­‰å¸¸è§„é™æ€èµ„æºè¢«åŒæºç­–ç•¥è®¸å¯ï¼Œä½†"),a("code",[s._v("iconfont")]),s._v("å­—ä½“æ–‡ä»¶("),a("code",[s._v("eot|otf|ttf|woff|svg")]),s._v(")ä¾‹å¤–ï¼Œæ­¤æ—¶å¯åœ¨"),a("code",[s._v("nginx")]),s._v("çš„é™æ€èµ„æºæœåŠ¡å™¨ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  add_header Access"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Allow"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Origin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[s._v("nginxåå‘ä»£ç†æ¥å£è·¨åŸŸ è·¨åŸŸé—®é¢˜")]),s._v(" "),a("p",[s._v("åŒæºç­–ç•¥ä»…æ˜¯é’ˆå¯¹æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ã€‚æœåŠ¡å™¨ç«¯è°ƒç”¨"),a("code",[s._v("HTTP")]),s._v("æ¥å£åªæ˜¯ä½¿ç”¨"),a("code",[s._v("HTTP")]),s._v("åè®®ï¼Œä¸éœ€è¦åŒæºç­–ç•¥ï¼Œä¹Ÿå°±ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚")]),s._v(" "),a("p",[s._v("å®ç°æ€è·¯ï¼šé€šè¿‡"),a("code",[s._v("Nginx")]),s._v("é…ç½®ä¸€ä¸ªä»£ç†æœåŠ¡å™¨åŸŸåä¸"),a("code",[s._v("a")]),s._v("ç›¸åŒï¼Œç«¯å£ä¸åŒï¼‰åšè·³æ¿æœºï¼Œåå‘ä»£ç†è®¿é—®"),a("code",[s._v("b")]),s._v("æ¥å£ï¼Œå¹¶ä¸”å¯ä»¥é¡ºä¾¿ä¿®æ”¹"),a("code",[s._v("cookie")]),s._v("ä¸­"),a("code",[s._v("domain")]),s._v("ä¿¡æ¯ï¼Œæ–¹ä¾¿å½“å‰åŸŸ"),a("code",[s._v("cookie")]),s._v("å†™å…¥ï¼Œå®ç°è·¨åŸŸè®¿é—®")])]),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#proxyæœåŠ¡å™¨")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("81")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v("  www.a.com")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" /")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_pass")]),s._v("   http://www.b.com:8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åå‘ä»£ç†")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_cookie_domain")]),s._v(" www.b.com www.a.com")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä¿®æ”¹cookieé‡ŒåŸŸå")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v("  index.html index.htm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å½“ç”¨webpack-dev-serverç­‰ä¸­é—´ä»¶ä»£ç†æ¥å£è®¿é—®nignxæ—¶ï¼Œæ­¤æ—¶æ— æµè§ˆå™¨å‚ä¸ï¼Œæ•…æ²¡æœ‰åŒæºé™åˆ¶ï¼Œä¸‹é¢çš„è·¨åŸŸé…ç½®å¯ä¸å¯ç”¨")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_header")]),s._v(" Access-Control-Allow-Origin http://www.a.com")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å½“å‰ç«¯åªè·¨åŸŸä¸å¸¦cookieæ—¶ï¼Œå¯ä¸º*")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_header")]),s._v(" Access-Control-Allow-Credentials true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ"}},[s._v("#")]),s._v(" "),a("code",[s._v("nodejs")]),s._v("ä¸­é—´ä»¶ä»£ç†è·¨åŸŸ")]),s._v(" "),a("p",[s._v("åŸç†ä¹Ÿä¸"),a("code",[s._v("nginx")]),s._v("å¤§è‡´ç›¸åŒï¼Œéƒ½æ˜¯é€šè¿‡ä»£ç†ç„¶åè¿›è¡Œè½¬å‘ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®"),a("code",[s._v("cookiesDomainRewrite")]),s._v("å‚æ•°ä¿®æ”¹å“åº”å¤´ä¸­"),a("code",[s._v("cookies")]),s._v("ä¸­åŸŸåï¼Œå®ç°å½“å‰åŸŸçš„"),a("code",[s._v("cookies")]),s._v("å†™å…¥ï¼Œæ–¹ä¾¿æ¥å£ç™»é™†è®¤è¯")]),s._v(" "),a("p",[a("strong",[s._v("é"),a("code",[s._v("vue")]),s._v("æ¡†æ¶çš„è·¨åŸŸ")]),s._v(" ä½¿ç”¨"),a("code",[s._v("node + express + http-proxy-middleware")]),s._v("æ­å»ºä¸€ä¸ª"),a("code",[s._v("proxy")]),s._v("æœåŠ¡å™¨")]),s._v(" "),a("p",[s._v("å‰ç«¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‰ç«¯å¼€å…³ï¼šæµè§ˆå™¨æ˜¯å¦è¯»å†™cookie")]),s._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("withCredentials "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®¿é—®http-proxy-middlewareä»£ç†æœåŠ¡å™¨")]),s._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'get'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.a.com:3000/login?user=admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("ä¸­é—´ä»¶æœåŠ¡å™¨ä»£ç ")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http-proxy-middleware'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä»£ç†è·¨åŸŸç›®æ ‡æ¥å£")]),s._v("\n    target"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.b.com:8080'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    changeOrigin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¿®æ”¹å“åº”å¤´ä¿¡æ¯ï¼Œå®ç°è·¨åŸŸå¹¶å…è®¸å¸¦cookie")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onProxyRes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("proxyRes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Access-Control-Allow-Origin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.a.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Access-Control-Allow-Credentials'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¿®æ”¹å“åº”ä¿¡æ¯ä¸­çš„cookieåŸŸå")]),s._v("\n    cookieDomainRewrite"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'www.a.com'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯ä»¥ä¸ºfalseï¼Œè¡¨ç¤ºä¸ä¿®æ”¹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Proxy server is listen at port 3000...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"iframeè·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iframeè·¨åŸŸ"}},[s._v("#")]),s._v(" "),a("code",[s._v("iframe")]),s._v("è·¨åŸŸ")]),s._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[s._v("ä¸ªæ„Ÿè§‰æ²¡é‚£ä¹ˆé‡è¦")])]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹")]),s._v(" "),a("h4",{attrs:{id:"document-domain-iframeè·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#document-domain-iframeè·¨åŸŸ"}},[s._v("#")]),s._v(" "),a("code",[s._v("document.domain")]),s._v(" + "),a("code",[s._v("iframe")]),s._v("è·¨åŸŸ")]),s._v(" "),a("p",[s._v("ä»…é™ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒçš„è·¨åŸŸåº”ç”¨åœºæ™¯ï¼Œå®ç°åŸç†ï¼šä¸¤ä¸ªé¡µé¢éƒ½é€šè¿‡jså¼ºåˆ¶è®¾ç½®"),a("code",[s._v("document.domain")]),s._v("ä¸ºåŸºç¡€ä¸»åŸŸï¼Œå°±å®ç°äº†åŒåŸŸ")]),s._v(" "),a("p",[s._v("1ï¼‰çˆ¶çª—å£ï¼š("),a("code",[s._v("domain.com/a.html")]),s._v(")")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"iframe"')]),s._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://child.domain.com/b.html"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("domain "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'domain.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("å­çª—å£ï¼š("),a("code",[s._v("child.domain.com/a.html")]),s._v(")")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("domain "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'domain.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–çˆ¶çª—å£ä¸­å˜é‡")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'get js data from parent ---\x3e '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"location-hash-iframeè·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#location-hash-iframeè·¨åŸŸ"}},[s._v("#")]),s._v(" "),a("code",[s._v("location.hash + iframe")]),s._v("è·¨åŸŸ")]),s._v(" "),a("p",[s._v("å®ç°åŸç†ï¼š"),a("code",[s._v("a")]),s._v("æ¬²ä¸"),a("code",[s._v("b")]),s._v("è·¨åŸŸç›¸äº’é€šä¿¡ï¼Œé€šè¿‡ä¸­é—´é¡µ"),a("code",[s._v("c")]),s._v("æ¥å®ç°ã€‚ ä¸‰ä¸ªé¡µé¢ï¼Œä¸åŒåŸŸä¹‹é—´åˆ©ç”¨"),a("code",[s._v("iframeçš„location.hash")]),s._v("ä¼ å€¼ï¼Œç›¸åŒåŸŸä¹‹é—´ç›´æ¥jsè®¿é—®æ¥é€šä¿¡ã€‚")]),s._v(" "),a("p",[s._v("å…·ä½“å®ç°ï¼šAåŸŸï¼ša.html -> BåŸŸï¼šb.html -> AåŸŸï¼šc.htmlï¼Œaä¸bä¸åŒåŸŸåªèƒ½é€šè¿‡hashå€¼å•å‘é€šä¿¡ï¼Œbä¸cä¹Ÿä¸åŒåŸŸä¹Ÿåªèƒ½å•å‘é€šä¿¡ï¼Œä½†cä¸aåŒåŸŸï¼Œæ‰€ä»¥cå¯é€šè¿‡"),a("code",[s._v("parent.parent")]),s._v("è®¿é—®aé¡µé¢æ‰€æœ‰å¯¹è±¡")]),s._v(" "),a("p",[a("code",[s._v("a.htmlï¼š(www.a.com/a.html)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"iframe"')]),s._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://www.b.com/b.html"')]),s._v(" style"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"display:none;"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‘b.htmlä¼ hashå€¼")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#user=admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¼€æ”¾ç»™åŒåŸŸc.htmlçš„å›è°ƒæ–¹æ³•")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data from c.html ---\x3e '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("2ï¼‰"),a("code",[s._v("b.htmlï¼š(www.b.com/b.html)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"iframe"')]),s._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://www.a.com/c.html"')]),s._v(" style"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"display:none;"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›‘å¬a.htmlä¼ æ¥çš„hashå€¼ï¼Œå†ä¼ ç»™c.html")]),s._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onhashchange")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("3ï¼‰"),a("code",[s._v("c.htmlï¼š(www.a.com/c.html)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›‘å¬b.htmlä¼ æ¥çš„hashå€¼")]),s._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onhashchange")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å†é€šè¿‡æ“ä½œåŒåŸŸa.htmlçš„jså›è°ƒï¼Œå°†ç»“æœä¼ å›")]),s._v("\n        window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello: '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#user='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"window-name-iframeè·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#window-name-iframeè·¨åŸŸ"}},[s._v("#")]),s._v(" "),a("code",[s._v("window.name + iframe")]),s._v("è·¨åŸŸ")]),s._v(" "),a("p",[a("code",[s._v("window.name")]),s._v("å±æ€§çš„ç‹¬ç‰¹ä¹‹å¤„ï¼š"),a("code",[s._v("name")]),s._v("å€¼åœ¨ä¸åŒçš„é¡µé¢ï¼ˆç”šè‡³ä¸åŒåŸŸåï¼‰åŠ è½½åä¾æ—§å­˜åœ¨ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒéå¸¸é•¿çš„ "),a("code",[s._v("name")]),s._v(" å€¼ï¼ˆ"),a("code",[s._v("2MB")]),s._v("ï¼‰")]),s._v(" "),a("p",[s._v("1ï¼‰"),a("code",[s._v("a.htmlï¼š(a.com/a.html)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("proxy")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" state "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åŠ è½½è·¨åŸŸé¡µé¢")]),s._v("\n    iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// onloadäº‹ä»¶ä¼šè§¦å‘2æ¬¡ï¼Œç¬¬1æ¬¡åŠ è½½è·¨åŸŸé¡µï¼Œå¹¶ç•™å­˜æ•°æ®äºwindow.name")]),s._v("\n    iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onload")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¬¬2æ¬¡onload(åŒåŸŸproxyé¡µ)æˆåŠŸåï¼Œè¯»å–åŒåŸŸwindow.nameä¸­æ•°æ®")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contentWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("destoryFrame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¬¬1æ¬¡onload(è·¨åŸŸé¡µ)æˆåŠŸåï¼Œåˆ‡æ¢åˆ°åŒåŸŸä»£ç†é¡µé¢")]),s._v("\n            iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contentWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.a.com/proxy.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            state "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–æ•°æ®ä»¥åé”€æ¯è¿™ä¸ªiframeï¼Œé‡Šæ”¾å†…å­˜ï¼›è¿™ä¹Ÿä¿è¯äº†å®‰å…¨ï¼ˆä¸è¢«å…¶ä»–åŸŸframe jsè®¿é—®ï¼‰")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("destoryFrame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contentWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contentWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¯·æ±‚è·¨åŸŸbé¡µé¢æ•°æ®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.b.com/b.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("p",[s._v("2ï¼‰"),a("code",[s._v("proxy.htmlï¼š(a.com/proxy.html)")])]),s._v(" "),a("p",[s._v("ä¸­é—´ä»£ç†é¡µï¼Œä¸"),a("code",[s._v("a.html")]),s._v("åŒåŸŸï¼Œå†…å®¹ä¸ºç©ºå³å¯ã€‚")]),s._v(" "),a("p",[s._v("3ï¼‰"),a("code",[s._v("b.htmlï¼š(b.com/b.html)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("    \n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'This is b data!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("é€šè¿‡"),a("code",[s._v("iframe")]),s._v("çš„"),a("code",[s._v("src")]),s._v("å±æ€§ç”±å¤–åŸŸè½¬å‘æœ¬åœ°åŸŸï¼Œè·¨åŸŸæ•°æ®å³ç”±"),a("code",[s._v("iframe")]),s._v("çš„"),a("code",[s._v("window.name")]),s._v("ä»å¤–åŸŸä¼ é€’åˆ°æœ¬åœ°åŸŸã€‚è¿™ä¸ªå°±å·§å¦™åœ°ç»•è¿‡äº†æµè§ˆå™¨çš„è·¨åŸŸè®¿é—®é™åˆ¶ï¼Œä½†åŒæ—¶å®ƒåˆæ˜¯å®‰å…¨æ“ä½œ")])]),s._v(" "),a("h3",{attrs:{id:"websocketåè®®è·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocketåè®®è·¨åŸŸ"}},[s._v("#")]),s._v(" "),a("code",[s._v("WebSocket")]),s._v("åè®®è·¨åŸŸ")]),s._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[s._v("è¿™ä¸ªæ„Ÿè§‰ä¹Ÿä¸å¤ªé‡è¦çš„ğŸ¦†")])]),s._v(" "),a("p",[s._v("åŸç”Ÿ"),a("code",[s._v("WebSocket API")]),s._v("ä½¿ç”¨èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œæˆ‘ä»¬ä½¿ç”¨"),a("code",[s._v("Socket.io")]),s._v("ï¼Œå®ƒå¾ˆå¥½åœ°å°è£…äº†"),a("code",[s._v("webSocket")]),s._v("æ¥å£ï¼Œæä¾›äº†æ›´ç®€å•ã€çµæ´»çš„æ¥å£ï¼Œä¹Ÿå¯¹ä¸æ”¯æŒ"),a("code",[s._v("webSocket")]),s._v("çš„æµè§ˆå™¨æä¾›äº†å‘ä¸‹å…¼å®¹")]),s._v(" "),a("p",[s._v("å‰ç«¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("user inputï¼š"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://cdn.bootcss.com/socket.io/2.2.0/socket.io.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" socket "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("io")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.b.com:8080'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿æ¥æˆåŠŸå¤„ç†")]),s._v("\nsocket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'connect'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›‘å¬æœåŠ¡ç«¯æ¶ˆæ¯")]),s._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'message'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("msg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data from server: ---\x3e '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›‘å¬æœåŠ¡ç«¯å…³é—­")]),s._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'disconnect'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Server socket has closed.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'input'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onblur")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[a("code",[s._v("node:")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" http "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" socket "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'socket.io'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯httpæœåŠ¡")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" server "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeHead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/html'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'8080'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Server is running at port 8080...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›‘å¬socketè¿æ¥")]),s._v("\nsocket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'connection'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("client")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¥æ”¶ä¿¡æ¯")]),s._v("\n    client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'message'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("msg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'helloï¼š'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data from client: ---\x3e '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ–­å¼€å¤„ç†")]),s._v("\n    client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'disconnect'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Client socket has closed.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h2",{attrs:{id:"ä»‹ç»ä¸€ä¸‹æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»ä¸€ä¸‹æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"}},[s._v("#")]),s._v(" ä»‹ç»ä¸€ä¸‹æ­£å‘ä»£ç†å’Œåå‘ä»£ç†")]),s._v(" "),a("ul",[a("li",[a("p",[a("mark",[s._v("æ­£å‘ä»£ç†")])]),s._v(" "),a("ul",[a("li",[s._v("å®¢æˆ·ç«¯æƒ³è·å¾—ä¸€ä¸ªæœåŠ¡å™¨çš„æ•°æ®ï¼Œä½†æ˜¯å› ä¸ºç§ç§åŸå› æ— æ³•ç›´æ¥è·å–ã€‚äºæ˜¯å®¢æˆ·ç«¯è®¾ç½®äº†ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œå¹¶ä¸”æŒ‡å®šç›®æ ‡æœåŠ¡å™¨ï¼Œä¹‹åä»£ç†æœåŠ¡å™¨å‘ç›®æ ‡æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹å‘é€ç»™å®¢æˆ·ç«¯ã€‚è¿™æ ·æœ¬è´¨ä¸Šèµ·åˆ°äº†å¯¹çœŸå®æœåŠ¡å™¨"),a("strong",[s._v("éšè—çœŸå®å®¢æˆ·ç«¯")]),s._v("çš„ç›®çš„ã€‚å®ç°æ­£å‘ä»£ç†éœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯ï¼Œæ¯”å¦‚ä¿®æ”¹æµè§ˆå™¨é…ç½®")])])]),s._v(" "),a("li",[a("p",[a("mark",[s._v("åå‘ä»£ç†")])]),s._v(" "),a("ul",[a("li",[s._v("æœåŠ¡å™¨ä¸ºäº†èƒ½å¤Ÿ"),a("strong",[s._v("å°†å·¥ä½œè´Ÿè½½åˆ†é…åˆ°å¤šä¸ªæœåŠ¡å™¨æ¥æé«˜ç½‘ç«™æ€§èƒ½ (è´Ÿè½½å‡è¡¡)ç­‰ç›®çš„")]),s._v("ï¼Œå½“å…¶å—åˆ°è¯·æ±‚åï¼Œä¼šé¦–å…ˆæ ¹æ®è½¬å‘è§„åˆ™æ¥ç¡®å®šè¯·æ±‚åº”è¯¥è¢«è½¬å‘åˆ°å“ªä¸ªæœåŠ¡å™¨ä¸Šï¼Œç„¶åå°†è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„çœŸå®æœåŠ¡å™¨ä¸Šã€‚è¿™æ ·æœ¬è´¨ä¸Šèµ·åˆ°äº†"),a("strong",[s._v("å¯¹å®¢æˆ·ç«¯éšè—çœŸå®æœåŠ¡å™¨")]),s._v("çš„ä½œç”¨ã€‚ ä¸€èˆ¬ä½¿ç”¨åå‘ä»£ç†åï¼Œéœ€è¦é€šè¿‡ä¿®æ”¹ "),a("code",[s._v("DNS")]),s._v(" è®©åŸŸåè§£æåˆ°ä»£ç†æœåŠ¡å™¨ "),a("code",[s._v("IP")]),s._v("ï¼Œè¿™æ—¶æµè§ˆå™¨æ— æ³•å¯Ÿè§‰åˆ°çœŸæ­£æœåŠ¡å™¨çš„å­˜åœ¨ï¼Œå½“ç„¶ä¹Ÿå°±ä¸éœ€è¦ä¿®æ”¹é…ç½®äº†")])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202112161753999.png",alt:"img"}})]),s._v(" "),a("p",[a("strong",[s._v("åŒºåˆ«ï¼š")])]),s._v(" "),a("p",[s._v("æ­£å‘ä»£ç†å’Œåå‘ä»£ç†ç»“æ„éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯"),a("code",[s._v("client-proxy-server")]),s._v("çš„ç»“æ„ï¼Œä»–ä»¬ä¸»è¦çš„åŒºåˆ«æ˜¯åœ¨äºä¸­é—´çš„"),a("code",[s._v("proxy")]),s._v("æ˜¯å“ªä¸€æ–¹è®¾ç½®çš„ï¼Œåœ¨æ­£å‘ä»£ç†ä¸­ï¼Œ"),a("code",[s._v("proxy")]),s._v("æ˜¯"),a("code",[s._v("client")]),s._v("è®¾ç½®çš„ï¼Œç”¨æ¥éšè—"),a("code",[s._v("client")]),s._v("ï¼Œè€Œåœ¨åå‘ä»£ç†ä¸­ï¼Œ"),a("code",[s._v("proxy")]),s._v("æ˜¯"),a("code",[s._v("server")]),s._v("è®¾ç½®çš„ï¼Œç”¨äºéšè—"),a("code",[s._v("server")])]),s._v(" "),a("h2",{attrs:{id:"è´Ÿè½½å¹³è¡¡çš„ä¸¤ç§å®ç°æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è´Ÿè½½å¹³è¡¡çš„ä¸¤ç§å®ç°æ–¹å¼"}},[s._v("#")]),s._v(" è´Ÿè½½å¹³è¡¡çš„ä¸¤ç§å®ç°æ–¹å¼")]),s._v(" "),a("ul",[a("li",[s._v("ä¸€ç§æ˜¯ä½¿ç”¨åå‘ä»£ç†çš„æ–¹å¼ï¼Œç”¨æˆ·çš„è¯·æ±‚éƒ½å‘é€åˆ°åå‘ä»£ç†æœåŠ¡ä¸Šï¼Œç„¶åç”±åå‘ä»£ç†æœåŠ¡å™¨æ¥è½¬å‘è¯·æ±‚åˆ°çœŸå®çš„æœåŠ¡å™¨ä¸Šï¼Œä»¥æ­¤æ¥å®ç°é›†ç¾¤çš„è´Ÿè½½å¹³è¡¡ã€‚")]),s._v(" "),a("li",[s._v("å¦ä¸€ç§æ˜¯ "),a("code",[s._v("DNS")]),s._v(" çš„æ–¹å¼ï¼Œ"),a("code",[s._v("DNS")]),s._v(" å¯ä»¥ç”¨äºåœ¨å†—ä½™çš„æœåŠ¡å™¨ä¸Šå®ç°è´Ÿè½½å¹³è¡¡ã€‚å› ä¸ºç°åœ¨ä¸€èˆ¬çš„å¤§å‹ç½‘ç«™ä½¿ç”¨å¤šå°æœåŠ¡å™¨æä¾›æœåŠ¡ï¼Œå› æ­¤ä¸€ä¸ªåŸŸåå¯èƒ½ä¼šå¯¹åº”å¤šä¸ªæœåŠ¡å™¨åœ°å€ã€‚å½“ç”¨æˆ·å‘ç½‘ç«™åŸŸåè¯·æ±‚çš„æ—¶å€™ï¼Œ"),a("code",[s._v("DNS")]),s._v(" æœåŠ¡å™¨è¿”å›è¿™ä¸ªåŸŸåæ‰€å¯¹åº”çš„æœåŠ¡å™¨ "),a("code",[s._v("IP")]),s._v(" åœ°å€çš„é›†åˆï¼Œä½†åœ¨æ¯ä¸ªå›ç­”ä¸­ï¼Œä¼šå¾ªç¯è¿™äº› "),a("code",[s._v("IP")]),s._v(" åœ°å€çš„é¡ºåºï¼Œç”¨æˆ·ä¸€èˆ¬ä¼šé€‰æ‹©æ’åœ¨å‰é¢çš„åœ°å€å‘é€è¯·æ±‚ã€‚ä»¥æ­¤å°†ç”¨æˆ·çš„è¯·æ±‚å‡è¡¡çš„åˆ†é…åˆ°å„ä¸ªä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·æ¥å®ç°è´Ÿè½½å‡è¡¡ã€‚è¿™ç§æ–¹å¼æœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯ï¼Œç”±äº "),a("code",[s._v("DNS")]),s._v(" æœåŠ¡å™¨ä¸­å­˜åœ¨ç¼“å­˜ï¼Œæ‰€ä»¥æœ‰å¯èƒ½ä¸€ä¸ªæœåŠ¡å™¨å‡ºç°æ•…éšœåï¼ŒåŸŸåè§£æä»ç„¶è¿”å›çš„æ˜¯é‚£ä¸ª "),a("code",[s._v("IP")]),s._v(" åœ°å€ï¼Œå°±ä¼šé€ æˆè®¿é—®çš„é—®é¢˜ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"å››å±‚è´Ÿè½½å‡è¡¡å’Œä¸ƒå±‚è´Ÿè½½å‡è¡¡çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å››å±‚è´Ÿè½½å‡è¡¡å’Œä¸ƒå±‚è´Ÿè½½å‡è¡¡çš„åŒºåˆ«"}},[s._v("#")]),s._v(" å››å±‚è´Ÿè½½å‡è¡¡å’Œä¸ƒå±‚è´Ÿè½½å‡è¡¡çš„åŒºåˆ«")]),s._v(" "),a("p",[s._v("å®ç°åŸç†ï¼šå››å±‚åŸºäº"),a("code",[s._v("IP")]),s._v("+ç«¯å£çš„æ–¹å¼è¿›è¡Œè·¯ç”±è½¬å‘ï¼Œä¸ƒå±‚åŸºäºè¯·æ±‚"),a("code",[s._v("URL")]),s._v("åœ°å€çš„æ–¹å¼è¿›è¡Œä»£ç†è½¬å‘ã€‚")]),s._v(" "),a("p",[s._v("å®ç°æ–¹å¼ï¼šå››å±‚é€šè¿‡æŠ¥æ–‡ä¸­çš„"),a("code",[s._v("IP")]),s._v("åœ°å€å’Œç«¯å£ï¼Œå†åŠ ä¸Šè´Ÿè½½å‡è¡¡è®¾å¤‡æ‰€é‡‡ç”¨çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œæœ€ç»ˆç¡®å®šé€‰æ‹©åç«¯å“ªå°ä¸‹æ¸¸æœåŠ¡å™¨ã€‚")]),s._v(" "),a("p",[s._v("ä»¥"),a("code",[s._v("TCP")]),s._v("ä¸ºä¾‹ï¼Œå®¢æˆ·ç«¯å‘è´Ÿè½½å‡è¡¡å‘é€"),a("code",[s._v("SYN")]),s._v("è¯·æ±‚å»ºç«‹ç¬¬ä¸€æ¬¡è¿æ¥ï¼Œé€šè¿‡é…ç½®çš„è´Ÿè½½å‡è¡¡ç®—æ³•é€‰æ‹©ä¸€å°åç«¯æœåŠ¡å™¨ï¼Œå¹¶ä¸”å°†æŠ¥æ–‡ä¸­çš„"),a("code",[s._v("IP")]),s._v("åœ°å€ä¿¡æ¯ä¿®æ”¹ä¸ºåå°æœåŠ¡å™¨çš„"),a("code",[s._v("IP")]),s._v("åœ°å€ä¿¡æ¯ï¼Œå› æ­¤"),a("code",[s._v("TCP")]),s._v("ä¸‰æ¬¡æ¡æ‰‹è¿æ¥æ˜¯ä¸åç«¯æœåŠ¡å™¨"),a("strong",[s._v("ç›´æ¥")]),s._v("å»ºç«‹èµ·æ¥çš„ã€‚")]),s._v(" "),a("p",[s._v("ä¸ƒå±‚æœåŠ¡å‡è¡¡åœ¨åº”ç”¨å±‚é€‰æ‹©æœåŠ¡å™¨ï¼Œ"),a("strong",[s._v("åªèƒ½å…ˆä¸è´Ÿè½½å‡è¡¡è®¾å¤‡è¿›è¡Œ"),a("code",[s._v("TCP")]),s._v("è¿æ¥")]),s._v("ï¼Œç„¶åè´Ÿè½½å‡è¡¡è®¾å¤‡å†ä¸åç«¯æœåŠ¡å™¨å»ºç«‹å¦å¤–ä¸€æ¡"),a("code",[s._v("TCP")]),s._v("è¿æ¥é€šé“ã€‚å› æ­¤ï¼Œä¸ƒå±‚è®¾å¤‡åœ¨ç½‘ç»œæ€§èƒ½æŸè€—ä¼šæ›´å¤šä¸€äº›ã€‚")]),s._v(" "),a("p",[s._v("å®‰å…¨æ–¹é¢ï¼šå››å±‚å®¹æ˜“é­å—"),a("RouterLink",{attrs:{to:"/pages/bb295d/#ä»‹ç»ä¸€ä¸‹tcp-synæ´ªæ³›"}},[a("code",[s._v("SYN flood")]),s._v("æ”»å‡»")]),s._v(",å®¹æ˜“å°†åƒåœ¾æµé‡è½¬å‘åˆ°æœåŠ¡ç«¯ï¼Œè€Œä¸ƒå±‚ä¼šåœ¨è´Ÿè½½å‡è¡¡è®¾å¤‡ä¸Šè¿›è¡Œè¿‡æ»¤")],1),s._v(" "),a("table",[a("thead",[a("tr",[a("th"),s._v(" "),a("th",[s._v("å››å±‚è´Ÿè½½å‡è¡¡")]),s._v(" "),a("th",[s._v("ä¸ƒå±‚è´Ÿè½½å‡è¡¡")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("å®ç°åŸç†")]),s._v(" "),a("td",[s._v("åŸºäº"),a("code",[s._v("IP")]),s._v("å’Œç«¯å£")]),s._v(" "),a("td",[s._v("åŸºäºè™šæ‹Ÿ"),a("code",[s._v("URL")]),s._v("æˆ–ä¸»æœº"),a("code",[s._v("IP")])])]),s._v(" "),a("tr",[a("td",[s._v("å®ç°é™åˆ¶")]),s._v(" "),a("td",[s._v("ç±»ä¼¼è·¯ç”±å™¨")]),s._v(" "),a("td",[s._v("ä»£ç†æœåŠ¡å™¨")])]),s._v(" "),a("tr",[a("td",[s._v("æ¡æ‰‹æ¬¡æ•°")]),s._v(" "),a("td",[a("code",[s._v("1")])]),s._v(" "),a("td",[a("code",[s._v("2")])])]),s._v(" "),a("tr",[a("td",[s._v("å¤æ‚åº¦")]),s._v(" "),a("td",[s._v("ä½")]),s._v(" "),a("td",[s._v("é«˜")])]),s._v(" "),a("tr",[a("td",[s._v("æ€§èƒ½")]),s._v(" "),a("td",[s._v("æ— éœ€è§£æå†…å®¹")]),s._v(" "),a("td",[s._v("éœ€è¦ç®—æ³•è¯†åˆ«"),a("code",[s._v("URL")]),s._v("ï¼Œ"),a("code",[s._v("cookies")]),s._v("ï¼Œ"),a("code",[s._v("HTTP head")]),s._v("ç­‰")])]),s._v(" "),a("tr",[a("td",[s._v("å®‰å…¨æ€§")]),s._v(" "),a("td",[s._v("ä½ï¼Œå®¹æ˜“è¢«"),a("code",[s._v("DDos")]),s._v("æ”»å‡»")]),s._v(" "),a("td",[s._v("å¯é˜²å¾¡"),a("code",[s._v("SYN Flood")])])]),s._v(" "),a("tr",[a("td",[s._v("é¢å¤–åŠŸèƒ½")]),s._v(" "),a("td",[s._v("æ— ")]),s._v(" "),a("td",[s._v("ä¼šè¯ä¿æŒï¼Œå›¾ç‰‡å‹ç¼©ï¼Œé˜²ç›—é“¾")])])])]),s._v(" "),a("h2",{attrs:{id:"nginxæ¦‚å¿µåŠå…¶å·¥ä½œåŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginxæ¦‚å¿µåŠå…¶å·¥ä½œåŸç†"}},[s._v("#")]),s._v(" "),a("code",[s._v("nginx")]),s._v("æ¦‚å¿µåŠå…¶å·¥ä½œåŸç†")]),s._v(" "),a("p",[a("code",[s._v("Nginx")]),s._v(" æ˜¯ä¸€æ¬¾è½»é‡çº§çš„ "),a("code",[s._v("Web")]),s._v(" æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ç”¨äºåå‘ä»£ç†ã€è´Ÿè½½å¹³è¡¡å’Œ "),a("code",[s._v("HTTP")]),s._v(" ç¼“å­˜ç­‰ã€‚"),a("code",[s._v("Nginx")]),s._v(" ä½¿ç”¨å¼‚æ­¥äº‹ä»¶é©±åŠ¨çš„æ–¹æ³•æ¥å¤„ç†è¯·æ±‚ï¼Œæ˜¯ä¸€æ¬¾é¢å‘æ€§èƒ½è®¾è®¡çš„ "),a("code",[s._v("HTTP")]),s._v(" æœåŠ¡å™¨ã€‚")]),s._v(" "),a("p",[s._v("ä¼ ç»Ÿçš„ "),a("code",[s._v("Web")]),s._v(" æœåŠ¡å™¨å¦‚ "),a("code",[s._v("Apache")]),s._v(" æ˜¯ "),a("code",[s._v("process-based")]),s._v(" æ¨¡å‹çš„ï¼Œè€Œ "),a("code",[s._v("Nginx")]),s._v(" æ˜¯åŸºäº"),a("code",[s._v("event-driven")]),s._v("æ¨¡å‹çš„ã€‚æ­£æ˜¯è¿™ä¸ªä¸»è¦çš„åŒºåˆ«å¸¦ç»™äº† "),a("code",[s._v("Nginx")]),s._v(" åœ¨æ€§èƒ½ä¸Šçš„ä¼˜åŠ¿ã€‚")]),s._v(" "),a("p",[a("code",[s._v("Nginx")]),s._v(" æ¶æ„çš„æœ€é¡¶å±‚æ˜¯ä¸€ä¸ª "),a("code",[s._v("master process")]),s._v("ï¼Œè¿™ä¸ª "),a("code",[s._v("master process")]),s._v(" ç”¨äºäº§ç”Ÿå…¶ä»–çš„ "),a("code",[s._v("worker process")]),s._v("ï¼Œè¿™ä¸€ç‚¹å’Œ"),a("code",[s._v("Apache")]),s._v(" éå¸¸åƒï¼Œä½†æ˜¯ "),a("code",[s._v("Nginx")]),s._v(" çš„ "),a("code",[s._v("worker process")]),s._v(" å¯ä»¥åŒæ—¶å¤„ç†å¤§é‡çš„"),a("code",[s._v("HTTP")]),s._v("è¯·æ±‚ï¼Œè€Œæ¯ä¸ª "),a("code",[s._v("Apache process")]),s._v(" åªèƒ½å¤„ç†ä¸€ä¸ª")])])}),[],!1,null,null,null);t.default=e.exports}}]);
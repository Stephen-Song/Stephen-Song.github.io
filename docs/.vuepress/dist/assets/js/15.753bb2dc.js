(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{456:function(t,e,v){"use strict";v.r(e);var s=v(26),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"vue基础"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue基础"}},[t._v("#")]),t._v(" Vue基础")]),t._v(" "),v("h2",{attrs:{id:"介绍一下vue原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#介绍一下vue原理"}},[t._v("#")]),t._v(" 介绍一下"),v("code",[t._v("Vue")]),t._v("原理"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("p",[t._v("创建实例 -> 遍历"),v("code",[t._v("data")]),t._v("的属性 -> 用("),v("code",[t._v("object.defineProperty/proxy")]),t._v(")转化为"),v("code",[t._v("getter")]),t._v("/"),v("code",[t._v("setter")]),t._v("）-> 在实例中的"),v("code",[t._v("watcher")]),t._v("收集"),v("code",[t._v("data")]),t._v("的属性 -> 当"),v("code",[t._v("data")]),t._v("的属性改变触发"),v("code",[t._v("setter")]),t._v("的时候通知"),v("code",[t._v("watcher")]),t._v(" -> "),v("code",[t._v("watch")]),t._v("会将关联的组件都更新一遍")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202111281717626.png",alt:"img"}})]),t._v(" "),v("h2",{attrs:{id:"介绍一下vue双向绑定的原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#介绍一下vue双向绑定的原理"}},[t._v("#")]),t._v(" 介绍一下"),v("code",[t._v("Vue")]),t._v("双向绑定的原理"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("p",[t._v("采用了"),v("strong",[t._v("数据劫持")]),t._v("和"),v("strong",[t._v("发布订阅")]),t._v("的方式")]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("数据劫持的笼统意思")]),t._v(" "),v("p",[v("code",[t._v("observe")]),t._v("的数据对象进行递归遍历，然后添加上"),v("code",[t._v("getter")]),t._v("和"),v("code",[t._v("setter")]),t._v("，当值改变的时候会触发"),v("code",[t._v("setter")]),t._v("，就能监听到数据的变化了")])]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("发布订阅的意思")]),t._v(" "),v("p",[v("code",[t._v("compile")]),t._v("解析模板数据，然后将模板上面的变量替换成数据，然后初始化渲染视图，将每个指令对应的节点绑定更新函数 添加监听数据的订阅者 ，数据变动 -> 收到通知 -> 更新视图")])]),t._v(" "),v("p",[t._v("而"),v("code",[t._v("watcher")]),t._v("订阅者就是连接"),v("code",[t._v("observe")]),t._v("和"),v("code",[t._v("compile")]),t._v("的桥梁")]),t._v(" "),v("ol",[v("li",[v("p",[t._v("在属性订阅器中("),v("code",[t._v("dep")]),t._v(") 添加实例化的"),v("code",[t._v("watcher")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("watcher")]),t._v("的实例自身有个"),v("code",[t._v("update")]),t._v("方法")])]),t._v(" "),v("li",[v("p",[t._v("属性变动的时候调用"),v("code",[t._v("dep.notify()")])])]),t._v(" "),v("li",[v("p",[t._v("调用节点绑定的更新函数"),v("code",[t._v("update()")])])]),t._v(" "),v("li",[v("p",[t._v("触发"),v("code",[t._v("compile")]),t._v("绑定的函数")])])]),t._v(" "),v("p",[v("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202111281723812.png",alt:"img"}})]),t._v(" "),v("p",[v("strong",[t._v("总结：")])]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("Vue")])]),t._v(" "),v("ul",[v("li",[t._v("记录传入的选项，设置 "),v("code",[t._v("$data/$el")])]),t._v(" "),v("li",[t._v("把 "),v("code",[t._v("data")]),t._v(" 的成员注入到 "),v("code",[t._v("Vue")]),t._v(" 实例")]),t._v(" "),v("li",[t._v("负责调用 "),v("code",[t._v("Observer")]),t._v(" 实现数据响应式处理(数据劫持)")]),t._v(" "),v("li",[t._v("负责调用 "),v("code",[t._v("Compiler")]),t._v(" 编译指令/插值表达式等")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("Observer")])]),t._v(" "),v("ul",[v("li",[t._v("数据劫持\n"),v("ul",[v("li",[t._v("负责把 "),v("code",[t._v("data")]),t._v(" 中的成员转换成 "),v("code",[t._v("getter/setter")])]),t._v(" "),v("li",[t._v("负责把多层属性转换成 "),v("code",[t._v("getter/setter")])]),t._v(" "),v("li",[t._v("如果给属性赋值为新对象，把新对象的成员设置为 "),v("code",[t._v("getter/setter")])])])]),t._v(" "),v("li",[t._v("添加 "),v("code",[t._v("Dep")]),t._v(" 和 "),v("code",[t._v("Watcher")]),t._v(" 的依赖关系")]),t._v(" "),v("li",[t._v("数据变化发送通知")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("Compiler")])]),t._v(" "),v("ul",[v("li",[t._v("负责编译模板，解析指令/插值表达式")]),t._v(" "),v("li",[t._v("负责页面的首次渲染过程")]),t._v(" "),v("li",[t._v("当数据变化后重新渲染")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("Dep")])]),t._v(" "),v("ul",[v("li",[t._v("收集依赖，添加订阅者("),v("code",[t._v("watcher")]),t._v(")")]),t._v(" "),v("li",[t._v("通知所有订阅者")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("Watcher")])]),t._v(" "),v("ul",[v("li",[t._v("自身实例化的时候往"),v("code",[t._v("dep")]),t._v("对象中添加自己")]),t._v(" "),v("li",[t._v("当数据变化"),v("code",[t._v("dep")]),t._v("通知所有的 "),v("code",[t._v("Watcher")]),t._v(" 实例更新视图")])])])]),t._v(" "),v("h2",{attrs:{id:"介绍一下什么是mvvm、mvc、mvp"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#介绍一下什么是mvvm、mvc、mvp"}},[t._v("#")]),t._v(" 介绍一下什么是"),v("code",[t._v("MVVM")]),t._v("、"),v("code",[t._v("MVC")]),t._v("、"),v("code",[t._v("MVP")]),t._v(" "),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("blockquote",[v("p",[v("code",[t._v("mvvm")]),t._v("是 "),v("code",[t._v("model")]),t._v(" "),v("code",[t._v("view")]),t._v(" "),v("code",[t._v("viewModel")])])]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("model")]),t._v("层代表数据模型 数据和业务逻辑都在"),v("code",[t._v("model")]),t._v("层")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("view")]),t._v("代表"),v("code",[t._v("ui")]),t._v("视图 负责数据的展示")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("viewModel")]),t._v(" 监听"),v("code",[t._v("model")]),t._v("数据的改变并控制视图更新，处理交互")])])]),t._v(" "),v("p",[v("code",[t._v("model")]),t._v("和"),v("code",[t._v("view")]),t._v("无直接连接 而是通过"),v("code",[t._v("viewModel")]),t._v("进行联系，"),v("code",[t._v("model")]),t._v("和"),v("code",[t._v("viewModel")]),t._v("数据双向绑定，"),v("code",[t._v("view")]),t._v("层交互改变的数据 "),v("code",[t._v("model")]),t._v("层也会改变，"),v("code",[t._v("model")]),t._v("层数据改变也会触发"),v("code",[t._v("view")]),t._v("层的更新，这样程序猿们就可以专心在"),v("code",[t._v("viewModel")]),t._v("层编写业务逻辑，不用关心数据的传递")]),t._v(" "),v("p",[v("strong",[t._v("但是"),v("code",[t._v("Vue")]),t._v(" 并没有完全遵循 "),v("code",[t._v("MVVM")]),t._v(" 思想呢？")])]),t._v(" "),v("ul",[v("li",[t._v("严格的 "),v("code",[t._v("MVVM")]),t._v(" 要求 "),v("code",[t._v("View")]),t._v(" 不能和 "),v("code",[t._v("Model")]),t._v(" 直接通信，而 "),v("code",[t._v("Vue")]),t._v(" 提供了 "),v("code",[t._v("$refs")]),t._v(" 这个属性，让 "),v("code",[t._v("Model")]),t._v(" 可以直接操作 "),v("code",[t._v("View")]),t._v("，违反了这一规定，所以说 "),v("code",[t._v("Vue")]),t._v(" 没有完全遵循 "),v("code",[t._v("MVVM")]),t._v("。")])]),t._v(" "),v("blockquote",[v("p",[v("code",[t._v("mvc")]),t._v("是"),v("code",[t._v("model")]),t._v(" "),v("code",[t._v("view")]),t._v(" "),v("code",[t._v("controller")])])]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("view")]),t._v("代表"),v("code",[t._v("ui")]),t._v("视图")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("model")]),t._v("储存页面的数据")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("controller")]),t._v("层负责用户与应用的响应操作")])])]),t._v(" "),v("p",[v("code",[t._v("view")]),t._v("和"),v("code",[t._v("model")]),t._v("层应用了观察者模式，"),v("code",[t._v("model")]),t._v("层数据变化会通知"),v("code",[t._v("view")]),t._v("进行更新，用户操作 "),v("code",[t._v("controller")]),t._v("触发，调用"),v("code",[t._v("model")]),t._v("修改 然后再通知"),v("code",[t._v("view")]),t._v("进行更新")]),t._v(" "),v("blockquote",[v("p",[v("code",[t._v("mvp")]),t._v("跟"),v("code",[t._v("mvc")]),t._v("大致相同")])]),t._v(" "),v("ul",[v("li",[v("code",[t._v("mvc")]),t._v("中的"),v("code",[t._v("model")]),t._v("和"),v("code",[t._v("view")]),t._v("层都耦合在一起，当逻辑复杂时候会造成代码混乱，通过"),v("code",[t._v("mvp")]),t._v("的"),v("code",[t._v("presenter")]),t._v("层，将"),v("code",[t._v("model")]),t._v("和"),v("code",[t._v("view")]),t._v("绑定在一起，实现同步更新，实现对"),v("code",[t._v("view")]),t._v("和"),v("code",[t._v("model")]),t._v("层的解耦")])]),t._v(" "),v("h2",{attrs:{id:"说一下computed和watch的区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#说一下computed和watch的区别"}},[t._v("#")]),t._v(" 说一下"),v("code",[t._v("computed")]),t._v("和"),v("code",[t._v("watch")]),t._v("的区别"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("p",[v("code",[t._v("computed")]),t._v("计算属性：依赖其他属性值，不支持异步，并且有缓存，只有当依赖的属性值发生改变且有属性值引用它时才会重新计算"),v("code",[t._v("computed")]),t._v("的值（例如购物车的价格就可以用"),v("code",[t._v("computed")]),t._v("）")]),t._v(" "),v("p",[v("code",[t._v("watch")]),t._v("监听器：只是充当观察作用，支持异步，无缓存，类似某种数据监听回调，当监听的数据变化执行回调进行后续操作（适用于当数据变化需要执行异步方法或开销比较大的操作）")]),t._v(" "),v("h2",{attrs:{id:"说一下slot都有哪些用法-原理是什么"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#说一下slot都有哪些用法-原理是什么"}},[t._v("#")]),t._v(" 说一下"),v("code",[t._v("slot")]),t._v("都有哪些用法 原理是什么")]),t._v(" "),v("p",[t._v("默认插槽：没有指定"),v("code",[t._v("name")]),t._v("的时候 会指定默认插槽，一个组件只能有一个")]),t._v(" "),v("p",[t._v("具名插槽：指定了"),v("code",[t._v("name")]),t._v("属性的"),v("code",[t._v("slot")]),t._v("，一个组件可以有多个具名插槽")]),t._v(" "),v("p",[t._v("作用域插槽：可以是匿名插槽也可以是作用域插槽，可以将子组件内部的数据传递给父组件")]),t._v(" "),v("blockquote",[v("p",[t._v("原理：当子组件实例化时，获取父组件传入"),v("code",[t._v("slot")]),t._v("标签的内容，存在"),v("code",[t._v("vm.$slot")]),t._v("，默认插槽为"),v("code",[t._v("vm.$slot.default")]),t._v(" 具名插槽为"),v("code",[t._v("vm.$slot.xxx")]),t._v("，当组件执行渲染函数的时候，遇到"),v("code",[t._v("slot")]),t._v("，使用"),v("code",[t._v("$slot")]),t._v("内容替换，此时可以为插槽传递数据，则叫作用域插槽")])]),t._v(" "),v("h2",{attrs:{id:"介绍一下保存页面状态的方法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#介绍一下保存页面状态的方法"}},[t._v("#")]),t._v(" 介绍一下保存页面状态的方法")]),t._v(" "),v("blockquote",[v("p",[t._v("前组件会被卸载")])]),t._v(" "),v("ul",[v("li",[v("p",[t._v("将当前组件的"),v("code",[t._v("state")]),t._v("通过"),v("code",[t._v("JSON.stringify()")]),t._v("储存在"),v("code",[t._v("LocalStorage")]),t._v(" / "),v("code",[t._v("SessionStorage")])]),t._v(" "),v("ul",[v("li",[v("p",[t._v("优点：兼容性好，不需要额外使用库和工具")])]),t._v(" "),v("li",[v("p",[t._v("缺点：相当于"),v("code",[t._v("JSON.stringify()")]),t._v("的缺点("),v("code",[t._v("Date")]),t._v("对象"),v("code",[t._v("Reg")]),t._v("对象会出错) 组件回退或者前进会出"),v("code",[t._v("bug")])])])])]),t._v(" "),v("li",[v("p",[t._v("通过"),v("code",[t._v("react-router")]),t._v(" 的 "),v("code",[t._v("Link")]),t._v(" 组件的 "),v("code",[t._v("prop —— to")]),t._v(" 可以实现路由间传递参数 通过"),v("code",[t._v("history.location.state")]),t._v("拿到状态进行传参")])]),t._v(" "),v("li",[v("p",[t._v("优点 简单快捷 不污染"),v("code",[t._v("LocalStorage")]),t._v(" / "),v("code",[t._v("SessionStorage")]),t._v(" 解决"),v("code",[t._v("JSON.stringify()")]),t._v("的缺点")])]),t._v(" "),v("li",[v("p",[t._v("缺点 当前组件可以跳转至多个组件 在跳转组件要多次写相同逻辑")])])]),t._v(" "),v("blockquote",[v("p",[t._v("前组件不会被卸载")])]),t._v(" "),v("ul",[v("li",[v("p",[t._v("单页面渲染 要写换的组件作为子组件全屏渲染")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("优点 代码少 状态传递不出错")])]),t._v(" "),v("li",[v("p",[t._v("缺点 需要传递额外"),v("code",[t._v("prop")]),t._v("到子组件 无法利用路由定位")])])])])]),t._v(" "),v("blockquote",[v("p",[t._v("利用 "),v("code",[t._v("keep-alive")]),t._v(" 切换时的"),v("code",[t._v("actived")]),t._v(" "),v("code",[t._v("deactivate")]),t._v("被执行")])]),t._v(" "),v("div",{staticClass:"language-javascript line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-javascript"}},[v("code",[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("keep"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alive"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("router"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("view v"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$route.meta.keepAlive"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("router"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("view"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("kepp"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alive"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// router.js")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  path"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  name"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx'")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("component")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../src/views/xxx.vue'")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  meta"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    keepAlive"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要被缓存")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br"),v("span",{staticClass:"line-number"},[t._v("9")]),v("br"),v("span",{staticClass:"line-number"},[t._v("10")]),v("br"),v("span",{staticClass:"line-number"},[t._v("11")]),v("br"),v("span",{staticClass:"line-number"},[t._v("12")]),v("br"),v("span",{staticClass:"line-number"},[t._v("13")]),v("br")])]),v("ul",[v("li",[t._v("缺点很明显，当页面刷新的时候"),v("code",[t._v("Vue")]),t._v("中的数据会丢失")])]),t._v(" "),v("h2",{attrs:{id:"v-if-和-v-show的区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#v-if-和-v-show的区别"}},[t._v("#")]),t._v(" "),v("code",[t._v("v-if")]),t._v(" 和 "),v("code",[t._v("v-show")]),t._v("的区别"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("ul",[v("li",[t._v("手段："),v("code",[t._v("v-if")]),t._v("是动态向"),v("code",[t._v("dom")]),t._v("树中添加或者删除"),v("code",[t._v("dom")]),t._v(" "),v("code",[t._v("v-show")]),t._v("是设置"),v("code",[t._v("display")]),t._v("来隐藏")]),t._v(" "),v("li",[t._v("编译过程："),v("code",[t._v("v-if")]),t._v("有一个局部编译和卸载的过程，切换过程合适地销毁和重建内部的事件监听和子组件 "),v("code",[t._v("v-show")]),t._v("只是基于"),v("code",[t._v("css")]),t._v("切换")]),t._v(" "),v("li",[t._v("编译条件："),v("code",[t._v("v-if")]),t._v("是惰性的 初始条件为假则什么都不做，只有第一次条件为真的时候才局部编译 "),v("code",[t._v("v-show")]),t._v("一开始就编译然后被缓存")]),t._v(" "),v("li",[t._v("性能消耗："),v("code",[t._v("v-if")]),t._v("更高的切换消耗 "),v("code",[t._v("v-show")]),t._v("有更高的初始渲染消耗")]),t._v(" "),v("li",[t._v("使用场景："),v("code",[t._v("v-if")]),t._v("适合运营条件不太改变的场景 "),v("code",[t._v("v-show")]),t._v("适合频繁切换")])]),t._v(" "),v("h2",{attrs:{id:"v-if原理和v-show原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#v-if原理和v-show原理"}},[t._v("#")]),t._v(" "),v("code",[t._v("v-if")]),t._v("原理和"),v("code",[t._v("v-show")]),t._v("原理")]),t._v(" "),v("p",[v("strong",[v("code",[t._v("v-show")])])]),t._v(" "),v("p",[t._v("不管初始条件是什么，元素总是会被渲染")]),t._v(" "),v("p",[t._v("我们看一下在"),v("code",[t._v("vue")]),t._v("中是如何实现的")]),t._v(" "),v("p",[t._v("代码很好理解，有"),v("code",[t._v("transition")]),t._v("就执行"),v("code",[t._v("transition")]),t._v("，没有就直接设置"),v("code",[t._v("display")]),t._v("属性")]),t._v(" "),v("div",{staticClass:"language-js line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://github.com/vuejs/vue-next/blob/3cd30c5245da0733f9eb6f29d220f39c46518162/packages/runtime-dom/src/directives/vShow.ts")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vShow"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ObjectDirective"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VShowElement"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeMount")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" transition "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_vod "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display\n    "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("transition "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" value"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      transition"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeEnter")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("setDisplay")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" transition "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("transition "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" value"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      transition"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("enter")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("updated")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldValue "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" transition "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeUnmount")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("setDisplay")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br"),v("span",{staticClass:"line-number"},[t._v("9")]),v("br"),v("span",{staticClass:"line-number"},[t._v("10")]),v("br"),v("span",{staticClass:"line-number"},[t._v("11")]),v("br"),v("span",{staticClass:"line-number"},[t._v("12")]),v("br"),v("span",{staticClass:"line-number"},[t._v("13")]),v("br"),v("span",{staticClass:"line-number"},[t._v("14")]),v("br"),v("span",{staticClass:"line-number"},[t._v("15")]),v("br"),v("span",{staticClass:"line-number"},[t._v("16")]),v("br"),v("span",{staticClass:"line-number"},[t._v("17")]),v("br"),v("span",{staticClass:"line-number"},[t._v("18")]),v("br"),v("span",{staticClass:"line-number"},[t._v("19")]),v("br"),v("span",{staticClass:"line-number"},[t._v("20")]),v("br"),v("span",{staticClass:"line-number"},[t._v("21")]),v("br"),v("span",{staticClass:"line-number"},[t._v("22")]),v("br")])]),v("p",[v("strong",[v("code",[t._v("v-if")])])]),t._v(" "),v("p",[v("code",[t._v("v-if")]),t._v("在实现上比"),v("code",[t._v("v-show")]),t._v("要复杂的多，因为还有"),v("code",[t._v("else")]),t._v(" "),v("code",[t._v("else-if")]),t._v(" 等条件需要处理，这里我们也只摘抄源码中处理 "),v("code",[t._v("v-if")]),t._v(" 的一小部分")]),t._v(" "),v("p",[t._v("返回一个"),v("code",[t._v("node")]),t._v("节点，"),v("code",[t._v("render")]),t._v("函数通过表达式的值来决定是否生成"),v("code",[t._v("DOM")])]),t._v(" "),v("div",{staticClass:"language-js line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://github.com/vuejs/vue-next/blob/cdc9f336fd/packages/compiler-core/src/transforms/vIf.ts")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" transformIf "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStructuralDirectiveTransform")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token regex"}},[v("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),v("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^(if|else|else-if)$")]),v("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dir"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("processIf")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dir"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ifNode"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" branch"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isRoot")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isRoot"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          ifNode"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("codegenNode "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("createCodegenNodeForBranch")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            branch"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            key"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            context\n          "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" IfConditionalExpression\n        "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// attach this branch's codegen node to the v-if root.")]),t._v("\n          "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parentCondition "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("getParentCondition")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ifNode"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("codegenNode"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          parentCondition"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alternate "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("createCodegenNodeForBranch")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            branch"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            key "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ifNode"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("branches"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            context\n          "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br"),v("span",{staticClass:"line-number"},[t._v("9")]),v("br"),v("span",{staticClass:"line-number"},[t._v("10")]),v("br"),v("span",{staticClass:"line-number"},[t._v("11")]),v("br"),v("span",{staticClass:"line-number"},[t._v("12")]),v("br"),v("span",{staticClass:"line-number"},[t._v("13")]),v("br"),v("span",{staticClass:"line-number"},[t._v("14")]),v("br"),v("span",{staticClass:"line-number"},[t._v("15")]),v("br"),v("span",{staticClass:"line-number"},[t._v("16")]),v("br"),v("span",{staticClass:"line-number"},[t._v("17")]),v("br"),v("span",{staticClass:"line-number"},[t._v("18")]),v("br"),v("span",{staticClass:"line-number"},[t._v("19")]),v("br"),v("span",{staticClass:"line-number"},[t._v("20")]),v("br"),v("span",{staticClass:"line-number"},[t._v("21")]),v("br"),v("span",{staticClass:"line-number"},[t._v("22")]),v("br"),v("span",{staticClass:"line-number"},[t._v("23")]),v("br"),v("span",{staticClass:"line-number"},[t._v("24")]),v("br"),v("span",{staticClass:"line-number"},[t._v("25")]),v("br"),v("span",{staticClass:"line-number"},[t._v("26")]),v("br")])]),v("h2",{attrs:{id:"data为什么是一个函数而不是对象"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#data为什么是一个函数而不是对象"}},[t._v("#")]),t._v(" "),v("code",[t._v("data")]),t._v("为什么是一个函数而不是对象？"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("p",[t._v("如果"),v("code",[t._v("data")]),t._v("是对象时，当组件多次被实例化时，引用的是同一个"),v("code",[t._v("data")]),t._v("对象，会导致不同实例操作数据，会相互影响，所以要写成函数形式，数据以返回值的形式定义，每次复用组件时，会返回新的"),v("code",[t._v("data")]),t._v("，每个组件都有自己私有数据空间，各自维护数据，不干扰其他组件正常运行")]),t._v(" "),v("h2",{attrs:{id:"为什么访问data属性不需要带data"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#为什么访问data属性不需要带data"}},[t._v("#")]),t._v(" 为什么访问"),v("code",[t._v("data")]),t._v("属性不需要带"),v("code",[t._v("data")]),t._v("?")]),t._v(" "),v("blockquote",[v("p",[v("code",[t._v("vue")]),t._v("中访问属性代理 "),v("code",[t._v("this.data.xxx")]),t._v(" 转换 "),v("code",[t._v("this.xxx")]),t._v(" 的实现")])]),t._v(" "),v("div",{staticClass:"language-js line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[t._v(" "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 将 某一个对象的属性 访问 映射到 对象的某一个属性成员上 */")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("proxy")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Object"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" target"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    enumerable"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    configurable"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" target"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" prop "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" key "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" newVal "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      target"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" prop "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" key "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br"),v("span",{staticClass:"line-number"},[t._v("9")]),v("br"),v("span",{staticClass:"line-number"},[t._v("10")]),v("br"),v("span",{staticClass:"line-number"},[t._v("11")]),v("br"),v("span",{staticClass:"line-number"},[t._v("12")]),v("br"),v("span",{staticClass:"line-number"},[t._v("13")]),v("br")])]),v("h2",{attrs:{id:"v-model的原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#v-model的原理"}},[t._v("#")]),t._v(" "),v("code",[t._v("v-model")]),t._v("的原理"),v("badge",{attrs:{text:"重要",type:"warning"}})],1),t._v(" "),v("p",[t._v("我们在 "),v("code",[t._v("vue")]),t._v(" 项目中主要使用 "),v("code",[t._v("v-model")]),t._v(" 指令在表单 "),v("code",[t._v("input")]),t._v("、"),v("code",[t._v("textarea")]),t._v("、"),v("code",[t._v("select")]),t._v(" 等元素上创建双向数据绑定，我们知道 "),v("code",[t._v("v-model")]),t._v(" 本质上不过是语法糖，"),v("code",[t._v("v-model")]),t._v(" 在内部为不同的输入元素使用不同的属性并抛出不同的事件：")]),t._v(" "),v("ul",[v("li",[v("code",[t._v("text")]),t._v(" 和 "),v("code",[t._v("textarea")]),t._v(" 元素使用 "),v("code",[t._v("value")]),t._v(" 属性和 "),v("code",[t._v("input")]),t._v(" 事件；")]),t._v(" "),v("li",[v("code",[t._v("checkbox")]),t._v(" 和 "),v("code",[t._v("radio")]),t._v(" 使用 "),v("code",[t._v("checked")]),t._v(" 属性和 "),v("code",[t._v("change")]),t._v(" 事件；")]),t._v(" "),v("li",[v("code",[t._v("select")]),t._v(" 字段将 "),v("code",[t._v("value")]),t._v(" 作为 "),v("code",[t._v("prop")]),t._v(" 并将 "),v("code",[t._v("change")]),t._v(" 作为事件。")])]),t._v(" "),v("p",[t._v("以 "),v("code",[t._v("input")]),t._v(" 表单元素为例：")]),t._v(" "),v("div",{staticClass:"language-js line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input v"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("model"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("'something'")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    \n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相当于")]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input v"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bind"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("value"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"something"')]),t._v(" v"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("on"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("input"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"something = $event.target.value"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br")])]),v("h2",{attrs:{id:"对keep-alive的理解-如何实现-具体是如何缓存的"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#对keep-alive的理解-如何实现-具体是如何缓存的"}},[t._v("#")]),t._v(" 对"),v("code",[t._v("keep-alive")]),t._v("的理解 如何实现 具体是如何缓存的？")]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("理解")]),t._v(" "),v("p",[t._v("当组件需要切换是，保存一些组件 防止多次渲染，用"),v("code",[t._v("keep-alive")]),t._v("包裹")])]),t._v(" "),v("p",[t._v("有三个属性：")]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("include")]),t._v(" 字符串或正则表达式 只有名称匹配的组件会被匹配")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("exclude")]),t._v(" 字符串或正则表达式，任何名称匹配的组件都不会被缓存")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("max")]),t._v("数字 最多可以缓存多少组件实例")])])]),t._v(" "),v("p",[t._v("流程：")]),t._v(" "),v("ol",[v("li",[v("p",[t._v("判断组件的"),v("code",[t._v("name")]),t._v(" 不在"),v("code",[t._v("include")]),t._v("或在"),v("code",[t._v("exclude")]),t._v("中，直接返回"),v("code",[t._v("vNode")]),t._v("不缓存")])]),t._v(" "),v("li",[v("p",[t._v("获取组件实例"),v("code",[t._v("key")])]),t._v(" "),v("ul",[v("li",[v("code",[t._v("key")]),t._v("生成规则 "),v("code",[t._v('cid + "::" tag')]),t._v(" 仅靠"),v("code",[t._v("cid")]),t._v("不够，因为相同构造函数都可以注册为不同本地组件")])])]),t._v(" "),v("li",[v("p",[t._v("如果组件已缓存 就从缓存对象中获取组件实例给"),v("code",[t._v("vNode")]),t._v("，不存在则添加进缓存对象里面")])]),t._v(" "),v("li",[v("p",[t._v("超过最大缓存数量，就用"),v("code",[t._v("LRU")]),t._v("清除数组内第一个组件")])])]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("keep-alive中的LRU算法(least recently used)")]),t._v(" "),v("p",[t._v("通过"),v("code",[t._v("cache")]),t._v("数组存放所有组件的"),v("code",[t._v("vNode")]),t._v(" 当"),v("code",[t._v("cache")]),t._v("中原有的组件被使用的时候，会将该组件的"),v("code",[t._v("key")]),t._v("从"),v("code",[t._v("keys")]),t._v("数组中删去，然后"),v("code",[t._v("push")]),t._v("到"),v("code",[t._v("keys")]),t._v("数组最后，以便超出"),v("code",[t._v("max")]),t._v("后删除最不常用的组件")])]),t._v(" "),v("h2",{attrs:{id:"nexttick原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#nexttick原理"}},[t._v("#")]),t._v(" "),v("code",[t._v("$nextTick")]),t._v("原理"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("原理")]),t._v(" "),v("p",[t._v("利用"),v("code",[t._v("JS")]),t._v("原生的"),v("code",[t._v("Promise")]),t._v(" "),v("code",[t._v("MutationObserver")]),t._v(" "),v("code",[t._v("setImmediate")]),t._v(" "),v("code",[t._v("setTimeout")]),t._v("的原生"),v("code",[t._v("JS")]),t._v("模拟对应的微/宏任务，为了利用"),v("code",[t._v("js")]),t._v("这种异步回调任务队列来实现"),v("code",[t._v("Vue")]),t._v("中自己的异步回调队列")])]),t._v(" "),v("p",[v("code",[t._v("Vue")]),t._v("在更新"),v("code",[t._v("DOM")]),t._v("时是异步执行的。只要侦听到数据变化，"),v("code",[t._v("Vue")]),t._v("将开启"),v("code",[t._v("1")]),t._v("个队列，并缓冲在同一事件循环中发生的所有数据变更。如果同一个"),v("code",[t._v("watcher")]),t._v("被多次触发，只会被推入到队列中"),v("code",[t._v("1")]),t._v("次。这种在缓冲时去除重复数据对于避免不必要的计算和"),v("code",[t._v("DOM")]),t._v("操作是非常重要的。"),v("code",[t._v("nextTick")]),t._v("方法会在队列中加入一个回调函数，确保该函数在前面的"),v("code",[t._v("dom")]),t._v("操作完成后才调用")]),t._v(" "),v("p",[t._v("执行时机：")]),t._v(" "),v("p",[t._v("在下次 "),v("code",[t._v("DOM")]),t._v(" 更新循环结束之后执行延迟回调，在修改数据之后立即使用 "),v("code",[t._v("nextTick")]),t._v(" 来获取更新后的 "),v("code",[t._v("DOM")])]),t._v(" "),v("p",[v("strong",[v("mark",[t._v("引入原因：")])])]),t._v(" "),v("ul",[v("li",[t._v("如果是同步更新 那么会频繁触发"),v("code",[t._v("UI/DOM")]),t._v("的渲染，可以减少无用渲染")]),t._v(" "),v("li",[t._v("由于"),v("code",[t._v("VirtualDOM")]),t._v("的引入 每一次状态改变 信号都会发给"),v("code",[t._v("DOM")]),t._v("进行更新 每次更新状态都会需要更多的计算 这种无用功会浪费更多性能")]),t._v(" "),v("li",[v("code",[t._v("Vue")]),t._v("采用"),v("code",[t._v("MVVM")]),t._v("，也就是开发者只需"),v("code",[t._v("modelView")]),t._v("层进行业务逻辑，利用数据驱动视图的方式，但是避免不了还是要操作"),v("code",[t._v("dom")]),t._v("，有时候"),v("code",[t._v("DOM1")]),t._v("数据发生变化，此时"),v("code",[t._v("DOM2")]),t._v("需要从"),v("code",[t._v("DOM1")]),t._v("中获取数据，却发现"),v("code",[t._v("DOM2")]),t._v("视图并没有更新，这时候就需要用到"),v("code",[t._v("nextTick")])]),t._v(" "),v("li",[t._v("还有的情况是在"),v("code",[t._v("Vue")]),t._v("生命周期里面，"),v("code",[t._v("created")]),t._v("钩子进行"),v("code",[t._v("DOM")]),t._v("的操作要放在"),v("code",[t._v("nextTick")]),t._v("中，因为执行"),v("code",[t._v("created")]),t._v("钩子时，"),v("code",[t._v("DOM")]),t._v("还未渲染 无法操作"),v("code",[t._v("DOM")])])]),t._v(" "),v("h2",{attrs:{id:"vue-data-中某一个属性的值发生改变后-视图会立即同步执行重新渲染吗"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue-data-中某一个属性的值发生改变后-视图会立即同步执行重新渲染吗"}},[t._v("#")]),t._v(" "),v("code",[t._v("Vue")]),t._v(" "),v("code",[t._v("data")]),t._v(" 中某一个属性的值发生改变后，视图会立即同步执行重新渲染吗？")]),t._v(" "),v("p",[t._v("不会立即同步执行渲染 而是按照一定的策略进行"),v("code",[t._v("DOM")]),t._v("异步更新，当侦听到数据变化的时候，"),v("code",[t._v("Vue")]),t._v("会开启一个队列，并缓冲同一事件循环中发生的所有数据变更，如果同一个"),v("code",[t._v("watcher")]),t._v("被多次触发，只会被推入队列中一次，这时候去除重复数据对避免不必要的计算和"),v("code",[t._v("DOM")]),t._v("操作，在下一个时间循环"),v("code",[t._v("Tick")]),t._v("中刷新队列并执行(已去重)的工作")]),t._v(" "),v("h2",{attrs:{id:"vue模板渲染的原理是什么"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue模板渲染的原理是什么"}},[t._v("#")]),t._v(" "),v("code",[t._v("Vue")]),t._v("模板渲染的原理是什么？"),v("badge",{attrs:{text:"重要",type:"warning"}})],1),t._v(" "),v("p",[v("code",[t._v("vue")]),t._v(" 中的模板 "),v("code",[t._v("template")]),t._v(" 无法被浏览器解析并渲染，因为这不属于浏览器的标准，不是正确的 "),v("code",[t._v("HTML")]),t._v(" 语法，所有需要将 "),v("code",[t._v("template")]),t._v(" 转化成一个 "),v("code",[t._v("JavaScript")]),t._v(" 函数，这样浏览器就可以执行这一个函数并渲染出对应的 "),v("code",[t._v("HTML")]),t._v(" 元素，就可以让视图跑起来了，这一个转化的过程，就成为模板编译。")]),t._v(" "),v("p",[t._v("模板编译又分三个阶段，解析 "),v("code",[t._v("parse")]),t._v("，优化 "),v("code",[t._v("optimize")]),t._v("，生成 "),v("code",[t._v("generate")]),t._v("，最终生成可执行函数 "),v("code",[t._v("render")]),t._v("。")]),t._v(" "),v("ul",[v("li",[v("strong",[v("code",[t._v("parse")]),t._v("阶段")]),t._v("：使用大量的正则表达式对 "),v("code",[t._v("template")]),t._v(" 字符串进行解析，将标签、指令、属性等转化为抽象语法树 "),v("code",[t._v("AST")]),t._v("。")]),t._v(" "),v("li",[v("strong",[v("code",[t._v("optimize")]),t._v("阶段")]),t._v("：遍历 "),v("code",[t._v("AST")]),t._v("，找到其中的一些静态节点并进行标记，方便在页面重渲染的时候进行 "),v("code",[t._v("diff")]),t._v(" 比较时，直接跳过这一些静态节点，优化 "),v("code",[t._v("runtime")]),t._v(" 的性能。")]),t._v(" "),v("li",[v("strong",[v("code",[t._v("generate")]),t._v("阶段")]),t._v("：将最终的 "),v("code",[t._v("AST")]),t._v(" 转化为 "),v("code",[t._v("render")]),t._v(" 函数字符串。")])]),t._v(" "),v("h2",{attrs:{id:"子组件可以直接改变父组件的数据吗"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#子组件可以直接改变父组件的数据吗"}},[t._v("#")]),t._v(" 子组件可以直接改变父组件的数据吗")]),t._v(" "),v("blockquote",[v("p",[t._v("子组件不可以改变父组件的数据")])]),t._v(" "),v("p",[t._v("主要是为了维护父子组件的单向数据流，为了意外的改变父组件的状态，使得应用的数据流变得难得理解，只能通过"),v("code",[t._v("$emit")]),t._v("派发一个自定义事件，父组件接收到后，由父组件修改")]),t._v(" "),v("h2",{attrs:{id:"vue和react的理解和异同"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue和react的理解和异同"}},[t._v("#")]),t._v(" "),v("code",[t._v("Vue")]),t._v("和"),v("code",[t._v("React")]),t._v("的理解和异同"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("p",[v("mark",[t._v("相似：")])]),t._v(" "),v("ul",[v("li",[v("p",[t._v("都将路由和全局状态管理交给相关库")])]),t._v(" "),v("li",[v("p",[t._v("都用了"),v("code",[t._v("Virtual Dom")]),t._v("提高重绘性能")])]),t._v(" "),v("li",[v("p",[t._v("都有"),v("code",[t._v("props")]),t._v(" 允许组件数据传递")])]),t._v(" "),v("li",[v("p",[t._v("都提倡组件化")])])]),t._v(" "),v("p",[v("mark",[t._v("不同：")])]),t._v(" "),v("ul",[v("li",[v("p",[t._v("数据流："),v("code",[t._v("Vue")]),t._v("默认支持数据双向绑定，"),v("code",[t._v("React")]),t._v("提倡单向数据流")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("Virtual DOM")]),t._v("："),v("code",[t._v("Vue")]),t._v("会跟踪每一个组件的依赖关系，不需要重新渲染整棵树 而"),v("code",[t._v("React")]),t._v("每当应用改变 全部子组件都会重新渲染，可以通过"),v("code",[t._v("PureComponent")]),t._v("/"),v("code",[t._v("shouldComponentUpdate")]),t._v("来控制")])]),t._v(" "),v("li",[v("p",[t._v("模板编写："),v("code",[t._v("Vue")]),t._v("鼓励常规的"),v("code",[t._v("HTML")]),t._v("模板编写 "),v("code",[t._v("React")]),t._v("推荐用"),v("code",[t._v("JS")]),t._v("的语法扩展 -- "),v("code",[t._v("JSX")])])]),t._v(" "),v("li",[v("p",[t._v("监听数据变化的原理："),v("code",[t._v("Vue")]),t._v("通过"),v("code",[t._v("getter")]),t._v("/"),v("code",[t._v("setter")]),t._v("以及函数劫持，精确知道数据的变化 "),v("code",[t._v("React")]),t._v("通过比较引用的方式进行的，不优化的话会导致大量不必要的"),v("code",[t._v("vDOM")]),t._v("重新渲染")])]),t._v(" "),v("li",[v("p",[t._v("高阶组件："),v("code",[t._v("Vue")]),t._v("通过"),v("code",[t._v("mixins")]),t._v("扩展 "),v("code",[t._v("React")]),t._v("通过"),v("code",[t._v("HOC")]),t._v("来扩展")])])]),t._v(" "),v("h2",{attrs:{id:"vue的优点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue的优点"}},[t._v("#")]),t._v(" "),v("code",[t._v("Vue")]),t._v("的优点"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("ul",[v("li",[v("p",[t._v("轻量级框架：只关注"),v("code",[t._v("modelView")]),t._v("层")])]),t._v(" "),v("li",[v("p",[t._v("双向数据绑定： 在数据操作方面更为简单")])]),t._v(" "),v("li",[v("p",[t._v("组件化：实现了"),v("code",[t._v("html")]),t._v("形式的封装和重用")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("model")]),t._v(" "),v("code",[t._v("modelView")]),t._v(" "),v("code",[t._v("view")]),t._v("层分离 是开发者只需要操作数据就能完成操作")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("virtualDOM")]),t._v(" 不用原生的"),v("code",[t._v("DOM")]),t._v("操作节点")])])]),t._v(" "),v("h2",{attrs:{id:"assets和static的区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#assets和static的区别"}},[t._v("#")]),t._v(" "),v("code",[t._v("assets")]),t._v("和"),v("code",[t._v("static")]),t._v("的区别")]),t._v(" "),v("blockquote",[v("p",[t._v("相同点：都用来存放静态资源")])]),t._v(" "),v("blockquote",[v("p",[t._v("不同点：\n"),v("code",[t._v("static")]),t._v("里面的资源文件不经过压缩直接进入打包的目录，而"),v("code",[t._v("asset")]),t._v("里面的文件则经过压缩同"),v("code",[t._v("static")]),t._v("一起上传到服务器上，所以"),v("code",[t._v("static")]),t._v("里面的文件相对"),v("code",[t._v("assets")]),t._v("大一些，我们可以将项目中的"),v("code",[t._v("js")]),t._v("文件放在"),v("code",[t._v("assets")]),t._v("中，项目的"),v("code",[t._v("iconfont")]),t._v("等第三方资源文件放在"),v("code",[t._v("static")]),t._v("中，因为他们已经被处理过了")])]),t._v(" "),v("h2",{attrs:{id:"vue如何监听对象和数组的某个属性改变"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue如何监听对象和数组的某个属性改变"}},[t._v("#")]),t._v(" "),v("code",[t._v("Vue")]),t._v("如何监听对象和数组的某个属性改变"),v("badge",{attrs:{text:"重要",type:"warning"}})],1),t._v(" "),v("ol",[v("li",[v("p",[v("code",[t._v("this.$set(target, key, value)")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("splice()")]),t._v("、 "),v("code",[t._v("push()")]),t._v("、"),v("code",[t._v("pop()")]),t._v("、"),v("code",[t._v("shift()")]),t._v("、"),v("code",[t._v("unshift()")]),t._v("、"),v("code",[t._v("sort()")]),t._v("、"),v("code",[t._v("reverse()")])])])]),t._v(" "),v("p",[v("strong",[v("mark",[v("code",[t._v("Vue.$set")]),t._v("原理 ")])])]),t._v(" "),v("ul",[v("li",[v("p",[t._v("如果是修改数组索引，直接用数组的"),v("code",[t._v("splice")]),t._v("方法触发")])]),t._v(" "),v("li",[v("p",[t._v("如果是对象，判断属性是否存在 是否为响应式 ，通过调用"),v("code",[t._v("defineReactive")]),t._v("(就是"),v("code",[t._v("Vue")]),t._v("初始化对象，给对象采用("),v("code",[t._v("Object.defineProperty")]),t._v("动态添加"),v("code",[t._v("getter/setter")]),t._v(")")])])]),t._v(" "),v("h2",{attrs:{id:"对ssr的理解"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#对ssr的理解"}},[t._v("#")]),t._v(" 对"),v("code",[t._v("ssr")]),t._v("的理解"),v("badge",{attrs:{text:"重要",type:"warning"}})],1),t._v(" "),v("p",[v("code",[t._v("ssr")]),t._v("是服务端渲染，也就是"),v("code",[t._v("Vue")]),t._v("在客户端将标签渲染成"),v("code",[t._v("HTML")]),t._v("放在服务端，服务端直接返回给客户端")]),t._v(" "),v("p",[v("code",[t._v("ssr")]),t._v("优势：更好的"),v("code",[t._v("SEO")]),t._v("、首屏速度变快")]),t._v(" "),v("p",[v("code",[t._v("ssr")]),t._v("缺点：服务端渲染只支持"),v("code",[t._v("beforeCreate")]),t._v("和"),v("code",[t._v("Created")]),t._v("两个钩子 更多的服务端负载")]),t._v(" "),v("h2",{attrs:{id:"vue的性能优化"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue的性能优化"}},[t._v("#")]),t._v(" "),v("code",[t._v("Vue")]),t._v("的性能优化"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("blockquote",[v("p",[t._v("编码阶段")])]),t._v(" "),v("ol",[v("li",[v("p",[t._v("减少"),v("code",[t._v("data")]),t._v("中的数据，因为"),v("code",[t._v("data")]),t._v("的数据会增加"),v("code",[t._v("getter")]),t._v("和"),v("code",[t._v("setter")]),t._v(" 会收集相应的"),v("code",[t._v("watcher")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("v-for")]),t._v("里面不能嵌套"),v("code",[t._v("v-if")]),t._v("(因为"),v("code",[t._v("v-for")]),t._v("优先级比"),v("code",[t._v("v-if")]),t._v("高，所以哪怕渲染一小部分的用户的元素，也得在每次重渲染的时候遍历整个列表)")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("spa")]),t._v("页面采用"),v("code",[t._v("keep-alive")]),t._v("缓存组件")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("key")]),t._v("保证唯一")])]),t._v(" "),v("li",[v("p",[t._v("使用路由懒加载 异步组件")])]),t._v(" "),v("li",[v("p",[t._v("防抖节流")])]),t._v(" "),v("li",[v("p",[t._v("第三方模块按需导入")])]),t._v(" "),v("li",[v("p",[t._v("懒加载")])])]),t._v(" "),v("blockquote",[v("p",[v("code",[t._v("SEO")]),t._v("优化")])]),t._v(" "),v("ol",[v("li",[t._v("预渲染")]),t._v(" "),v("li",[v("code",[t._v("ssr")])])]),t._v(" "),v("blockquote",[v("p",[t._v("打包优化")])]),t._v(" "),v("ol",[v("li",[v("p",[t._v("压缩"),v("code",[t._v("uglify")]),t._v("代码")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("tree shaking")]),t._v("/ "),v("code",[t._v("scope Hoisting")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("cdn")]),t._v("加载第三方模块")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("splitChunk")]),t._v("抽离公共文件")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("sourceMap")]),t._v("优化")])])]),t._v(" "),v("blockquote",[v("p",[t._v("用户体验")])]),t._v(" "),v("ol",[v("li",[v("p",[t._v("骨架屏")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("PWA")])])]),t._v(" "),v("li",[v("p",[t._v("服务端开启"),v("code",[t._v("gzip")]),t._v("压缩")])])]),t._v(" "),v("h2",{attrs:{id:"对spa的理解-优缺点是什么"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#对spa的理解-优缺点是什么"}},[t._v("#")]),t._v(" 对"),v("code",[t._v("SPA")]),t._v("的理解 优缺点是什么")]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("概念")]),t._v(" "),v("p",[v("code",[t._v("SPA")]),t._v("是"),v("code",[t._v("single-page application")]),t._v("是仅在"),v("code",[t._v("web")]),t._v("应用初始化的时候加载相应的"),v("code",[t._v("html")]),t._v(" "),v("code",[t._v("css")]),t._v("和"),v("code",[t._v("js")]),t._v(" ，一旦页面加载完成"),v("code",[t._v("SPA")]),t._v("不会因为用户的操作而进行页面的重新加载或跳转，取而代之的是"),v("code",[t._v("html")]),t._v("内容的变换，"),v("code",[t._v("ui")]),t._v("和用户的交互")])]),t._v(" "),v("blockquote",[v("p",[t._v("优点：")])]),t._v(" "),v("ol",[v("li",[t._v("用户体验好 内容改变不会重新加载页面，避免了不必要的跳转和重复渲染 对服务器压力小")])]),t._v(" "),v("blockquote",[v("p",[t._v("缺点：")])]),t._v(" "),v("ol",[v("li",[v("p",[t._v("初次加载耗时长，需要在加载页面的时候将"),v("code",[t._v("js")]),t._v("和"),v("code",[t._v("css")]),t._v("统一加载 部分页面按需加载")])]),t._v(" "),v("li",[v("p",[t._v("前进后退路由管理：不能使用浏览器的前进后退功能")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("SEO")]),t._v("难度大，所有内容都在一个页面中动态替换")])])]),t._v(" "),v("h2",{attrs:{id:"template和jsx区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#template和jsx区别"}},[t._v("#")]),t._v(" "),v("code",[t._v("template")]),t._v("和"),v("code",[t._v("jsx")]),t._v("区别")]),t._v(" "),v("p",[t._v("对于"),v("code",[t._v("runtime")]),t._v("来说只要组件存在"),v("code",[t._v("render")]),t._v("函数即可")]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("vue")]),t._v("中利用"),v("code",[t._v("vue-loader")]),t._v("编译"),v("code",[t._v(".vue")]),t._v("文件 内部依赖的"),v("code",[t._v("vue-template-compiler")]),t._v(" 将"),v("code",[t._v("template")]),t._v("预编译成"),v("code",[t._v("render")]),t._v("函数")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("react")]),t._v("利用"),v("code",[t._v("babel-plugin-transform-vue-jsx")]),t._v("这个"),v("code",[t._v("jsx")]),t._v("语法糖解析器就可以了")])])]),t._v(" "),v("p",[t._v("所以两者都是"),v("code",[t._v("render")]),t._v(" 的表现形式 但是"),v("code",[t._v("jsx")]),t._v("更具有灵活性在复杂组件中有优势 而"),v("code",[t._v("template")]),t._v("在代码结构上符合视图和逻辑分离，更简单 更好维护")]),t._v(" "),v("h2",{attrs:{id:"vue初始化页面为什么会闪动"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue初始化页面为什么会闪动"}},[t._v("#")]),t._v(" "),v("code",[t._v("Vue")]),t._v("初始化页面为什么会闪动")]),t._v(" "),v("p",[t._v("在"),v("code",[t._v("vue")]),t._v("初始化之前，由于"),v("code",[t._v("div")]),t._v("是不归"),v("code",[t._v("vue")]),t._v("管的 所以在还没解析的情况可能会出现{{"),v("code",[t._v("message")]),t._v("}}的情况")]),t._v(" "),v("p",[t._v("解决方法")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("在根元素标签上加上"),v("code",[t._v("v-cloak")]),t._v(" ，添加"),v("code",[t._v("css")]),t._v("样式 "),v("code",[t._v("[v-cloak] {display: none;}")])])]),t._v(" "),v("li",[v("p",[t._v("在根元素加上"),v("code",[t._v('style="display: none;" :style="{display: \'block\'}"')])])])]),t._v(" "),v("h2",{attrs:{id:"mixin和mixins区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mixin和mixins区别"}},[t._v("#")]),t._v(" "),v("code",[t._v("mixin")]),t._v("和"),v("code",[t._v("mixins")]),t._v("区别"),v("badge",{attrs:{text:"重要",type:"warning"}})],1),t._v(" "),v("blockquote",[v("p",[v("code",[t._v("mixin")]),t._v("用于全局混入，会影响到每个组件实例")])]),t._v(" "),v("div",{staticClass:"language-javascript line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-javascript"}},[v("code",[t._v("Vue"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("mixin")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    \n  "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeCreate")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("        \n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...逻辑        ")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这种方式会影响到每个组件的 beforeCreate 钩子函数    ")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br")])]),v("p",[t._v("可以全局混入封装好的"),v("code",[t._v("axios")]),t._v("等")]),t._v(" "),v("p",[v("code",[t._v("mixins")]),t._v("用于扩展组件的方式，如果多个组件有相同业务逻辑，可以将逻辑剥离开，通过"),v("code",[t._v("mixins")]),t._v("混入代码，比如上拉下拉加载数据等，另外"),v("code",[t._v("mixins")]),t._v("混入函数会先于组件的钩子函数，当重名的时候，组件的同名函数会覆盖"),v("code",[t._v("mixins")]),t._v("函数")]),t._v(" "),v("h2",{attrs:{id:"mvvm优缺点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mvvm优缺点"}},[t._v("#")]),t._v(" "),v("code",[t._v("MVVM")]),t._v("优缺点"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("blockquote",[v("p",[t._v("优点：")])]),t._v(" "),v("ol",[v("li",[v("code",[t._v("低耦合")]),t._v("。视图（"),v("code",[t._v("View")]),t._v("）可以独立于"),v("code",[t._v("Model")]),t._v("变化和修改，一个"),v("code",[t._v("Model")]),t._v("可以绑定到不同的"),v("code",[t._v("View")]),t._v("上，当"),v("code",[t._v("View")]),t._v("变化的时候"),v("code",[t._v("Model")]),t._v("可以不变化，当"),v("code",[t._v("Model")]),t._v("变化的时候"),v("code",[t._v("View")]),t._v("也可以不变；")]),t._v(" "),v("li",[v("code",[t._v("可重用性")]),t._v("。你可以把一些视图逻辑放在一个"),v("code",[t._v("Model")]),t._v("里面，让很多"),v("code",[t._v("View")]),t._v("重用这段视图逻辑。")]),t._v(" "),v("li",[v("code",[t._v("独立开发")]),t._v("。开发人员可以专注于业务逻辑和数据的开发("),v("code",[t._v("ViewModel")]),t._v(")，设计人员可以专注于页面设计")])]),t._v(" "),v("blockquote",[v("p",[t._v("缺点：")])]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("bug")]),t._v("难以调试，使用双向绑定 当页面异常是，可能是"),v("code",[t._v("view")]),t._v("层也可能是"),v("code",[t._v("model")]),t._v("层的代码问题，另外数据绑定的声明是写在"),v("code",[t._v("view")]),t._v("的模板中，没办法断点"),v("code",[t._v("debug")])])]),t._v(" "),v("li",[v("p",[t._v("一个大模块的"),v("code",[t._v("model")]),t._v("层也很大，当长期持有，不释放内存会花费更多内存")])]),t._v(" "),v("li",[v("p",[t._v("对于大型的图形应用程序，视图较多，"),v("code",[t._v("viewmodel")]),t._v("的构建和维护成本较高")])])]),t._v(" "),v("h2",{attrs:{id:"vue中使用了哪些设计模式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue中使用了哪些设计模式"}},[t._v("#")]),t._v(" vue中使用了哪些设计模式？"),v("badge",{attrs:{text:"特别重要",type:"error"}})],1),t._v(" "),v("ul",[v("li",[t._v("单例模式："),v("code",[t._v("new")]),t._v("多次，只有一个实例")])]),t._v(" "),v("p",[v("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202202042329075.awebp",alt:"image.png"}})]),t._v(" "),v("ul",[v("li",[t._v("工厂模式：传入参数就可以创建实例（虚拟节点的创建）")]),t._v(" "),v("li",[t._v("发布订阅模式："),v("code",[t._v("eventBus")])]),t._v(" "),v("li",[t._v("观察者模式："),v("code",[t._v("watch和dep")])]),t._v(" "),v("li",[t._v("代理模式："),v("code",[t._v("_data")]),t._v("属性、"),v("code",[t._v("proxy")]),t._v("、防抖、节流")]),t._v(" "),v("li",[t._v("中介者模式："),v("code",[t._v("vuex")])]),t._v(" "),v("li",[t._v("策略模式")]),t._v(" "),v("li",[t._v("外观模式")])])])}),[],!1,null,null,null);e.default=a.exports}}]);
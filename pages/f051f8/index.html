<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DNS和网络模型 | 小宋爱睡觉</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="🚀一个前端程序员小白的博客🌹">
    <meta name="keywords" content="blog,crucials,frontend,前端,小宋爱睡觉,博客,duochizhacai">
    <meta name="theme-color" content="#60ad81">
    
    <link rel="preload" href="/assets/css/0.styles.65787d8c.css" as="style"><link rel="preload" href="/assets/js/app.95fc12d6.js" as="script"><link rel="preload" href="/assets/js/2.abf57e2f.js" as="script"><link rel="preload" href="/assets/js/25.bd21abb1.js" as="script"><link rel="preload" href="/assets/js/3.e687237e.js" as="script"><link rel="prefetch" href="/assets/js/10.9d6bb65c.js"><link rel="prefetch" href="/assets/js/11.bea1ca2d.js"><link rel="prefetch" href="/assets/js/12.a5ced6a2.js"><link rel="prefetch" href="/assets/js/13.ec1bcac6.js"><link rel="prefetch" href="/assets/js/14.4e5bcc62.js"><link rel="prefetch" href="/assets/js/15.753bb2dc.js"><link rel="prefetch" href="/assets/js/16.a6e51bcc.js"><link rel="prefetch" href="/assets/js/17.25227dca.js"><link rel="prefetch" href="/assets/js/18.19267273.js"><link rel="prefetch" href="/assets/js/19.a9403a12.js"><link rel="prefetch" href="/assets/js/20.c007e659.js"><link rel="prefetch" href="/assets/js/21.dca7af69.js"><link rel="prefetch" href="/assets/js/22.d9f25771.js"><link rel="prefetch" href="/assets/js/23.2668c7ed.js"><link rel="prefetch" href="/assets/js/24.30c858a4.js"><link rel="prefetch" href="/assets/js/26.28d250cb.js"><link rel="prefetch" href="/assets/js/27.a60d212f.js"><link rel="prefetch" href="/assets/js/28.8a5c2c34.js"><link rel="prefetch" href="/assets/js/29.4688a5d6.js"><link rel="prefetch" href="/assets/js/30.5985f3b4.js"><link rel="prefetch" href="/assets/js/31.7ee5d916.js"><link rel="prefetch" href="/assets/js/32.2f711dea.js"><link rel="prefetch" href="/assets/js/33.45a4e58a.js"><link rel="prefetch" href="/assets/js/34.6a46cad8.js"><link rel="prefetch" href="/assets/js/35.79084a19.js"><link rel="prefetch" href="/assets/js/36.9a5cf509.js"><link rel="prefetch" href="/assets/js/37.ea6b36a3.js"><link rel="prefetch" href="/assets/js/38.1ebed809.js"><link rel="prefetch" href="/assets/js/39.16200e67.js"><link rel="prefetch" href="/assets/js/4.4a0efd85.js"><link rel="prefetch" href="/assets/js/40.db1f5064.js"><link rel="prefetch" href="/assets/js/41.5c8205b4.js"><link rel="prefetch" href="/assets/js/42.d8e671a9.js"><link rel="prefetch" href="/assets/js/43.80c6d459.js"><link rel="prefetch" href="/assets/js/44.0dc33dbe.js"><link rel="prefetch" href="/assets/js/45.e623e04e.js"><link rel="prefetch" href="/assets/js/46.b9a46fc2.js"><link rel="prefetch" href="/assets/js/47.2d5eb349.js"><link rel="prefetch" href="/assets/js/48.8d4e8a09.js"><link rel="prefetch" href="/assets/js/49.f7f58461.js"><link rel="prefetch" href="/assets/js/5.84799806.js"><link rel="prefetch" href="/assets/js/50.b482896d.js"><link rel="prefetch" href="/assets/js/51.9ad2b264.js"><link rel="prefetch" href="/assets/js/52.7862671c.js"><link rel="prefetch" href="/assets/js/53.d8153804.js"><link rel="prefetch" href="/assets/js/54.0af2674d.js"><link rel="prefetch" href="/assets/js/55.597b91b8.js"><link rel="prefetch" href="/assets/js/56.46804158.js"><link rel="prefetch" href="/assets/js/57.006f6db0.js"><link rel="prefetch" href="/assets/js/58.751e40d0.js"><link rel="prefetch" href="/assets/js/59.b0ebe0e6.js"><link rel="prefetch" href="/assets/js/6.f7ec0152.js"><link rel="prefetch" href="/assets/js/60.8d675b12.js"><link rel="prefetch" href="/assets/js/61.55190a7f.js"><link rel="prefetch" href="/assets/js/62.117f5f66.js"><link rel="prefetch" href="/assets/js/63.b848bfe2.js"><link rel="prefetch" href="/assets/js/64.000227a3.js"><link rel="prefetch" href="/assets/js/65.9ec404e1.js"><link rel="prefetch" href="/assets/js/66.1834b2b1.js"><link rel="prefetch" href="/assets/js/67.bf716de8.js"><link rel="prefetch" href="/assets/js/68.6e03054c.js"><link rel="prefetch" href="/assets/js/69.c6605c56.js"><link rel="prefetch" href="/assets/js/7.40c08f02.js"><link rel="prefetch" href="/assets/js/70.30051d78.js"><link rel="prefetch" href="/assets/js/71.1fdc7d36.js"><link rel="prefetch" href="/assets/js/72.4b0ad4ad.js"><link rel="prefetch" href="/assets/js/73.e989ab6d.js"><link rel="prefetch" href="/assets/js/74.02429c23.js"><link rel="prefetch" href="/assets/js/75.8f044cef.js"><link rel="prefetch" href="/assets/js/76.7acc2de5.js"><link rel="prefetch" href="/assets/js/77.ce127400.js"><link rel="prefetch" href="/assets/js/78.deb1ae24.js"><link rel="prefetch" href="/assets/js/79.75a4c78b.js"><link rel="prefetch" href="/assets/js/8.303c64d8.js"><link rel="prefetch" href="/assets/js/80.6c258060.js"><link rel="prefetch" href="/assets/js/81.563a0c28.js"><link rel="prefetch" href="/assets/js/82.143b4caf.js"><link rel="prefetch" href="/assets/js/83.32431b7f.js"><link rel="prefetch" href="/assets/js/84.2320a5a5.js"><link rel="prefetch" href="/assets/js/85.d9a1625a.js"><link rel="prefetch" href="/assets/js/86.dc0f47f2.js"><link rel="prefetch" href="/assets/js/87.8335157f.js"><link rel="prefetch" href="/assets/js/88.2cfc7001.js"><link rel="prefetch" href="/assets/js/89.6bc590c2.js"><link rel="prefetch" href="/assets/js/9.7ba1b2de.js"><link rel="prefetch" href="/assets/js/90.c20801a7.js"><link rel="prefetch" href="/assets/js/91.1a32fafc.js"><link rel="prefetch" href="/assets/js/92.4a802465.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65787d8c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/logo.png" alt="小宋爱睡觉" class="logo"> <span class="site-name can-hide">小宋爱睡觉</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识库" class="dropdown-title"><a href="/pages/56881f/" class="link-title">知识库</a> <span class="title" style="display:none;">知识库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56881f/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/c0e7f0/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/787250/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/f0a671/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b7238f/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/2448f7/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/b8bd46/" class="nav-link">浏览器原理</a></li><li class="dropdown-item"><!----> <a href="/pages/f15087/" class="nav-link">性能优化</a></li><li class="dropdown-item"><!----> <a href="/pages/e3cba5/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/pages/ba01c4/" class="nav-link">手写系列</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/ad5191/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8ac126/" class="nav-link">字符串</a></li><li class="dropdown-item"><!----> <a href="/pages/251490/" class="nav-link">数组</a></li><li class="dropdown-item"><!----> <a href="/pages/fc9745/" class="nav-link">链表</a></li><li class="dropdown-item"><!----> <a href="/pages/ad5191/" class="nav-link">树</a></li><li class="dropdown-item"><!----> <a href="/pages/6aee18/" class="nav-link">动态规划</a></li><li class="dropdown-item"><!----> <a href="/pages/78e948/" class="nav-link">排序算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><a href="/pages/f051f8/https://github.com/duochizhacai" class="link-title">GitHub</a> <span class="title" style="display:none;">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/duochizhacai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1249486902410744" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JueJin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识库" class="dropdown-title"><a href="/pages/56881f/" class="link-title">知识库</a> <span class="title" style="display:none;">知识库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56881f/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/c0e7f0/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/787250/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/f0a671/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b7238f/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/2448f7/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/b8bd46/" class="nav-link">浏览器原理</a></li><li class="dropdown-item"><!----> <a href="/pages/f15087/" class="nav-link">性能优化</a></li><li class="dropdown-item"><!----> <a href="/pages/e3cba5/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/pages/ba01c4/" class="nav-link">手写系列</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/ad5191/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8ac126/" class="nav-link">字符串</a></li><li class="dropdown-item"><!----> <a href="/pages/251490/" class="nav-link">数组</a></li><li class="dropdown-item"><!----> <a href="/pages/fc9745/" class="nav-link">链表</a></li><li class="dropdown-item"><!----> <a href="/pages/ad5191/" class="nav-link">树</a></li><li class="dropdown-item"><!----> <a href="/pages/6aee18/" class="nav-link">动态规划</a></li><li class="dropdown-item"><!----> <a href="/pages/78e948/" class="nav-link">排序算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><a href="/pages/f051f8/https://github.com/duochizhacai" class="link-title">GitHub</a> <span class="title" style="display:none;">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/duochizhacai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1249486902410744" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JueJin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/2448f7/" class="sidebar-link">HTTP协议与请求方法</a></li><li><a href="/pages/00c945/" class="sidebar-link">HTTPS协议</a></li><li><a href="/pages/0d5c02/" class="sidebar-link">状态码</a></li><li><a href="/pages/f051f8/" aria-current="page" class="active sidebar-link">DNS和网络模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/f051f8/#介绍一下dns协议是什么" class="sidebar-link">介绍一下DNS协议是什么</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#dns同时使用tcp和udp协议吗" class="sidebar-link">DNS同时使用TCP和UDP协议吗</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#说一下dns完整查询过程" class="sidebar-link">说一下DNS完整查询过程</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#dns的迭代查询和递归查询" class="sidebar-link">DNS的迭代查询和递归查询</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#osi7层模型" class="sidebar-link">OSI7层模型</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#tcp-ip五层协议" class="sidebar-link">TCP/IP五层协议</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#计算机网络中端到端与点到点的区别" class="sidebar-link">计算机网络中端到端与点到点的区别</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#为什么要有ip地址和mac地址呢" class="sidebar-link">为什么要有IP地址和mac地址呢</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#在网络层的ip是如何寻址的" class="sidebar-link">在网络层的IP是如何寻址的？</a></li><li class="sidebar-sub-header"><a href="/pages/f051f8/#私有网络地址" class="sidebar-link">私有网络地址</a></li></ul></li><li><a href="/pages/bb295d/" class="sidebar-link">TCP和UDP</a></li><li><a href="/pages/4d4107/" class="sidebar-link">WebSocket</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><span data-v-1cd794fe>计算机网络</span></li> <!----> <!----></ul> <div class="info" data-v-1cd794fe><div title="作者" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/duochizhacai" target="_blank" title="作者" class="beLink" data-v-1cd794fe>Crucials</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2021-12-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          DNS和网络模型
        </h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="dns协议"><a href="#dns协议" class="header-anchor">#</a> <code>DNS</code>协议</h1> <h2 id="介绍一下dns协议是什么"><a href="#介绍一下dns协议是什么" class="header-anchor">#</a> 介绍一下<code>DNS</code>协议是什么</h2> <p><code>DNS</code>是<strong>域名系统</strong>的缩写，提供一种主机名到<code>IP</code>地址的转换服务，由分层的<code>DNS</code>服务器组成的分布式数据库，定义了主机如何查询这个分布式数据库的方式的应用协议</p> <p>作用是将域名解析为<code>IP</code>地址，客户端向<code>DNS</code>服务器发送域名查询请求，<code>DNS</code>服务器告诉客户端他的<code>web</code>服务器的<code>IP</code>地址</p> <h2 id="dns同时使用tcp和udp协议吗"><a href="#dns同时使用tcp和udp协议吗" class="header-anchor">#</a> <code>DNS</code>同时使用<code>TCP</code>和<code>UDP</code>协议吗<span class="badge warning" style="vertical-align:top;" data-v-d5affa18>重要</span></h2> <p><code>DNS</code>占用<code>53</code>号端口，同时使用<code>TCP</code>和<code>UDP</code>协议</p> <ol><li>在<strong>区域传输</strong>的时候使用<code>TCP</code>协议
<ul><li>辅域名服务器会定时（一般三小时）向主域名查询了解数据是否有变，有变的话，会执行一次区域传送，进行数据同步，区域传送使用<code>TCP</code>，因为数据传送的数据量比一个请求应答的数据量多得多</li> <li><code>TCP</code>是一种可靠连接 保证数据的准确性</li></ul></li> <li>在<strong>域名解析</strong>的时候使用<code>UDP</code>协议
<ul><li>客户端向<code>DNS</code>查询域名，一般返回的内容不超过<code>512</code>字节，用<code>UDP</code>传输即可，不经过三次握手，使得<code>DNS</code>服务器负载更低，响应更快，理论上客户端向<code>DNS</code>服务器查询域名的时候用<code>TCP</code>但是很多<code>DNS</code>服务器配置时候只支持<code>UDP</code>查询包</li></ul></li></ol> <h2 id="说一下dns完整查询过程"><a href="#说一下dns完整查询过程" class="header-anchor">#</a> 说一下<code>DNS</code>完整查询过程<span class="badge warning" style="vertical-align:top;" data-v-d5affa18>重要</span></h2> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201081154673.png" alt=""></p> <ul><li>首先在浏览器缓存中查找对应的<code>IP</code>	地址，如果查到就直接返回，查不到就下一步</li> <li>将请求发给本地<code>dns</code>服务器，在本地域名服务器查询，如果查到直接返回，差不到就下一步</li> <li>本地<code>dns</code>服务器向根域名服务器发送请求，根域名服务器返回一个所查询域的顶级服务器地址</li> <li>本地<code>dns</code>向顶级域名服务器发送请求，接收请求的服务器查询自己的缓存，如果有记录就返回查询结果，没有就返回下一级的权威域名服务器地址</li> <li>本地<code>dns</code>向权威域名服务器请求，域名服务器返回对应结果</li> <li>本地<code>dns</code>将结果保存在缓存中，便于下次使用</li> <li>将结果返回给浏览器</li></ul> <p>举一个🌰来说明一下(改自第七版谢希仁计算机网络)</p> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202203172217759.jpg" alt=""></p> <p>假设<code>mayun.taobao.com</code>想知道<code>xiaosong.crucials.cn</code>的<code>IP</code>地址</p> <ul><li>主机<code>mayun.taobao.com</code>先向其本地域名服务器<code>dns.taobao.com</code>进行递归查询</li> <li>本地域名服务器向根域名服务器查询</li> <li>根域名服务器告诉本地域名服务器，下一次该查询的是所查询域的顶级服务器<code>dns.cn</code>的<code>IP</code>地址</li> <li>本地域名服务器迭代再进行查询，顶级域名服务器返回所查询域的权威域名权威域名服务器<code>dns.crucials.cn</code>的<code>IP</code>地址</li> <li>继续迭代查询，权威域名服务器告诉本地域名服务器所查询的主机<code>IP</code>地址</li> <li>本地域名服务器把<code>IP</code>地址告诉主机<code>mayun.taobao.com</code></li></ul> <h2 id="dns的迭代查询和递归查询"><a href="#dns的迭代查询和递归查询" class="header-anchor">#</a> <code>DNS</code>的迭代查询和递归查询</h2> <p>递归查询指的是查询请求发送之后，域名服务器代为向下一级域名服务器发送请求，最后向用户返回结果，使用递归查询，用户只用发送一次查询</p> <p>迭代查询是域名服务器返回单次查询的结果，需要用户自己请求下一级的服务器</p> <p>一般我们向本地<code>dns</code>发送请求的都是递归查询，因为只发了一次就能返回最终的结果，而本地<code>dns</code>服务器向其他域名服务器采用的就是迭代查询，每一级域名服务器返回的结果之后，都由本地<code>dns</code>服务器自己进行下一级的查询</p> <h1 id="网络模型"><a href="#网络模型" class="header-anchor">#</a> 网络模型</h1> <h2 id="osi7层模型"><a href="#osi7层模型" class="header-anchor">#</a> <code>OSI</code>7层模型</h2> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202112122148011.webp" alt="img"></p> <ol><li><strong>应用层</strong> <ul><li>为计算机用户提供应用接口，为用户提供提供网络服务协议，如<code>http</code> <code>https</code> <code>ftp</code>等</li></ul></li> <li><strong>表示层</strong> <ul><li>用于对应用层数据的编码和转换功能，确保一个系统的应用程序发送的数据能被另一个系统应用层识别，可以使用<code>base64</code>对数据进行编解码，<code>base64</code>在表示层工作</li></ul></li> <li><strong>会话层</strong> <ul><li>负责建立、管理和终止表示层实体之间的通信会话</li></ul></li> <li><strong>传输层</strong> <ul><li>建立主机端到端的连接，传输层的作用就是为上层协议提供端到端的可靠和透明数据传输，包括差错控制和流量控制，<code>tcp</code>和<code>udp</code>就是在这一层</li></ul></li> <li><strong>网络层</strong> <ul><li>通过<code>IP</code>寻址建立两个节点的连接，通常就是我们说的<code>IP</code>协议层，我们可以理解网络层规定了数据包的传输路线，传输层规定了数据包的传输方式</li></ul></li> <li><strong>数据链路层</strong> <ul><li>将比特组合成字节，将字节组合成帧，使用链路层地址(以太网用<code>mac</code>地址)，并进行差错控制，我们可以理解为网络层是规划了数据包的传输路线，数据链路层就是传输路线，在数据链路层增加了差错控制</li></ul></li> <li><strong>物理层</strong> <ul><li>实际的信号通过物理层实现，通过物理截止传输比特流</li></ul></li></ol> <p><code>OSI</code>七层模型通信特点是对等通信，为了使数据分组从源传送到目的地，源端每一层都必须和目的端对等层进行通信，称为对等层通信，在每一层通信都使用本层自己的协议进行通信</p> <h2 id="tcp-ip五层协议"><a href="#tcp-ip五层协议" class="header-anchor">#</a> <code>TCP/IP</code>五层协议</h2> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202112122148362.webp" alt="img"></p> <ul><li>应用层
<ul><li>直接为应用进程提供服务 <code>http/ftp/smtp/dns</code></li></ul></li> <li>传输层
<ul><li>主要有<code>tcp</code>和<code>udp</code>协议</li></ul></li> <li>网络层
<ul><li>为两台主机提供通信服务 通过选择合适的路由将数据传递到目的主机</li></ul></li> <li>数据链路层
<ul><li>将网络层交下来的<code>IP</code>数据包封装成帧，在链路两个相邻节点传送帧，每一帧都包含数据和必要的控制信息</li></ul></li> <li>物理层
<ul><li>确保数据在各种物理媒介上传输</li></ul></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202112122149313.webp" alt="img"></p> <h2 id="计算机网络中端到端与点到点的区别"><a href="#计算机网络中端到端与点到点的区别" class="header-anchor">#</a> 计算机网络中端到端与点到点的区别<span class="badge tip" style="vertical-align:top;" data-v-d5affa18>重要‼️</span></h2> <p><strong>所处位置不同</strong></p> <p>端到端处于传输层，属于网络连接，是应用程序之间的远程通信(通俗地说就是从发送端到接受端)</p> <p>点到点处于数据链路层或网络层，基于<code>mac</code>地址和<code>IP</code>地址,是指一个设备发数据给另外一个设备，这些设备是指直连设备包括网卡，路由器，交换机。(通俗地说就是两个节点之间的通信，一个节点的数据链路层接受<code>ip</code>层数据并封装之后，就把数据帧从链路上发送到与其相邻的下一个节点)</p> <p><strong>可靠性</strong></p> <p>端到端的链路建立之后，发送端知道接收端一定能收到，而且经过中间交换设备时不需要进行存储转发，因此传输延迟小。</p> <p>在点到点传输的缺点是发送端发出数据后，不知道接收端能否收到或何时能收到数据。</p> <p>端到端的优点就是它的可靠性，缺点是：</p> <ul><li><p>直到接收端收到数据为止，发送端的设备一直要参与传输。如果整个传输的延迟很长，那么对发送端的设备造成很大的浪费。</p></li> <li><p>如果接收设备关机或故障，那么端到端传输不可能实现。</p></li></ul> <p><strong>点到点的优点</strong>：</p> <ul><li><p>发送端设备送出数据后，它的任务已经完成，不需要参与整个传输过程，这样不会浪费发送端设备的资源。</p></li> <li><p>即使接收端设备关机或故障，点到点传输也可以采用存储转发技术进行缓冲。</p></li></ul> <p><strong>点到点的缺点</strong>：</p> <p>点到点传输的缺点是发送端发出数据后，不知道接收端能否收到或何时能收到数据。 (它的不可靠性)</p> <p>在一个网络系统的不同分层中，可能用到端到端传输，也可能用到点到点传输。如<code>Internet</code>网，<code>IP</code>及以下各层采用点到点传输，传输层以上采用端到端传输。</p> <h2 id="为什么要有ip地址和mac地址呢"><a href="#为什么要有ip地址和mac地址呢" class="header-anchor">#</a> 为什么要有<code>IP</code>地址和<code>mac</code>地址呢</h2> <p>先说说两者区别:</p> <ul><li><code>IP</code>地址是网络层和以上各层使用的地址，是一种逻辑地址</li> <li><code>mac</code>地址(物理地址)是数据链路层和物理层使用的地址</li></ul> <p>在发送数据的时候，数据从高层下到低层，才到通信链路传输，使用<code>IP</code>地址的<code>IP</code>数据包一旦交给数据链路层，就被封装成<code>mac</code>帧，<code>mac</code>帧在传输过程使用的原地址和目的地址都是硬件地址，都写在<code>mac</code>帧的首部</p> <div class="custom-block warning"><p class="custom-block-title">值得注意的是</p> <p>在网络层利用<code>IP</code>地址在路由器进行转发的时候，数据包首部的源地址和目的地址始终为最开始发送的<code>IP</code>地址和需要接收的<code>IP</code>地址</p> <p>而数据链路层的<code>mac</code>帧在不同网络传输时<code>mac</code>帧会丢弃并更换首部的<code>mac</code>地址</p> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202203151048589.jpg" alt=""></p></div> <p>接着解释一下，为什么不可以直接用硬件地址进行通信，免除使用<code>ARP</code>协议，还要<code>IP</code>地址来干嘛？</p> <p>全世界存在各式各样的网络，都使用不同的硬件地址，这些硬件能够相互通信的话必须进行<strong>非常复杂的硬件地址转换工作（因为每个设备都有唯一的<code>mac</code>地址）</strong>，因此几乎不可能靠用户进行完成，但是<code>IP</code>编址的话可以让连接到互联网的地址只需自己拥有一个唯一的<code>IP</code>地址，再下去找需要连接的通讯设备则是通过<code>ARP</code>协议进行(都是由计算机软件自动运行的，无须用户操作)</p> <p>有了<code>IP</code>地址为什么还需要<code>mac</code>地址</p> <p>信息传递时候，需要知道的其实是两个地址：终点地址、下一跳的地址。</p> <ul><li><code>IP</code>地址本质上是终点地址，它在跳过路由器的时候不会改变，而<code>MAC</code>地址则是下一跳的地址，每跳过一次路由器都会改变。这就是为什么还要用<code>MAC</code>地址的原因之一，它起到了记录下一跳的信息的作用。</li> <li>网络体系结构的分层模型：用<code>MAC</code>地址和<code>IP</code>地址两个地址，用于分别表示物理地址和逻辑地址是有好处的。这样分层可以使网络层与数据链路层的协议更灵活地替换。</li> <li>历史原因：早期的以太网只有集线器，没有交换机，所以发出去的包能被以太网内的所有机器监听到，因此要附带上<code>MAC</code>地址，每个机器只需要接受与自己<code>MAC</code>地址相匹配的包。</li></ul> <h2 id="在网络层的ip是如何寻址的"><a href="#在网络层的ip是如何寻址的" class="header-anchor">#</a> 在网络层的<code>IP</code>是如何寻址的？</h2> <ul><li><strong>分类寻址</strong>：将<code>IP</code>地址划分为五类，<code>IP</code>地址有网络号(<code>net-id</code>)和主机号(<code>host-id</code>)组成,路由器仅仅根据目的主机的网络号来转发分组，从而减少路由表所占用的存储空间以及查找路由表的时间</li></ul> <div class="custom-block note"><p class="custom-block-title">笔记</p> <p>​	<code>IP</code> 地址管理机构 --&gt; 分配 <code>IP</code>地址的网络号 -&gt;主机号由得该单位自行分配</p> <p><strong>主机号</strong>为全 <code>0</code> 的地址为子网的<strong>网络号</strong>，<strong>主机号</strong> 为全 <code>1</code> 的地址为子网的<strong>广播地址</strong>， 都不能被指派。</p></div> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202203151015395.jpeg" alt="网络号"></p> <ul><li><strong>划分子网</strong>：对原先的分类寻址的改进，将原始的分类寻址进一步的划分，将之前的主机号进一步划分为子网号(<code>subnet-id</code>)和主机号，提高<code>IP</code>地址的利用率</li></ul> <p>​	:::note 提高IP地址利用率原因</p> <p>​	因为<code>c</code>类地址的主机号是<code>2^8 - 2= 254</code> 若有<code>260</code>台机器只能分配一个<code>b</code>类地址的网络号，遂对主机号进行进一步划分</p> <p>划分子网后，可用的<code>IP</code>地址数是减少了，但是如果对于那些很小的小型企业网络来说，划分子网后又可节省大量<code>IP</code>地址资源。因为几个小网络可以共用一个大的网络地址范围(好几个子网对外部表现为一个网络，收到外来的数据报后转发到相应的网络)，而且同样可以取到隔离的作用。</p> <p>​	:::</p> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202203151013234.png" alt=""></p> <ul><li><strong>无类别域间路由</strong>：消除了传统的 <strong><code>A 类</code></strong>, <strong><code>B 类</code></strong>, <strong><code>C类</code></strong> 地址以及划分子网的概念，因而更有效地分配 <strong><code>IPv4</code></strong> 的地址。(这个应该不要求)</li></ul> <h2 id="私有网络地址"><a href="#私有网络地址" class="header-anchor">#</a> 私有网络地址</h2> <p>俗称内网的<code>IP</code>地址</p> <table><thead><tr><th><code>IP address range</code></th> <th><code>number of addresses</code></th> <th><code>largest CIDR block (subnet mask)</code></th></tr></thead> <tbody><tr><td>10.0.0.0 – 10.255.255.255</td> <td>16777216</td> <td>10.0.0.0/8 (255.0.0.0)</td></tr> <tr><td>172.16.0.0 – 172.31.255.255</td> <td>1048576</td> <td>172.16.0.0/12 (255.240.0.0)</td></tr> <tr><td>192.168.0.0 – 192.168.255.255</td> <td>65536</td> <td>192.168.0.0/16 (255.255.0.0)</td></tr></tbody></table> <p><a href="/pages/3d37e9/">最后附上一篇快速理解网络传输数据的文章</a></p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/20, 19:40:28</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/0d5c02/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">状态码</div></a> <a href="/pages/bb295d/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">TCP和UDP</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/0d5c02/" class="prev">状态码</a></span> <span class="next"><a href="/pages/bb295d/">TCP和UDP</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/duochizhacai" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://juejin.cn/user/1249486902410744" title="JueJin" target="_blank" class="iconfont icon-juejin"></a></div> 
    Copyright © 2021-2022
    <span><a href='https://beian.miit.gov.cn'>粤ICP备2021165371号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.95fc12d6.js" defer></script><script src="/assets/js/2.abf57e2f.js" defer></script><script src="/assets/js/25.bd21abb1.js" defer></script><script src="/assets/js/3.e687237e.js" defer></script>
  </body>
</html>

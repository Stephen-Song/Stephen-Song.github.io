<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>其他优化手段 | 小宋爱睡觉</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="🚀一个前端程序员小白的博客🌹">
    <meta name="keywords" content="blog,crucials,frontend,前端,小宋爱睡觉,博客,duochizhacai">
    <meta name="theme-color" content="#60ad81">
    
    <link rel="preload" href="/assets/css/0.styles.65787d8c.css" as="style"><link rel="preload" href="/assets/js/app.95fc12d6.js" as="script"><link rel="preload" href="/assets/js/2.abf57e2f.js" as="script"><link rel="preload" href="/assets/js/53.d8153804.js" as="script"><link rel="preload" href="/assets/js/3.e687237e.js" as="script"><link rel="prefetch" href="/assets/js/10.9d6bb65c.js"><link rel="prefetch" href="/assets/js/11.bea1ca2d.js"><link rel="prefetch" href="/assets/js/12.a5ced6a2.js"><link rel="prefetch" href="/assets/js/13.ec1bcac6.js"><link rel="prefetch" href="/assets/js/14.4e5bcc62.js"><link rel="prefetch" href="/assets/js/15.753bb2dc.js"><link rel="prefetch" href="/assets/js/16.a6e51bcc.js"><link rel="prefetch" href="/assets/js/17.25227dca.js"><link rel="prefetch" href="/assets/js/18.19267273.js"><link rel="prefetch" href="/assets/js/19.a9403a12.js"><link rel="prefetch" href="/assets/js/20.c007e659.js"><link rel="prefetch" href="/assets/js/21.dca7af69.js"><link rel="prefetch" href="/assets/js/22.d9f25771.js"><link rel="prefetch" href="/assets/js/23.2668c7ed.js"><link rel="prefetch" href="/assets/js/24.30c858a4.js"><link rel="prefetch" href="/assets/js/25.bd21abb1.js"><link rel="prefetch" href="/assets/js/26.28d250cb.js"><link rel="prefetch" href="/assets/js/27.a60d212f.js"><link rel="prefetch" href="/assets/js/28.8a5c2c34.js"><link rel="prefetch" href="/assets/js/29.4688a5d6.js"><link rel="prefetch" href="/assets/js/30.5985f3b4.js"><link rel="prefetch" href="/assets/js/31.7ee5d916.js"><link rel="prefetch" href="/assets/js/32.2f711dea.js"><link rel="prefetch" href="/assets/js/33.45a4e58a.js"><link rel="prefetch" href="/assets/js/34.6a46cad8.js"><link rel="prefetch" href="/assets/js/35.79084a19.js"><link rel="prefetch" href="/assets/js/36.9a5cf509.js"><link rel="prefetch" href="/assets/js/37.ea6b36a3.js"><link rel="prefetch" href="/assets/js/38.1ebed809.js"><link rel="prefetch" href="/assets/js/39.16200e67.js"><link rel="prefetch" href="/assets/js/4.4a0efd85.js"><link rel="prefetch" href="/assets/js/40.db1f5064.js"><link rel="prefetch" href="/assets/js/41.5c8205b4.js"><link rel="prefetch" href="/assets/js/42.d8e671a9.js"><link rel="prefetch" href="/assets/js/43.80c6d459.js"><link rel="prefetch" href="/assets/js/44.0dc33dbe.js"><link rel="prefetch" href="/assets/js/45.e623e04e.js"><link rel="prefetch" href="/assets/js/46.b9a46fc2.js"><link rel="prefetch" href="/assets/js/47.2d5eb349.js"><link rel="prefetch" href="/assets/js/48.8d4e8a09.js"><link rel="prefetch" href="/assets/js/49.f7f58461.js"><link rel="prefetch" href="/assets/js/5.84799806.js"><link rel="prefetch" href="/assets/js/50.b482896d.js"><link rel="prefetch" href="/assets/js/51.9ad2b264.js"><link rel="prefetch" href="/assets/js/52.7862671c.js"><link rel="prefetch" href="/assets/js/54.0af2674d.js"><link rel="prefetch" href="/assets/js/55.597b91b8.js"><link rel="prefetch" href="/assets/js/56.46804158.js"><link rel="prefetch" href="/assets/js/57.006f6db0.js"><link rel="prefetch" href="/assets/js/58.751e40d0.js"><link rel="prefetch" href="/assets/js/59.b0ebe0e6.js"><link rel="prefetch" href="/assets/js/6.f7ec0152.js"><link rel="prefetch" href="/assets/js/60.8d675b12.js"><link rel="prefetch" href="/assets/js/61.55190a7f.js"><link rel="prefetch" href="/assets/js/62.117f5f66.js"><link rel="prefetch" href="/assets/js/63.b848bfe2.js"><link rel="prefetch" href="/assets/js/64.000227a3.js"><link rel="prefetch" href="/assets/js/65.9ec404e1.js"><link rel="prefetch" href="/assets/js/66.1834b2b1.js"><link rel="prefetch" href="/assets/js/67.bf716de8.js"><link rel="prefetch" href="/assets/js/68.6e03054c.js"><link rel="prefetch" href="/assets/js/69.c6605c56.js"><link rel="prefetch" href="/assets/js/7.40c08f02.js"><link rel="prefetch" href="/assets/js/70.30051d78.js"><link rel="prefetch" href="/assets/js/71.1fdc7d36.js"><link rel="prefetch" href="/assets/js/72.4b0ad4ad.js"><link rel="prefetch" href="/assets/js/73.e989ab6d.js"><link rel="prefetch" href="/assets/js/74.02429c23.js"><link rel="prefetch" href="/assets/js/75.8f044cef.js"><link rel="prefetch" href="/assets/js/76.7acc2de5.js"><link rel="prefetch" href="/assets/js/77.ce127400.js"><link rel="prefetch" href="/assets/js/78.deb1ae24.js"><link rel="prefetch" href="/assets/js/79.75a4c78b.js"><link rel="prefetch" href="/assets/js/8.303c64d8.js"><link rel="prefetch" href="/assets/js/80.6c258060.js"><link rel="prefetch" href="/assets/js/81.563a0c28.js"><link rel="prefetch" href="/assets/js/82.143b4caf.js"><link rel="prefetch" href="/assets/js/83.32431b7f.js"><link rel="prefetch" href="/assets/js/84.2320a5a5.js"><link rel="prefetch" href="/assets/js/85.d9a1625a.js"><link rel="prefetch" href="/assets/js/86.dc0f47f2.js"><link rel="prefetch" href="/assets/js/87.8335157f.js"><link rel="prefetch" href="/assets/js/88.2cfc7001.js"><link rel="prefetch" href="/assets/js/89.6bc590c2.js"><link rel="prefetch" href="/assets/js/9.7ba1b2de.js"><link rel="prefetch" href="/assets/js/90.c20801a7.js"><link rel="prefetch" href="/assets/js/91.1a32fafc.js"><link rel="prefetch" href="/assets/js/92.4a802465.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65787d8c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/logo.png" alt="小宋爱睡觉" class="logo"> <span class="site-name can-hide">小宋爱睡觉</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识库" class="dropdown-title"><a href="/pages/56881f/" class="link-title">知识库</a> <span class="title" style="display:none;">知识库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56881f/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/c0e7f0/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/787250/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/f0a671/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b7238f/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/2448f7/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/b8bd46/" class="nav-link">浏览器原理</a></li><li class="dropdown-item"><!----> <a href="/pages/f15087/" class="nav-link">性能优化</a></li><li class="dropdown-item"><!----> <a href="/pages/e3cba5/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/pages/ba01c4/" class="nav-link">手写系列</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/ad5191/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8ac126/" class="nav-link">字符串</a></li><li class="dropdown-item"><!----> <a href="/pages/251490/" class="nav-link">数组</a></li><li class="dropdown-item"><!----> <a href="/pages/fc9745/" class="nav-link">链表</a></li><li class="dropdown-item"><!----> <a href="/pages/ad5191/" class="nav-link">树</a></li><li class="dropdown-item"><!----> <a href="/pages/6aee18/" class="nav-link">动态规划</a></li><li class="dropdown-item"><!----> <a href="/pages/78e948/" class="nav-link">排序算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><a href="/pages/75ee74/https://github.com/duochizhacai" class="link-title">GitHub</a> <span class="title" style="display:none;">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/duochizhacai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1249486902410744" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JueJin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识库" class="dropdown-title"><a href="/pages/56881f/" class="link-title">知识库</a> <span class="title" style="display:none;">知识库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56881f/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/c0e7f0/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/787250/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/f0a671/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b7238f/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/2448f7/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/b8bd46/" class="nav-link">浏览器原理</a></li><li class="dropdown-item"><!----> <a href="/pages/f15087/" class="nav-link">性能优化</a></li><li class="dropdown-item"><!----> <a href="/pages/e3cba5/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/pages/ba01c4/" class="nav-link">手写系列</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/ad5191/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8ac126/" class="nav-link">字符串</a></li><li class="dropdown-item"><!----> <a href="/pages/251490/" class="nav-link">数组</a></li><li class="dropdown-item"><!----> <a href="/pages/fc9745/" class="nav-link">链表</a></li><li class="dropdown-item"><!----> <a href="/pages/ad5191/" class="nav-link">树</a></li><li class="dropdown-item"><!----> <a href="/pages/6aee18/" class="nav-link">动态规划</a></li><li class="dropdown-item"><!----> <a href="/pages/78e948/" class="nav-link">排序算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><a href="/pages/75ee74/https://github.com/duochizhacai" class="link-title">GitHub</a> <span class="title" style="display:none;">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/duochizhacai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1249486902410744" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JueJin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/f15087/" class="sidebar-link">CDN</a></li><li><a href="/pages/75ee74/" aria-current="page" class="active sidebar-link">其他优化手段</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/75ee74/#如何根据chrome的timing优化" class="sidebar-link">如何根据chrome的timing优化</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#懒加载" class="sidebar-link">懒加载</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#懒加载和预加载的区别" class="sidebar-link">懒加载和预加载的区别</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#link标签的预处理" class="sidebar-link">link标签的预处理</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#介绍一下什么是回流和重绘" class="sidebar-link">介绍一下什么是回流和重绘</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#如何避免回流和重绘" class="sidebar-link">如何避免回流和重绘</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#如何优化动画" class="sidebar-link">如何优化动画</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#documentfragment是什么-用它跟直接操作dom有什么区别" class="sidebar-link">documentFragment是什么？用它跟直接操作dom有什么区别</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#介绍一下防抖和节流" class="sidebar-link">介绍一下防抖和节流</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#图片优化" class="sidebar-link">图片优化</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#移动端优化" class="sidebar-link">移动端优化</a></li><li class="sidebar-sub-header"><a href="/pages/75ee74/#面试回答性能优化怎么显得有条理" class="sidebar-link">面试回答性能优化怎么显得有条理</a></li></ul></li><li><a href="/pages/dbd005/" class="sidebar-link">Webpack优化</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><span data-v-1cd794fe>性能优化</span></li> <!----> <!----></ul> <div class="info" data-v-1cd794fe><div title="作者" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/duochizhacai" target="_blank" title="作者" class="beLink" data-v-1cd794fe>Crucials</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2021-12-16</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          其他优化手段
        </h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="如何根据chrome的timing优化"><a href="#如何根据chrome的timing优化" class="header-anchor">#</a> 如何根据<code>chrome</code>的<code>timing</code>优化<span class="badge warning" style="vertical-align:top;" data-v-d5affa18>重要</span></h2> <p><strong>性能优化<code>API</code></strong></p> <ul><li><code>Performance</code>。<code>performance.now()</code>与<code>new Date()</code>区别，它是高精度的，且是相对时间，相对于页面加载的那一刻。但是不一定适合单页面场景</li> <li><code>window.addEventListener(&quot;load&quot;, &quot;&quot;);</code> <code>window.addEventListener(&quot;domContentLoaded&quot;, &quot;&quot;);</code></li> <li><code>Img</code>的<code>onload</code>事件，监听首屏内的图片是否加载完成，判断首屏事件</li> <li><code>RequestAnmationFrame</code> 和 <code>RequestIdleCallback</code></li> <li><code>IntersectionObserver</code>、<code>MutationObserver</code>，<code>PostMessage</code></li> <li><code>Web Worker</code>，耗时任务放在里面执行</li></ul> <p><strong>检测工具</strong></p> <ul><li><code>Chrome Dev Tools</code></li> <li><code>Page Speed</code></li> <li><code>Jspref</code></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201101123827.png" alt=""></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> t <span class="token operator">=</span> performance<span class="token punctuation">.</span>timing
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DNS查询耗时 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domainLookupEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>domainLookupStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'TCP链接耗时 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>connectStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'request请求耗时 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>responseStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'解析dom树耗时 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domComplete <span class="token operator">-</span> t<span class="token punctuation">.</span>domInteractive<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'白屏时间 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'domready时间 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domContentLoadedEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onload时间 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>t <span class="token operator">=</span> performance<span class="token punctuation">.</span>memory<span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'js内存使用占比 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>usedJSHeapSize <span class="token operator">/</span> t<span class="token punctuation">.</span>totalJSHeapSize <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="懒加载"><a href="#懒加载" class="header-anchor">#</a> 懒加载</h2> <div class="custom-block tip"><p class="custom-block-title">概念：</p> <p>懒加载也叫做延迟加载、按需加载，指的是在长网页中延迟加载图片数据，是一种较好的网页性能优化的方式。在比较长的网页或应用中，如果图片很多，所有的图片都被加载出来，而用户只能看到可视窗口的那一部分图片数据，这样就浪费了性能</p></div> <p>如果使用图片的懒加载就可以解决以上问题。在滚动屏幕之前，可视化区域之外的图片不会进行加载，在滚动屏幕时才加载。这样使得网页的加载速度更快，减少了服务器的负载。懒加载适用于图片较多，页面列表较长（长列表）的场景中。</p> <p><strong>特点：</strong></p> <ul><li><p>减少无用资源的加载，减少服务器的压力和流量</p></li> <li><p>提升用户体验，减少用户等待时间</p></li> <li><p>防止加载过多图片而影响其他资源文件的加载</p></li></ul> <p>实现原理：</p> <p>图片的加载是由 <strong><code>src</code><strong>引起的，当对</strong><code>src</code></strong> 赋值时，浏览器就会请求图片资源。根据这个原理，我们使用<code>HTML5</code> 的 <strong><code>data-xxx</code><strong>属性来储存图片的路径，在需要加载图片的时候，将</strong><code>data-xxx</code><strong>中图片的路径赋值给</strong><code>src</code></strong>，这样就实现了图片的按需加载，即懒加载。</p> <p>注意：<strong><code>data-xxx</code></strong> 中的 <strong><code>xxx</code></strong> 可以自定义，这里我们使用 <strong><code>data-src</code></strong> 来定义。</p> <p>懒加载的实现重点在于确定用户需要加载哪张图片，在浏览器中，可视区域内的资源就是用户需要的资源。所以当图片出现在可视区域时，获取图片的真实地址并赋值给图片即可。</p> <p>使用原生<code>JavaScript</code>实现懒加载：</p> <p><strong>知识点：</strong></p> <p>（1）<strong><code>window.innerHeight</code></strong> 是浏览器可视区的高度</p> <p>（2）<strong><code>document.body.scrollTop || document.documentElement.scrollTop</code></strong> 是浏览器滚动的过的距离</p> <p>（3）<strong><code>imgs.offsetTop</code></strong> 是元素顶部距离文档顶部的高度（包括滚动条的距离）</p> <p>（4）图片加载条件：<strong><code>img.offsetTop &lt; window.innerHeight + document.body.scrollTop</code></strong></p> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202112181706075.png" alt="img"></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;loading.gif&quot;</span>  data<span class="token operator">-</span>src<span class="token operator">=</span><span class="token string">&quot;pic.png&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;loading.gif&quot;</span>  data<span class="token operator">-</span>src<span class="token operator">=</span><span class="token string">&quot;pic.png&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;loading.gif&quot;</span>  data<span class="token operator">-</span>src<span class="token operator">=</span><span class="token string">&quot;pic.png&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;loading.gif&quot;</span>  data<span class="token operator">-</span>src<span class="token operator">=</span><span class="token string">&quot;pic.png&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;loading.gif&quot;</span>  data<span class="token operator">-</span>src<span class="token operator">=</span><span class="token string">&quot;pic.png&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;loading.gif&quot;</span>  data<span class="token operator">-</span>src<span class="token operator">=</span><span class="token string">&quot;pic.png&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">var</span> imgs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">lozyLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">var</span> scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
		<span class="token keyword">var</span> winHeight<span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> imgs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>imgs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>offsetTop <span class="token operator">&lt;</span> scrollTop <span class="token operator">+</span> winHeight<span class="token punctuation">)</span><span class="token punctuation">{</span>
				imgs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>src <span class="token operator">=</span> imgs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-src'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
  window<span class="token punctuation">.</span>onscroll <span class="token operator">=</span> <span class="token function">lozyLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="懒加载和预加载的区别"><a href="#懒加载和预加载的区别" class="header-anchor">#</a> 懒加载和预加载的区别</h2> <p>这两种方式都是提高网页性能的方式，两者主要区别是一个是提前加载，一个是迟缓甚至不加载。懒加载对服务器前端有一定的缓解压力作用，预加载则会增加服务器前端压力。</p> <ul><li><strong>懒加载也叫延迟加载，指的是在长网页中延迟加载图片的时机，当用户需要访问时，再去加载</strong>，这样可以提高网站的首屏加载速度，提升用户的体验，并且可以减少服务器的压力。它适用于图片很多，页面很长的电商网站的场景。懒加载的实现原理是，将页面上的图片的 <code>src</code> 属性设置为空字符串，将图片的真实路径保存在一个自定义属性中，当页面滚动的时候，进行判断，如果图片进入页面可视区域内，则从自定义属性中取出真实路径赋值给图片的 <code>src</code> 属性，以此来实现图片的延迟加载。</li> <li><strong>预加载指的是将所需的资源提前请求加载到本地，这样后面在需要用到时就直接从缓存取资源。</strong> 通过预加载能够减少用户的等待时间，提高用户的体验。我了解的预加载的最常用的方式是使用 <code>js</code> 中的 <code>image</code> 对象，通过为 <code>image</code> 对象来设置 <code>src</code> 属性，来实现图片的预加载。</li></ul> <h2 id="link标签的预处理"><a href="#link标签的预处理" class="header-anchor">#</a> <code>link</code>标签的预处理<span class="badge warning" style="vertical-align:top;" data-v-d5affa18>重要</span></h2> <p><code>dns-prefetch</code>。当 <code>link</code> 标签的 <code>rel</code> 属性值为“<code>dns-prefetch</code>”时，<code>浏览器会对某个域名预先进行 DNS 解析并缓存</code>。这样，当浏览器在请求同域名资源的时候，能省去从域名查询 <code>IP</code> 的过程，从而<code>减少时间损耗</code>。下图是淘宝网设置的 <code>DNS</code> 预解析</p> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201071812835.png" alt=""></p> <ul><li><code>preconnect</code>。让浏览器在一个 <code>HTTP</code> 请求正式发给服务器前预先执行一些操作，这包括<code>DNS 解析、TLS 协商、TCP 握手</code>，通过消除往返延迟来为用户节省时间</li> <li><code>prefetch/preload</code>。两个值都是<code>让浏览器预先下载并缓存某个资源</code>，但不同的是，<code>prefetch 可能会在浏览器忙时被忽略</code>，而 <code>preload 则是一定会被预先下载</code>。</li> <li><code>prerender</code>。浏览器不仅会加载资源，还会解析执行页面，进行预渲染</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201071815371.png" alt=""></p> <h2 id="介绍一下什么是回流和重绘"><a href="#介绍一下什么是回流和重绘" class="header-anchor">#</a> 介绍一下什么是回流和重绘<span class="badge error" style="vertical-align:top;" data-v-d5affa18>特别重要</span></h2> <p><strong>回流</strong></p> <p>当渲染树中部分或者全部元素的尺寸、结构或者属性发生变化时，浏览器会重新渲染部分或者全部文档的过程就称为<strong>回流</strong>。</p> <p>下面这些操作会导致回流：</p> <ul><li><p>页面的首次渲染</p></li> <li><p>浏览器的窗口大小发生变化</p></li> <li><p>元素的内容发生变化</p></li> <li><p>元素的尺寸或者位置发生变化</p></li> <li><p>元素的字体大小发生变化</p></li> <li><p>激活<code>CSS</code>伪类</p></li> <li><p>查询某些属性或者调用某些方法</p></li> <li><p>添加或者删除可见的<code>DOM</code>元素</p></li></ul> <p>在触发回流（重排）的时候，由于浏览器渲染页面是基于<strong>流式布局</strong>的，所以当触发回流时，会导致周围的<code>DOM</code>元素重新排列，它的影响范围有两种：</p> <ul><li>全局范围：从根节点开始，对整个渲染树进行重新布局</li> <li>局部范围：对渲染树的某部分或者一个渲染对象进行重新布局</li></ul> <p><strong>重绘</strong></p> <p>当页面中某些元素的样式发生变化，但是不会影响其在文档流中的位置时，浏览器就会对元素进行重新绘制，这个过程就是<strong>重绘</strong>。</p> <p>下面这些操作会导致回流：</p> <ul><li><p><code>color</code>、<code>background</code> 相关属性：<code>background-color</code>、<code>background-image</code> 等</p></li> <li><p><code>outline</code> 相关属性：<code>outline-color</code>、<code>outline-width</code> 、<code>text-decoration</code></p></li> <li><p><code>border-radius</code>、<code>visibility</code>、<code>box-shadow</code></p></li></ul> <p>注意： <strong>当触发回流时，一定会触发重绘，但是重绘不一定会引发回流。</strong></p> <div class="custom-block note"><p class="custom-block-title">什么是流式布局</p> <p>页面元素的宽度按照屏幕分辨率进行适配调整，但整体布局不变。通常宽度是以<code>%</code>来表示，但是设置了最大宽度<code>max-width</code>和最小宽度<code>min-width</code>,分辨率发生变化的话元素大小会变，但是整体布局不变，缺点很明显是屏幕尺寸跨度大不能正常显示出来(页面元素被拉得很长，但是高度和文字大小不变)</p></div> <h2 id="如何避免回流和重绘"><a href="#如何避免回流和重绘" class="header-anchor">#</a> 如何避免回流和重绘<span class="badge warning" style="vertical-align:top;" data-v-d5affa18>重要</span></h2> <p><strong>减少回流与重绘的措施：</strong></p> <ul><li><p>操作<code>DOM</code>时，尽量在低层级的<code>DOM</code>节点进行操作</p></li> <li><p>不要使用 <strong><code>table</code></strong> 布局， 一个小的改动可能会使整个 <strong><code>table</code></strong> 进行重新布局</p></li> <li><p>使用<code>CSS</code>的表达式</p></li> <li><p>不要频繁操作元素的样式，对于静态页面，可以修改类名，而不是样式。</p></li> <li><p>使用<code>absolute</code>或者<code>fixed</code>，使元素脱离文档流，这样他们发生变化就不会影响其他元素</p></li> <li><p>避免频繁操作<code>DOM</code>，可以创建一个文档片段 <strong><code>documentFragment</code></strong> ，在它上面应用所有<code>DOM</code>操作，最后再把它添加到文档中</p></li> <li><p>将元素先设置 <strong><code>display: none</code></strong> ，操作结束后再把它显示出来。因为在<code>display</code>属性为<code>none</code>的元素上进行的<code>DOM</code>操作不会引发回流和重绘。</p></li> <li><p>将<code>DOM</code>的多个读操作（或者写操作）放在一起，而不是读写操作穿插着写。这得益于<strong>浏览器的渲染队列机制</strong>。</p></li></ul> <p>浏览器针对页面的回流与重绘，进行了自身的优化——<strong>渲染队列</strong></p> <p><strong>浏览器会将所有的回流、重绘的操作放在一个队列中，当队列中的操作到了一定的数量或者到了一定的时间间隔，浏览器就会对队列进行批处理。这样就会让多次的回流、重绘变成一次回流重绘。</strong></p> <p>上面，将多个读操作（或者写操作）放在一起，就会等所有的读操作进入队列之后执行，这样，原本应该是触发多次回流，变成了只触发一次回流。</p> <h2 id="如何优化动画"><a href="#如何优化动画" class="header-anchor">#</a> 如何优化动画</h2> <p>对于如何优化动画，我们知道，一般情况下，动画需要频繁的操作<code>DOM</code>，就就会导致页面的性能问题，我们可以将动画的 <strong><code>position</code></strong> 属性设置为 <strong><code>absolute</code></strong> 或者 <strong><code>fixed</code></strong> ，将动画脱离文档流，这样他的回流就不会影响到页面了。</p> <h2 id="documentfragment是什么-用它跟直接操作dom有什么区别"><a href="#documentfragment是什么-用它跟直接操作dom有什么区别" class="header-anchor">#</a> <code>documentFragment</code>是什么？用它跟直接操作<code>dom</code>有什么区别<span class="badge warning" style="vertical-align:top;" data-v-d5affa18>重要</span></h2> <div class="custom-block theorem"><p class="title">概念</p><p><code>DocumentFragment</code>，文档片段接口，一个没有父对象的最小文档对象。它被作为一个轻量版的 <code>Document</code>使用，就像标准的<code>document</code>一样，存储由节点（<code>nodes</code>）组成的文档结构。与<code>document</code>相比，最大的区别是<code>DocumentFragment</code><strong>不是真实 <code>DOM</code> 树的一部分</strong>，它的变化不会触发 <code>DOM</code> 树的重新渲染，且不会导致性能等问题。</p> <div class="custom-block right"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div><p>当我们把一个 <code>DocumentFragment</code> 节点插入文档树时，插入的不是 <code>DocumentFragment</code> 自身，他只是相当于一个占位符，而是它的所有子孙节点。在频繁的<code>DOM</code>操作时，我们就可以将<code>DOM</code>元素插入<code>DocumentFragment</code>，之后一次性的将所有的子孙节点插入文档中。和直接操作<code>DOM</code>相比，将<code>DocumentFragment</code> 节点插入<code>DOM</code>树时，不会引起<code>DOM</code>树的重新渲染(<code>reflow</code>),从而减少回流(一次<code>append</code>只回流一次)</p> <h2 id="介绍一下防抖和节流"><a href="#介绍一下防抖和节流" class="header-anchor">#</a> 介绍一下防抖和节流<span class="badge warning" style="vertical-align:top;" data-v-d5affa18>重要</span></h2> <ul><li>函数防抖是指在事件被触发 <code>n</code> 秒后再执行回调，如果在这 <code>n</code> 秒内事件又被触发，则重新计时。这可以使用在一些点击请求的事件上，避免因为用户的多次点击向后端发送多次请求。</li> <li>函数节流是指规定一个单位时间，在这个单位时间内，只能有一次触发事件的回调函数执行，如果在同一个单位时间内某事件被触发多次，只有一次能生效。节流可以使用在 <code>scroll</code> 函数的事件监听上，通过事件节流来降低事件调用的频率</li></ul> <p><strong>防抖函数的应用场景：</strong></p> <ul><li><p>按钮提交场景：防⽌多次提交按钮，只执⾏最后提交的⼀次</p></li> <li><p>服务端验证场景：表单验证需要服务端配合，只执⾏⼀段连续的输⼊事件的最后⼀次，还有搜索联想词功能类似⽣存环境请⽤<code>lodash.debounce</code></p></li></ul> <p><strong>节流函数的适⽤场景：</strong></p> <ul><li><p>拖拽场景：固定时间内只执⾏⼀次，防⽌超⾼频次触发位置变动</p></li> <li><p>缩放场景：监控浏览器<code>resize</code></p></li> <li><p>动画场景：避免短时间内多次触发动画引起性能问题</p></li></ul> <h2 id="图片优化"><a href="#图片优化" class="header-anchor">#</a> 图片优化</h2> <ol><li><p>不用图片。很多时候会使用到很多修饰类图片，其实这类修饰图片完全可以用 <code>CSS</code> 去代替。</p></li> <li><p>对于移动端来说，屏幕宽度就那么点，完全没有必要去加载原图浪费带宽。一般图片都用 <code>CDN</code> 加载，可以计算出适配屏幕的宽度，然后去请求相应裁剪好的图片。</p></li> <li><p>小图使用 <code>base64</code> 格式</p></li> <li><p>将多个图标文件整合到一张图片中（雪碧图）</p></li> <li><p>选择正确的图片格式：</p> <ul><li>对于能够显示 <code>WebP</code> 格式的浏览器尽量使用 <code>WebP</code> 格式。因为 <code>WebP</code> 格式具有更好的图像数据压缩算法，能带来更小的图片体积，而且拥有肉眼识别无差异的图像质量，缺点就是兼容性并不好</li> <li>小图使用 <code>PNG</code>，其实对于大部分图标这类图片，完全可以使用 <code>SVG</code> 代替</li> <li>照片使用 <code>JPEG</code></li></ul></li></ol> <h2 id="移动端优化"><a href="#移动端优化" class="header-anchor">#</a> 移动端优化</h2> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201101127391.png" alt=""></p> <h2 id="面试回答性能优化怎么显得有条理"><a href="#面试回答性能优化怎么显得有条理" class="header-anchor">#</a> 面试回答性能优化怎么显得有条理</h2> <p><strong>分点作答</strong></p> <p><mark>让文件加载更快</mark></p> <ul><li>让传输的数据包更小（压缩文件/图片）：图片压缩和文件压缩</li> <li>减少网络请求的次数：雪碧图/精灵图、节流防抖</li> <li>减少渲染的次数：缓存（<code>HTTP</code>缓存、本地缓存、<code>Vue</code>的<code>keep-alive</code>缓存等）</li></ul> <p><mark>让文件渲染更快</mark></p> <ul><li>提前渲染：<code>ssr</code>服务器端渲染</li> <li>避免渲染阻塞：<code>CSS</code>放在<code>HTML</code>的<code>head</code>中 <code>JS</code>放在<code>HTML</code>的<code>body</code>底部</li> <li>避免无用渲染：懒加载</li> <li>减少渲染次数：对<code>dom</code>查询进行缓存、将<code>dom</code>操作合并、使用减少重排的标签</li></ul> <p><strong>或者可以这样</strong></p> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202201271550063.png" alt=""><strong>其实可以参照那道输入<code>url</code>到显示全过程的问题</strong></p> <ol><li><code>DNS</code>的预解析(<code>dns-prefetch</code>)(尽量放在网页的前面)</li> <li>缓存可以避免重复加载资源 <code>etc</code>不变的资源用强缓存(<code>expires</code>, <code>cache-control:max-age</code>)... 顺序<code>cc&gt;expire</code> <ul><li>后面唠唠协商缓存<code>Last-Modified IF-Modified-Since</code> <code>Etag IF-None-Match</code></li></ul></li></ol> <div class="custom-block warning"><p class="custom-block-title">这里要注意一下</p> <p>大多数候选人都只答概念，我们可以从什么文件出发谈一下选型</p> <ul><li>对于某些不需要缓存的资源，可以使用 <code>Cache-control: no-store</code> ，表示该资源不需要缓存</li> <li>对于频繁变动的资源，可以使用 <code>Cache-Control: no-cache</code> 并配合 <code>ETag</code> 使用，表示该资源已被缓存，但是每次都会发送请求询问资源是否更新。</li> <li>对于代码文件来说，通常使用 <code>Cache-Control: max-age=31536000</code> 并配合策略缓存使用，然后对文件进行指纹处理，一旦文件名变动就会立刻下载新的文件</li></ul></div> <ol start="3"><li><p>讲完缓存可以<code>HTTP2</code>的多路复用，让多个请求复用同一个<code>TCP</code>连接，还有<code>2.0</code>的头信息压缩</p></li> <li><p>预加载：<code>preload</code> 可以对当前页面所需的脚本、样式等资源进行预加载</p></li> <li><p>预加载：有些资源不需要马上用到，但是希望尽早获取,降低首屏加载时间</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 强制浏览器请求资源，并且不会阻塞 onload 事件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://example.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">这里可以顺便提一嘴</p> <p>可以在当前页加载下一页的资源，提升速度</p></div></li> <li><p>预渲染：将下载的文件预先在后台渲染，可以使用以下代码开启预渲染</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 虽然可以提高页面的加载速度，但是要确保该页面百分百会被用户在之后打开，否则就白白浪费资源去渲染 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prerender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://crucials.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>图片懒加载(监听<code>scroll</code>、图片<code>data-src</code>)</p></li> <li><p>图片加载</p> <ol><li><code>cdn</code>加载</li> <li>小图用<code>base64</code></li> <li>多图标用雪碧图</li> <li>支持<code>webp</code>的浏览器用<code>webp</code></li> <li>用<code>svg</code>代替<code>png</code></li> <li>照片用<code>jpeg</code></li></ol></li> <li><p>其他文件优化</p> <ol><li><code>css</code>放<code>head</code></li> <li>服务端开启<code>gzip</code></li> <li><code>script</code>的<code>defer</code>和<code>async</code></li> <li>使用<code>webworker</code>另开线程执行脚本不阻塞渲染</li> <li>静态资源用<code>cdn</code>加载，避免<code>cdn</code>的域名和主站相同致携带<code>cookies</code></li></ol></li> <li><p>运行时优化</p> <ol><li><code>content</code>方面:减少<code>http</code>请求，<code>css</code>精灵图减少<code>dns</code>查询</li> <li><code>css</code>选择器...(尽量不嵌套.. <code>css3</code>开启<code>GPU</code>,使用<code>link</code>代替<code>@import</code>)</li> <li>重排重绘...</li> <li>动画优化(使用<code>requestAnimationFrame</code>代替<code>setTimeout</code>)</li></ol></li> <li><p><code>webpack</code>优化</p> <ol><li><code>webpack4+</code> 打包自动开启代码压缩</li> <li>使用<code>es6</code>模块开启<code>tree shaking</code></li> <li>路由拆分代码，按需加载</li> <li>打包的文件添加<code>hash</code>配合<code>ETag</code></li></ol></li> <li><p>监控(<mark>待完善</mark>)</p> <blockquote><p>对于代码运行错误，通常的办法是使用 <code>window.onerror</code> 拦截报错。该方法能拦截到大部分的详细报错信息，但是也有例外</p></blockquote> <ul><li>对于跨域的代码运行错误会显示 <code>Script error</code>. 对于这种情况我们需要给 <code>script</code> 标签添加 <code>crossorigin</code> 属性</li> <li>对于某些浏览器可能不会显示调用栈信息，这种情况可以通过 <code>arguments.callee.caller</code> 来做栈递归</li> <li>对于异步代码来说，可以使用 <code>catch</code> 的方式捕获错误。比如 <code>Promise</code> 可以直接使用 <code>catch</code> 函数，<code>async await</code> 可以使用 <code>try catch</code></li> <li>但是要注意线上运行的代码都是压缩过的，需要在打包时生成 <code>sourceMap</code> 文件便于 <code>debug</code>。</li> <li>对于捕获的错误需要上传给服务器，通常可以通过 <code>img</code> 标签的 <code>src</code>发起一个请求⬇️</li></ul></li></ol></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/14, 11:48:12</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/f15087/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">CDN</div></a> <a href="/pages/dbd005/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Webpack优化</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/f15087/" class="prev">CDN</a></span> <span class="next"><a href="/pages/dbd005/">Webpack优化</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/duochizhacai" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://juejin.cn/user/1249486902410744" title="JueJin" target="_blank" class="iconfont icon-juejin"></a></div> 
    Copyright © 2021-2022
    <span><a href='https://beian.miit.gov.cn'>粤ICP备2021165371号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.95fc12d6.js" defer></script><script src="/assets/js/2.abf57e2f.js" defer></script><script src="/assets/js/53.d8153804.js" defer></script><script src="/assets/js/3.e687237e.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器的渲染原理 | 小宋爱睡觉</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="🚀一个前端程序员小白的博客🌹">
    <meta name="keywords" content="blog,crucials,frontend,前端,小宋爱睡觉,博客,duochizhacai">
    <meta name="theme-color" content="#60ad81">
    
    <link rel="preload" href="/assets/css/0.styles.65787d8c.css" as="style"><link rel="preload" href="/assets/js/app.95fc12d6.js" as="script"><link rel="preload" href="/assets/js/2.abf57e2f.js" as="script"><link rel="preload" href="/assets/js/32.2f711dea.js" as="script"><link rel="preload" href="/assets/js/3.e687237e.js" as="script"><link rel="prefetch" href="/assets/js/10.9d6bb65c.js"><link rel="prefetch" href="/assets/js/11.bea1ca2d.js"><link rel="prefetch" href="/assets/js/12.a5ced6a2.js"><link rel="prefetch" href="/assets/js/13.ec1bcac6.js"><link rel="prefetch" href="/assets/js/14.4e5bcc62.js"><link rel="prefetch" href="/assets/js/15.753bb2dc.js"><link rel="prefetch" href="/assets/js/16.a6e51bcc.js"><link rel="prefetch" href="/assets/js/17.25227dca.js"><link rel="prefetch" href="/assets/js/18.19267273.js"><link rel="prefetch" href="/assets/js/19.a9403a12.js"><link rel="prefetch" href="/assets/js/20.c007e659.js"><link rel="prefetch" href="/assets/js/21.dca7af69.js"><link rel="prefetch" href="/assets/js/22.d9f25771.js"><link rel="prefetch" href="/assets/js/23.2668c7ed.js"><link rel="prefetch" href="/assets/js/24.30c858a4.js"><link rel="prefetch" href="/assets/js/25.bd21abb1.js"><link rel="prefetch" href="/assets/js/26.28d250cb.js"><link rel="prefetch" href="/assets/js/27.a60d212f.js"><link rel="prefetch" href="/assets/js/28.8a5c2c34.js"><link rel="prefetch" href="/assets/js/29.4688a5d6.js"><link rel="prefetch" href="/assets/js/30.5985f3b4.js"><link rel="prefetch" href="/assets/js/31.7ee5d916.js"><link rel="prefetch" href="/assets/js/33.45a4e58a.js"><link rel="prefetch" href="/assets/js/34.6a46cad8.js"><link rel="prefetch" href="/assets/js/35.79084a19.js"><link rel="prefetch" href="/assets/js/36.9a5cf509.js"><link rel="prefetch" href="/assets/js/37.ea6b36a3.js"><link rel="prefetch" href="/assets/js/38.1ebed809.js"><link rel="prefetch" href="/assets/js/39.16200e67.js"><link rel="prefetch" href="/assets/js/4.4a0efd85.js"><link rel="prefetch" href="/assets/js/40.db1f5064.js"><link rel="prefetch" href="/assets/js/41.5c8205b4.js"><link rel="prefetch" href="/assets/js/42.d8e671a9.js"><link rel="prefetch" href="/assets/js/43.80c6d459.js"><link rel="prefetch" href="/assets/js/44.0dc33dbe.js"><link rel="prefetch" href="/assets/js/45.e623e04e.js"><link rel="prefetch" href="/assets/js/46.b9a46fc2.js"><link rel="prefetch" href="/assets/js/47.2d5eb349.js"><link rel="prefetch" href="/assets/js/48.8d4e8a09.js"><link rel="prefetch" href="/assets/js/49.f7f58461.js"><link rel="prefetch" href="/assets/js/5.84799806.js"><link rel="prefetch" href="/assets/js/50.b482896d.js"><link rel="prefetch" href="/assets/js/51.9ad2b264.js"><link rel="prefetch" href="/assets/js/52.7862671c.js"><link rel="prefetch" href="/assets/js/53.d8153804.js"><link rel="prefetch" href="/assets/js/54.0af2674d.js"><link rel="prefetch" href="/assets/js/55.597b91b8.js"><link rel="prefetch" href="/assets/js/56.46804158.js"><link rel="prefetch" href="/assets/js/57.006f6db0.js"><link rel="prefetch" href="/assets/js/58.751e40d0.js"><link rel="prefetch" href="/assets/js/59.b0ebe0e6.js"><link rel="prefetch" href="/assets/js/6.f7ec0152.js"><link rel="prefetch" href="/assets/js/60.8d675b12.js"><link rel="prefetch" href="/assets/js/61.55190a7f.js"><link rel="prefetch" href="/assets/js/62.117f5f66.js"><link rel="prefetch" href="/assets/js/63.b848bfe2.js"><link rel="prefetch" href="/assets/js/64.000227a3.js"><link rel="prefetch" href="/assets/js/65.9ec404e1.js"><link rel="prefetch" href="/assets/js/66.1834b2b1.js"><link rel="prefetch" href="/assets/js/67.bf716de8.js"><link rel="prefetch" href="/assets/js/68.6e03054c.js"><link rel="prefetch" href="/assets/js/69.c6605c56.js"><link rel="prefetch" href="/assets/js/7.40c08f02.js"><link rel="prefetch" href="/assets/js/70.30051d78.js"><link rel="prefetch" href="/assets/js/71.1fdc7d36.js"><link rel="prefetch" href="/assets/js/72.4b0ad4ad.js"><link rel="prefetch" href="/assets/js/73.e989ab6d.js"><link rel="prefetch" href="/assets/js/74.02429c23.js"><link rel="prefetch" href="/assets/js/75.8f044cef.js"><link rel="prefetch" href="/assets/js/76.7acc2de5.js"><link rel="prefetch" href="/assets/js/77.ce127400.js"><link rel="prefetch" href="/assets/js/78.deb1ae24.js"><link rel="prefetch" href="/assets/js/79.75a4c78b.js"><link rel="prefetch" href="/assets/js/8.303c64d8.js"><link rel="prefetch" href="/assets/js/80.6c258060.js"><link rel="prefetch" href="/assets/js/81.563a0c28.js"><link rel="prefetch" href="/assets/js/82.143b4caf.js"><link rel="prefetch" href="/assets/js/83.32431b7f.js"><link rel="prefetch" href="/assets/js/84.2320a5a5.js"><link rel="prefetch" href="/assets/js/85.d9a1625a.js"><link rel="prefetch" href="/assets/js/86.dc0f47f2.js"><link rel="prefetch" href="/assets/js/87.8335157f.js"><link rel="prefetch" href="/assets/js/88.2cfc7001.js"><link rel="prefetch" href="/assets/js/89.6bc590c2.js"><link rel="prefetch" href="/assets/js/9.7ba1b2de.js"><link rel="prefetch" href="/assets/js/90.c20801a7.js"><link rel="prefetch" href="/assets/js/91.1a32fafc.js"><link rel="prefetch" href="/assets/js/92.4a802465.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65787d8c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/logo.png" alt="小宋爱睡觉" class="logo"> <span class="site-name can-hide">小宋爱睡觉</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识库" class="dropdown-title"><a href="/pages/56881f/" class="link-title">知识库</a> <span class="title" style="display:none;">知识库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56881f/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/c0e7f0/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/787250/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/f0a671/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b7238f/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/2448f7/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/b8bd46/" class="nav-link">浏览器原理</a></li><li class="dropdown-item"><!----> <a href="/pages/f15087/" class="nav-link">性能优化</a></li><li class="dropdown-item"><!----> <a href="/pages/e3cba5/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/pages/ba01c4/" class="nav-link">手写系列</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/ad5191/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8ac126/" class="nav-link">字符串</a></li><li class="dropdown-item"><!----> <a href="/pages/251490/" class="nav-link">数组</a></li><li class="dropdown-item"><!----> <a href="/pages/fc9745/" class="nav-link">链表</a></li><li class="dropdown-item"><!----> <a href="/pages/ad5191/" class="nav-link">树</a></li><li class="dropdown-item"><!----> <a href="/pages/6aee18/" class="nav-link">动态规划</a></li><li class="dropdown-item"><!----> <a href="/pages/78e948/" class="nav-link">排序算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><a href="/pages/ddc8b3/https://github.com/duochizhacai" class="link-title">GitHub</a> <span class="title" style="display:none;">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/duochizhacai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1249486902410744" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JueJin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识库" class="dropdown-title"><a href="/pages/56881f/" class="link-title">知识库</a> <span class="title" style="display:none;">知识库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56881f/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/c0e7f0/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/787250/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/f0a671/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b7238f/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/2448f7/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/pages/b8bd46/" class="nav-link">浏览器原理</a></li><li class="dropdown-item"><!----> <a href="/pages/f15087/" class="nav-link">性能优化</a></li><li class="dropdown-item"><!----> <a href="/pages/e3cba5/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/pages/ba01c4/" class="nav-link">手写系列</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/ad5191/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8ac126/" class="nav-link">字符串</a></li><li class="dropdown-item"><!----> <a href="/pages/251490/" class="nav-link">数组</a></li><li class="dropdown-item"><!----> <a href="/pages/fc9745/" class="nav-link">链表</a></li><li class="dropdown-item"><!----> <a href="/pages/ad5191/" class="nav-link">树</a></li><li class="dropdown-item"><!----> <a href="/pages/6aee18/" class="nav-link">动态规划</a></li><li class="dropdown-item"><!----> <a href="/pages/78e948/" class="nav-link">排序算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><a href="/pages/ddc8b3/https://github.com/duochizhacai" class="link-title">GitHub</a> <span class="title" style="display:none;">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/duochizhacai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1249486902410744" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JueJin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/b8bd46/" class="sidebar-link">网络攻击与防范</a></li><li><a href="/pages/f06706/" class="sidebar-link">进程和线程</a></li><li><a href="/pages/093a15/" class="sidebar-link">浏览器缓存</a></li><li><a href="/pages/7c5778/" class="sidebar-link">浏览器的存储</a></li><li><a href="/pages/ddc8b3/" aria-current="page" class="active sidebar-link">浏览器的渲染原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/ddc8b3/#简述一下浏览器的渲染过程" class="sidebar-link">简述一下浏览器的渲染过程</a></li><li class="sidebar-sub-header"><a href="/pages/ddc8b3/#介绍一下浏览器的渲染优化" class="sidebar-link">介绍一下浏览器的渲染优化</a></li><li class="sidebar-sub-header"><a href="/pages/ddc8b3/#渲染过程中遇到的js文件如何处理" class="sidebar-link">渲染过程中遇到的js文件如何处理</a></li><li class="sidebar-sub-header"><a href="/pages/ddc8b3/#什么是文档的预解析" class="sidebar-link">什么是文档的预解析</a></li><li class="sidebar-sub-header"><a href="/pages/ddc8b3/#css如何阻塞文档解析" class="sidebar-link">CSS如何阻塞文档解析</a></li><li class="sidebar-sub-header"><a href="/pages/ddc8b3/#js脚本放在头部一定会造成阻塞吗" class="sidebar-link">js脚本放在头部一定会造成阻塞吗</a></li><li class="sidebar-sub-header"><a href="/pages/ddc8b3/#如何优化关键渲染路径" class="sidebar-link">如何优化关键渲染路径</a></li><li class="sidebar-sub-header"><a href="/pages/ddc8b3/#什么情况下会阻塞渲染" class="sidebar-link">什么情况下会阻塞渲染</a></li></ul></li><li><a href="/pages/25740e/" class="sidebar-link">浏览器的同源策略</a></li><li><a href="/pages/71ccfb/" class="sidebar-link">浏览器的事件循环</a></li><li><a href="/pages/98f37c/" class="sidebar-link">浏览器的垃圾回收机制</a></li><li><a href="/pages/e0ddcc/" class="sidebar-link">浏览器组成</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><span data-v-1cd794fe>浏览器原理</span></li> <!----> <!----></ul> <div class="info" data-v-1cd794fe><div title="作者" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/duochizhacai" target="_blank" title="作者" class="beLink" data-v-1cd794fe>Crucials</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2021-12-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          浏览器的渲染原理
        </h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="浏览器的渲染原理"><a href="#浏览器的渲染原理" class="header-anchor">#</a> 浏览器的渲染原理</h1> <h2 id="简述一下浏览器的渲染过程"><a href="#简述一下浏览器的渲染过程" class="header-anchor">#</a> 简述一下浏览器的渲染过程<span class="badge warning" style="vertical-align:top;" data-v-d5affa18>重要</span></h2> <ul><li><p>首先解析收到的文档，根据文档的定义构建一棵<code>DOM</code>树，<code>DOM</code>树是由<code>DOM</code>元素及属性节点组成的</p></li> <li><p>然后对<code>css</code>进行解析，生成<code>CSSOM</code>树</p></li> <li><p>根据<code>DOM</code>树和<code>CSSOM</code>树构建<code>render</code>树，渲染树的节点被称为渲染对象，渲染对象是一个包含有颜色和大小等属性的矩形，渲染对象和<code>DOM</code>元素相对应，但是不可见的<code>DOM</code>元素不会被插入<code>render</code>树上，还有一个<code>dom</code>元素对应几个可见对象，是一些具有复杂结构的元素，无法用矩形来描述</p></li> <li><p>当渲染对象被创建并添加到树中，他们没有位置和大小，所以当浏览器生成<code>render</code>树之后，会根据<code>render</code>树进行<strong>布局</strong>(也可以叫回流)，此时浏览器要弄清楚各个节点在页面的确切位置和大小，也被称为自动重排</p></li> <li><p>布局结束后是<strong>绘制阶段</strong>，遍历渲染树并调用渲染对象的<code>paint</code>方法将内容显示在屏幕上，绘制使用<code>UI</code>基础组件</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/duochizhacai/generatePic/img/202112161516986.png" alt="img"></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>这个过程是逐步完成的，为了更好的用户体验，渲染引擎将会尽可能早的将内容呈现到屏幕上，并不会等到所有的<code>html</code> 都解析完成之后再去构建和布局 <code>render</code> 树。它是解析完一部分内容就显示一部分内容，同时，可能还在通过网络下载其余内容</p></div> <h2 id="介绍一下浏览器的渲染优化"><a href="#介绍一下浏览器的渲染优化" class="header-anchor">#</a> 介绍一下浏览器的渲染优化</h2> <ul><li><p>针对<code>JS</code>：<code>js</code>会阻塞<code>html</code>解析，也会阻塞<code>css</code>解析</p> <ul><li>尽量将<code>js</code>文件放在<code>body</code>最后</li> <li><code>body</code>中间尽量不要写<code>script</code>标签</li> <li><code>script</code>的三种引入方式
<ul><li><strong><code>&lt;script&gt;</code></strong> 立即停止页面渲染去加载资源文件，当资源加载完毕后立即执行<code>js</code>代码，<code>js</code>代码执行完毕后继续渲染页面；</li> <li><strong><code>async</code></strong> 是在下载完成之后，立即异步加载，加载好后立即执行，多个带<code>async</code>属性的标签，不能保证加载的顺序；</li> <li><strong><code>defer</code></strong> 是在下载完成之后，立即异步加载。加载好后，如果 <code>DOM</code> 树还没构建好，则先等 <code>DOM</code> 树解析好再执行；如果<code>DOM</code>树已经准备好，则立即执行。多个带<code>defer</code>属性的标签，按照顺序执行。</li></ul></li></ul></li> <li><p>针对<code>CSS</code>：使用<code>css</code>的方法：<code>link</code> <code>@import</code> 内联样式</p> <ul><li><p><code>link</code>：浏览器会派发一个线程（<code>http</code>线程）去加载资源文件，同时<code>GUI</code>渲染线程会继续向下渲染代码</p></li> <li><p><code>@import</code>：<code>GUI</code>渲染线程会暂停渲染，去服务器加载资源文件，资源文件没返回之前不会继续渲染(阻碍浏览器渲染)</p></li> <li><p>内联样式：<code>GUI</code>线程直接渲染</p> <div class="custom-block warning"><p class="custom-block-title">注意⚠️</p> <p>外部样式如果长时间没有加载完毕，浏览器为了用户体验，会使用浏览器会默认样式，确保首次渲染的速度。所以<code>CSS</code>一般写在<code>header</code>中，让浏览器尽快发送请求去获取<code>css</code>样式。所以，在开发过程中，导入外部样式使用<code>link</code>，而不用<code>@import</code>。如果<code>css</code>少，尽可能采用内嵌样式，直接写在<code>style</code>标签中</p></div></li></ul></li> <li><p>针对<code>DOM</code>树 <code>CSSOM</code>树</p> <ul><li><code>html</code>文件代码层级尽量不要太深</li> <li>使用语义化标签，避免不标准语义化的特殊处理</li> <li>减少<code>css</code>代码的层级，因为选择器是从右向左进行解析的</li></ul></li> <li><p>减少回流和重绘</p> <ul><li>操作<code>dom</code>时，尽量在底层级的<code>dom</code>节点进行操作</li> <li>不要使用<code>table</code>，一个小的改动会使整个<code>table</code>进行重新布局</li> <li>不能频繁操作元素的样式，对于静态页面，尽量修改类名，而不是样式</li> <li>使用<code>css</code>表达式</li> <li>使用<code>absolute</code>或者<code>fixed</code>，使元素脱离文档流，这样发生变化不会影响其他元素</li> <li>避免频繁操作<code>dom</code>，可以<mark>创建一个文档片段，<code>documentFragment</code>,在他上面应用所有<code>dom</code>操作，然后把他添加到文档中</mark></li> <li>将元素先<code>display：none</code>，操作结束后再把他显示出来，因为<code>display</code>为<code>none</code>中进行<code>dom</code>操作不会引发回流和重绘</li> <li>将<code>dom</code>的多个读写操作放在一个，而不是读写操作穿插，得益于浏览器的渲染队列机制</li></ul> <div class="custom-block warning"><p class="custom-block-title">值得注意的是⚠️</p> <p><strong>浏览器会将所有的回流、重绘的操作放在一个队列中，当队列中的操作到了一定的数量或者到了一定的时间间隔，浏览器就会对队列进行批处理。这样就会让多次的回流、重绘变成一次回流重绘。</strong> 将多个读操作（或者写操作）放在一起，就会等所有的读操作进入队列之后执行，这样，原本应该是触发多次回流，变成了只触发一次回流。</p></div></li></ul> <h2 id="渲染过程中遇到的js文件如何处理"><a href="#渲染过程中遇到的js文件如何处理" class="header-anchor">#</a> 渲染过程中遇到的<code>js</code>文件如何处理</h2> <p><code>js</code>的加载、解析和执行会阻塞文档的解析，也就是说在构建<code>dom</code>是，<code>html</code>解析器遇到<code>js</code>的话会暂停文档的解析，然后将控制权移交给<code>JS</code>引擎，等他完成之后浏览器再从中断等地方恢复继续解析文档，也就是说，如果想要首屏渲染地越快，就越不应该再首屏加载<code>JS</code>文件，还是建议把<code>script</code>放到<code>body</code>的底部，或者加上<code>defer</code>或<code>async</code></p> <h2 id="什么是文档的预解析"><a href="#什么是文档的预解析" class="header-anchor">#</a> 什么是文档的预解析</h2> <p><code>webkit</code>和<code>firefox</code>都做了优化，当执行<code>JS</code>脚本的时候，另一个线程解析剩下的文档并加载后面需要用到的网络资源，这种方式可以使资源并行加载从而使整体速度更快，值得注意的是预解析并不改变<code>dom</code>树，他将整个工作留给了主解析过程，自己只<strong>解析外部资源的引用，比如外部<code>script</code>、<code>css</code>、<code>image</code></strong></p> <h2 id="css如何阻塞文档解析"><a href="#css如何阻塞文档解析" class="header-anchor">#</a> <code>CSS</code>如何阻塞文档解析</h2> <p>理论上即使<code>css</code>不改变<code>dom</code>树，也就没有必要停下文档的解析等待他们，然而当<code>JS</code>执行时可能在文档解析过程中请求样式信息，<strong>如果样式还没有加载和解析，脚本将得到错误的值</strong>，显然会导致很多问题，所以如果浏览器尚未完成 <code>CSSOM</code> 的下载和构建，而我们却想在此时运行脚本，那么浏览器将延迟 <code>JavaScript</code> 脚本执行和文档的解析，直至其完成 <code>CSSOM</code> 的下载和构建。也就是说，在这种情况下，浏览器会先下载和构建 <code>CSSOM</code>，然后再执行 <code>JavaScript</code>，最后再继续文档的解析</p> <h2 id="js脚本放在头部一定会造成阻塞吗"><a href="#js脚本放在头部一定会造成阻塞吗" class="header-anchor">#</a> <code>js</code>脚本放在头部一定会造成阻塞吗</h2> <p>不一定会</p> <p>如果<code>js</code>并没有引用<code>dom</code>的话就不会造成阻塞，当然也不排除其他情况阻塞，但是并不会一定造成阻塞</p> <h2 id="如何优化关键渲染路径"><a href="#如何优化关键渲染路径" class="header-anchor">#</a> 如何优化关键渲染路径</h2> <p>为了尽快完成首次渲染，需要最大限度减小以下三种可变因素</p> <ul><li><p>关键资源的数量</p></li> <li><p>关键路径长度</p></li> <li><p>关键字节的数量</p></li></ul> <blockquote><p>关键资源是可能阻止网页首次渲染的资源。</p></blockquote> <p>这些资源越少，浏览器的工作量就越小，对 <code>CPU</code> 以及其他资源的占用也就越少。同样，<strong>关键路径长度受所有关键资源与其字节大小之间</strong>依赖关系图的影响：某些资源只能在上一资源处理完毕之后才能开始下载，并且资源越大，下载所需的往返次数就越多。</p> <p>最后，浏览器需要下载的关键字节越少，处理内容并让其出现在屏幕上的速度就越快。要减少字节数，我们可以减少资源数（将它们删除或设为非关键资源），此外还要压缩和优化各项资源，确保最大限度减小传送大小。</p> <p>优化关键渲染路径的常规步骤如下：</p> <ol><li>对关键路径进行分析和特性描述：资源数、字节数、长度。</li> <li>最大限度减少关键资源的数量：删除它们，延迟它们的下载，将它们标记为异步等。</li> <li>优化关键字节数以缩短下载时间（往返次数）。</li> <li>优化其余关键资源的加载顺序：您需要尽早下载所有关键资源，以缩短关键路径长度</li></ol> <h2 id="什么情况下会阻塞渲染"><a href="#什么情况下会阻塞渲染" class="header-anchor">#</a> 什么情况下会阻塞渲染</h2> <p>首先渲染的前提是生成<code>render</code>树，所以<code>html</code>和<code>css</code>肯定会阻止渲染，如果想更快，那只能降低文件大小或者压缩，扁平层级，优化选择器。然后当浏览器解析到<code>script</code>标签时，会暂停构建<code>DOM</code>，完成之后才会从暂停的地方重新开始，所以想更快，就<strong>不应该在首屏加载<code>JS</code>文件，全是建议在<code>body</code>标签底部写入<code>script</code>标签的</strong></p> <p>或者给<code>script</code>标签加上<code>defer</code>或者<code>async</code>属性，都会并行下载，同时不会阻塞渲染</p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/21, 11:27:08</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/7c5778/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">浏览器的存储</div></a> <a href="/pages/25740e/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">浏览器的同源策略</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/7c5778/" class="prev">浏览器的存储</a></span> <span class="next"><a href="/pages/25740e/">浏览器的同源策略</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/duochizhacai" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://juejin.cn/user/1249486902410744" title="JueJin" target="_blank" class="iconfont icon-juejin"></a></div> 
    Copyright © 2021-2022
    <span><a href='https://beian.miit.gov.cn'>粤ICP备2021165371号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.95fc12d6.js" defer></script><script src="/assets/js/2.abf57e2f.js" defer></script><script src="/assets/js/32.2f711dea.js" defer></script><script src="/assets/js/3.e687237e.js" defer></script>
  </body>
</html>
